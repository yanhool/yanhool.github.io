<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yanhool的小站</title>
  
  
  <link href="https://yanhool.github.io/atom.xml" rel="self"/>
  
  <link href="https://yanhool.github.io/"/>
  <updated>2023-03-26T13:55:00.000Z</updated>
  <id>https://yanhool.github.io/</id>
  
  <author>
    <name>Yanhool🥝</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mysql学习笔记</title>
    <link href="https://yanhool.github.io/posts/20230326d.html"/>
    <id>https://yanhool.github.io/posts/20230326d.html</id>
    <published>2023-03-26T01:19:03.000Z</published>
    <updated>2023-03-26T13:55:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Mysql</h1><blockquote><p>范式设计<br>SQL<br>索引<br>存储引擎<br>事务<br>锁+MVCC<br>日志<br>主从复制+读写分离<br>数据库中间件<br>分库分表</p></blockquote><h2 id="1-Mysql基础">1.Mysql基础</h2><p>MySQL的服务器模型采用的是1/O复用+可伸缩的线程池，是实现网络服务器的经典模型</p><p>采用select+线程池  不用epoll是考虑到磁盘IO</p><h3 id="1-1数据类型">1.1数据类型</h3><p>MySQL数据类型定义了数据的大小范围，因此使用时选择合适的类型，不仅会降低表占用的磁盘空间，</p><p>间接减少了磁盘I/O的次数，提高了表的访问效率，而且索引的效率也和数据的类型息息相关。</p><p><strong>数值类型</strong></p><p><img src="https://s1.vika.cn/space/2023/03/25/05111f79938b494c977c247839e41b01" alt=""></p><p>age INT(9) ? : 整形占用内存的大小是固定的，和具体的类型时强相关的。(M)只是代表整数显示的宽度</p><p><strong>字符串类型</strong></p><p><img src="https://s1.vika.cn/space/2023/03/25/383f6ddcbf214e34bf0cb33d0fa2e5c0" alt=""></p><p><strong>日期和时间类型</strong></p><p><img src="https://s1.vika.cn/space/2023/03/26/2ed7e3e1e1204303b5dfd94f36a0f0b6" alt=""></p><p>​  日期类型也是做项目过程中，经常使用的类型信息，尤其是TIMESTAMP和DATETIME两个类型，但是注</p><p>意TIMESTAMP会自动更新时间，非常适合那些需要记录最新更新时间的场景，而DATETIME需要手动更</p><p>新。</p><p><strong>enum</strong>和<strong>set</strong></p><p>这两个类型，都是限制该字段只能取固定的值，但是枚举字段只能取一个唯一的值，而集合字段可以取</p><p>任意个值。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sex enum(<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;W&#x27;</span>)<span class="keyword">default</span> <span class="string">&#x27;M&#x27;</span> #给其它值会报错</span><br></pre></td></tr></table></figure><h3 id="1-2运算符">1.2运算符</h3><p><strong>算数运算符</strong></p><p><img src="https://s1.vika.cn/space/2023/03/25/3d6a949ff53249bb970c17128754fefa" alt=""></p><p><strong>逻辑运算符</strong></p><p><img src="https://s1.vika.cn/space/2023/03/25/4afe543c10f54413be6afe4175e1079d" alt=""></p><p><strong>比较运算符</strong></p><p><img src="https://s1.vika.cn/space/2023/03/25/b855b00581174fb2a310d3ca4b2a483d" alt=""></p><h3 id="1-3完整性约束">1.3完整性约束</h3><p><strong>主键约束</strong></p><p>primary key （一个表只能有一个主键）</p><p><strong>自增键约束</strong></p><p>auto_increment</p><p><strong>唯一键约束</strong></p><p>unique （可以为NULL，一个表可以有多个唯一键）</p><p><strong>非空约束</strong></p><p>not null</p><p><strong>默认值约束</strong></p><p>default</p><p><strong>外键约束</strong></p><p>foreign key</p><blockquote><p>两张表都某些数据有关联</p><p>比如说学生信息表有张三，考试信息表也有张三的信息，如果删除学生信息表张三的信息而不去管考试信息表，则会造成试信息表张三的信息孤悬，造成脏数据。</p><p>因此需要外键约束。</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span>(</span><br><span class="line">id <span class="type">INT</span> UNSIGNED <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT<span class="string">&#x27;用户的主键id&#x27;</span>,</span><br><span class="line">nickname <span class="type">VARCHAR</span>(<span class="number">5</span>O)<span class="keyword">UNIQUE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;用户的E称&#x27;</span>，</span><br><span class="line">age TINYINT UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">18</span>,</span><br><span class="line">sex ENUM(<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;female&#x27;</span>));</span><br></pre></td></tr></table></figure><hr><h2 id="2-关系型数据库范式">2.关系型数据库范式</h2><p>应用数据库范式可以带来许多好处，但是最重要的好处归结为三点：<br>1）减少数据冗余（这是最主要的好处，其他好处都是由此而附带的）<br>2）消除异常（插入异常，更新异常，删除异常）<br>3）让数据组织的更加和谐<br>但是数据库范式绝对不是越高越好，范式越高，意味着表越多，多表联合查询的机率就越大，SQL的效率就变低。</p><p><strong>第一范式（1NF）</strong></p><div class="note info no-icon flat"><p>每一列保持原子特性</p></div><p>列都是基本数据项，不能够再进行分割，否则设计成一对多的实体关系。例如表中的地址字段，可以再细分为省，市，区等不可再分割（即原子特性）的字段。</p><p><strong>第二范式（2NF）</strong></p><div class="note info no-icon flat"><p>属性完全依赖于主键-主要针对联合主键(多个数据项一起组成主键)</p></div><p>非主属性完全依赖于主关键字，如果不是完全依赖主键，应该拆分成新的实体，设计成一对多的实体关系。</p><p>例如：选课关系表为SelectCourse(学号, 姓名, 年龄, 课程名称, 成绩, 学分)，其中（学号，课程名称）是联合主键，但是学分字段只和课程名称有关，和学号无关，（姓名,年龄）和课程名称无关，相当于只依赖联合主键的其中一个字段，不符合第二范式。</p><p><strong>第三范式（3NF）</strong></p><div class="note info no-icon flat"><p>属性不依赖于其它非主属性</p></div><p>要求一个数据库表中不包含已在其它表中已包含的非主关键字信息。</p><p>示例：学生关系表为Student（学号， 姓名， 年龄， 所在学院， 学院地点， 学院电话），学号是主键，但是学院电话只依赖于所在学院，并不依赖于主键学号，因此该设计不符合第三范式，应该把学院专门设计成一张表，学生表和学院表，两个是一对多的关系。</p><div class="note warning simple"><p>注意：一般关系型数据库满足第三范式就可以了</p></div><p><strong>BC范式（BCNF）</strong></p><div class="note info no-icon flat"><p>每个表中只有一个候选键</p></div><p>简单的说，BC范式是在第三范式的基础上的一种特殊情况，即每个表中只有一个<strong>候选键（在一个数据库中每行的值都不相同，则可称为候选键）</strong>。每一个员工的email都是唯一的（不可能两个人用同一个email），则此表不符合BC范式.</p><p><strong>第四范式（4NF）</strong></p><div class="note info no-icon flat"><p>消除表中的多值依赖</p></div><p>简单来说，第四范式就是要消除表中的多值依赖，也就是说可以减少维护数据一致性的工作。假设有skill技能这个字段，有的人是“java，mysql”，有的人描述的是“Java，MySQL”，这样数据就不一致了，解决办法就是将多值属性放入一个新表。</p><blockquote><p>应用的范式越高，表越多。表多会带来很多问题：<br><strong>1、查询时需要连接多个表，增加了SQL查询的复杂度<br>2、查询时需要连接多个表，降低了数据库查询性能</strong><br>因此，并不是应用的范式越高越好，视实际情况而定。第三范式已经很大程度上减少了数据冗余，并且基本预防了数据插入异常，更新异常，和删除异常了。</p></blockquote><h2 id="3-SQL语句">3.SQL语句</h2><h3 id="3-1基础操作">3.1基础操作</h3><p>SQL是结构化查询语言（Structure Query Language），它是关系型数据库的通用语言。</p><div class="tabs" id="sql01"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#sql01-1">标签语法</button></li><li class="tab"><button type="button" data-href="#sql01-2">部分显示结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="sql01-1"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"># 库操作</span><br><span class="line"><span class="keyword">show</span> databases;# 查询数据库</span><br><span class="line"><span class="keyword">create</span> database ChatDB; # 创建数据库</span><br><span class="line"><span class="keyword">drop</span> database ChatDB; #删除数据库</span><br><span class="line">use ChatDB; #选择数据库</span><br><span class="line"></span><br><span class="line"># 表操作</span><br><span class="line"><span class="keyword">show</span> tables; # 查看表</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(id <span class="type">int</span> unsigned <span class="keyword">primary</span> key <span class="keyword">not</span> <span class="keyword">null</span> auto_increment, # 创建表</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">age tinyint <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">sex enum(<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;W&#x27;</span>) <span class="keyword">not</span> <span class="keyword">null</span>)engine<span class="operator">=</span>INNODB <span class="keyword">default</span> charset<span class="operator">=</span>utf8;</span><br><span class="line"><span class="keyword">desc</span> <span class="keyword">user</span>; #查看表结构</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>; # 查看建表<span class="keyword">sql</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">user</span>; # 删除表里面的数据也删除</span><br><span class="line"></span><br><span class="line"># <span class="keyword">insert</span>增加</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(nickname, name, age, sex) <span class="keyword">values</span>(<span class="string">&#x27;fixbug&#x27;</span>, <span class="string">&#x27;zhang san&#x27;</span>, <span class="number">22</span>,<span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(nickname, name, age, sex) <span class="keyword">values</span>(<span class="string">&#x27;666&#x27;</span>, <span class="string">&#x27;li si&#x27;</span>, <span class="number">21</span>, <span class="string">&#x27;W&#x27;</span>),(<span class="string">&#x27;888&#x27;</span>, <span class="string">&#x27;gao yang&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># <span class="keyword">update</span>修改</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> age<span class="operator">=</span><span class="number">23</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;zhang san&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> age<span class="operator">=</span>age<span class="operator">+</span><span class="number">1</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"># <span class="keyword">delete</span>删除 只删除表中的数据不删除表</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> age<span class="operator">=</span><span class="number">23</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">20</span> <span class="keyword">and</span> <span class="number">22</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"># <span class="keyword">select</span>查询</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">select</span> id,name <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sex<span class="operator">=</span><span class="string">&#x27;M&#x27;</span> <span class="keyword">and</span> age<span class="operator">&gt;=</span><span class="number">20</span> <span class="keyword">and</span> age<span class="operator">&lt;=</span><span class="number">25</span>;</span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sex<span class="operator">=</span><span class="string">&#x27;M&#x27;</span> <span class="keyword">and</span> age <span class="keyword">between</span> <span class="number">20</span> <span class="keyword">and</span> <span class="number">25</span>;</span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sex<span class="operator">=</span><span class="string">&#x27;W&#x27;</span> <span class="keyword">or</span> age<span class="operator">&gt;=</span><span class="number">22</span>;</span><br><span class="line"></span><br><span class="line"># 去重<span class="keyword">distinct</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> age <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"># 空值查询 <span class="keyword">is</span> [<span class="keyword">not</span>] <span class="keyword">null</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> name <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"># 带<span class="keyword">in</span>子查询 [<span class="keyword">NOT</span>] <span class="keyword">IN</span>(元素<span class="number">1</span>，元素<span class="number">2</span>，...，元素<span class="number">3</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> id <span class="keyword">in</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> id <span class="keyword">not</span> <span class="keyword">in</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> id <span class="keyword">in</span>(<span class="keyword">select</span> stu_id <span class="keyword">from</span> grade <span class="keyword">where</span> average<span class="operator">&gt;=</span><span class="number">60.0</span>)</span><br><span class="line"></span><br><span class="line"># <span class="keyword">union</span>合并查询</span><br><span class="line"><span class="keyword">SELECT</span> expression1, expression2, ... expression_n</span><br><span class="line"><span class="keyword">FROM</span> tables[<span class="keyword">WHERE</span> conditions]</span><br><span class="line"><span class="keyword">UNION</span> [<span class="keyword">ALL</span> <span class="operator">|</span> <span class="keyword">DISTINCT</span>] # 注意：<span class="keyword">union</span>默认去重，不用修饰<span class="keyword">distinct</span>，<span class="keyword">all</span>表示显示所有重复值</span><br><span class="line"><span class="keyword">SELECT</span> expression1, expression2, ... expression_n</span><br><span class="line"><span class="keyword">FROM</span> tables[<span class="keyword">WHERE</span> conditions];</span><br><span class="line"><span class="keyword">SELECT</span> country <span class="keyword">FROM</span> Websites <span class="keyword">UNION</span> <span class="keyword">ALL</span> <span class="keyword">SELECT</span> country <span class="keyword">FROM</span> apps <span class="keyword">ORDER</span> <span class="keyword">BY</span> country;</span><br><span class="line"></span><br><span class="line"># 分页查询 <span class="keyword">select</span>选择显示数据段的多少也十分影响查询效率</span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span> limit <span class="number">10</span>; # 只显示前<span class="number">10</span>个 相当于 <span class="number">0</span>,<span class="number">10</span></span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span> limit <span class="number">2000</span>,<span class="number">10</span>; # <span class="keyword">offset</span>,lines</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> limit (pageNo<span class="number">-1</span>)<span class="operator">*</span>pagenum,pagenum; # 当数据量大时，后面的页面查询速度会越来越慢，因为都是从第一条数据开始查找，所以需要用索引的数据段辅助查询</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> id<span class="operator">&gt;</span>上一页最后一条数据的id值 limit <span class="number">20</span>:</span><br><span class="line"></span><br><span class="line"># 排序<span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sex<span class="operator">=</span><span class="string">&#x27;M&#x27;</span> <span class="keyword">and</span> age<span class="operator">&gt;=</span><span class="number">20</span> <span class="keyword">and</span> age<span class="operator">&lt;=</span><span class="number">25</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>; # 升序</span><br><span class="line"><span class="keyword">select</span> id,nickname,name,age,sex <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> sex<span class="operator">=</span><span class="string">&#x27;M&#x27;</span> <span class="keyword">and</span> age<span class="operator">&gt;=</span><span class="number">20</span> <span class="keyword">and</span> age<span class="operator">&lt;=</span><span class="number">25</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span>; # 降序</span><br><span class="line"></span><br><span class="line"># 分组<span class="keyword">group</span> <span class="keyword">by</span> </span><br><span class="line"><span class="keyword">select</span> sex <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">group</span> <span class="keyword">by</span> sex;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(id),sex <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">group</span> <span class="keyword">by</span> sex;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(id),age <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">group</span> <span class="keyword">by</span> age <span class="keyword">having</span> age<span class="operator">&gt;</span><span class="number">16</span>; # <span class="keyword">having</span> 保留age<span class="operator">&gt;</span><span class="number">16</span>的数据</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sql01-2"><p><strong>查看表结构(desc user;)</strong></p><table><thead><tr><th>Field</th><th>Type</th><th>Null</th><th>Key</th><th>Default</th><th>Extra</th></tr></thead><tbody><tr><td>id</td><td>int(10) unsigned</td><td>NO</td><td>PRI</td><td></td><td>auto_increment</td></tr><tr><td>name</td><td>varchar(50)</td><td>NO</td><td></td><td></td><td></td></tr><tr><td>age</td><td>tinyint(4)</td><td>NO</td><td></td><td></td><td></td></tr><tr><td>sex</td><td>enum(‘M’,‘W’)</td><td>NO</td><td></td><td></td><td></td></tr></tbody></table><p><strong>查看建表sql(show create table user;)</strong></p><table><thead><tr><th>Table</th><th>Create Table</th></tr></thead><tbody><tr><td>user</td><td>CREATE TABLE <code>user</code> (<br/>  <code>id</code> int(10) unsigned NOT NULL AUTO_INCREMENT,<br/>  <code>name</code> varchar(50) NOT NULL,<br/>  <code>age</code> tinyint(4) NOT NULL,<br/>  <code>sex</code> enum(‘M’,‘W’) NOT NULL,<br/>  PRIMARY KEY (<code>id</code>)<br/>) ENGINE=InnoDB DEFAULT CHARSET=utf8</td></tr></tbody></table><p><strong>分组(group by)</strong></p><table><thead><tr><th>sex</th></tr></thead><tbody><tr><td>M</td></tr><tr><td>W</td></tr></tbody></table><table><thead><tr><th>COUNT(id)</th><th>sex</th></tr></thead><tbody><tr><td>4</td><td>M</td></tr><tr><td>2</td><td>W</td></tr></tbody></table><table><thead><tr><th>COUNT(id)</th><th>age</th></tr></thead><tbody><tr><td>2</td><td>17</td></tr><tr><td>2</td><td>20</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 同样是插入两条数据，上下两个的效率是不同的</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(nickname, name, age, sex) <span class="keyword">values</span>(<span class="string">&#x27;fixbug&#x27;</span>, <span class="string">&#x27;zhang san&#x27;</span>, <span class="number">22</span>,<span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(nickname, name, age, sex) <span class="keyword">values</span>(<span class="string">&#x27;fixbug1&#x27;</span>, <span class="string">&#x27;zhang san1&#x27;</span>, <span class="number">22</span>,<span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(nickname, name, age, sex) <span class="keyword">values</span>(<span class="string">&#x27;666&#x27;</span>, <span class="string">&#x27;li si&#x27;</span>, <span class="number">21</span>, <span class="string">&#x27;W&#x27;</span>),(<span class="string">&#x27;888&#x27;</span>, <span class="string">&#x27;gao yang&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;M&#x27;</span>);</span><br></pre></td></tr></table></figure><p>我们编写<code>sql</code>语句本质上是<code>mysql client</code>，而<code>mysql client</code>要与<code>mysql server</code>通信需要<code>tcp</code>通信。显然下面的<code>sql</code>效率更高</p><p><img src="https://s1.vika.cn/space/2023/03/26/4f0cb00717464204aeffcfe7454fb544" alt=""></p><div class="tabs" id="sql02"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#sql02-1">标签语法</button></li><li class="tab"><button type="button" data-href="#sql02-2">部分显示结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="sql02-1"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">explain:查看<span class="keyword">SQL</span>语句的执行情况（也只是个大概不准确，mysql的优化查不出来）</span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;zh32gsan&#x27;</span></span><br><span class="line"></span><br><span class="line"># 便捷添加数据</span><br><span class="line">delimiter $ # 把分隔符<span class="string">&#x27;;&#x27;</span>改为<span class="string">&#x27;$&#x27;</span></span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">Procedure</span> add_t_user (<span class="keyword">IN</span> n <span class="type">INT</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">DECLARE</span> i <span class="type">INT</span>;</span><br><span class="line"><span class="keyword">SET</span> i<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">WHILE i<span class="operator">&lt;</span>n DO</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> t_user <span class="keyword">VALUES</span>(<span class="keyword">NULL</span>,CONCAT(i<span class="operator">+</span><span class="number">1</span>,<span class="string">&#x27;@fixbug.com&#x27;</span>),i<span class="operator">+</span><span class="number">1</span>);</span><br><span class="line"><span class="keyword">SET</span> i<span class="operator">=</span>i<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">END</span> WHILE;</span><br><span class="line"><span class="keyword">END</span>$</span><br><span class="line">delimiter ; # 改回来</span><br><span class="line"><span class="keyword">call</span> add_t_user(<span class="number">2000000</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sql02-2"><table><thead><tr><th>id</th><th>selec_type</th><th>table</th><th>partitions</th><th>type</th><th>possible_keys</th><th>key</th><th>key_len</th><th>ref</th><th>rows</th><th>filtered</th><th>Extra</th></tr></thead><tbody><tr><td>1</td><td>SIMPLE</td><td>user</td><td></td><td>ALL</td><td></td><td></td><td></td><td></td><td>4</td><td>25.00</td><td>Using where</td></tr></tbody></table><p><code>possible_keys</code>：可能用到的索引；<code>key</code>：实际用到的索引；<code>rows</code>：扫描行数，因为<code>name</code>没有索引所以扫描了<code>4</code>行，如果有所以就只需扫描<code>1</code>行，可以通过主键或者唯一键给字段添加索引。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>笔试实践问题</strong></p><p>下表bank_bill是某银行代缴话费的主流水表结构：</p><table><thead><tr><th><strong>字段名</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>serno</td><td>流水号</td></tr><tr><td>date</td><td>交易日期</td></tr><tr><td>accno</td><td>账号</td></tr><tr><td>name</td><td>姓名</td></tr><tr><td>amount</td><td>金额</td></tr><tr><td>brno</td><td>缴费网点</td></tr></tbody></table><p>1、统计表中缴费的总笔数和总金额</p><p>2、给出一个sql，按网点和日期统计每个网点每天的营业额，并按照营业额进行倒序排序</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 总笔数 总金额</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(serno),<span class="built_in">sum</span>(amount) <span class="keyword">from</span> bank_bill;</span><br><span class="line"></span><br><span class="line"># 每个网点每天的营业额</span><br><span class="line"><span class="keyword">select</span> brno,<span class="type">date</span>,<span class="built_in">sum</span>(amount) <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">group</span> <span class="keyword">by</span> brno,<span class="type">date</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">sum</span>(amount) <span class="keyword">desc</span></span><br></pre></td></tr></table></figure><h3 id="3-2连接查询">3.2连接查询</h3><p><img src="https://s1.vika.cn/space/2023/03/26/2304ade370cf4ec0a505bf2bb74e5a51" alt=""></p><div class="note success no-icon flat"><p>连接查询的时候大表建索引号</p></div><p><strong>先创建数据</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `uid` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` tinyint(<span class="number">3</span>) unsigned <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `sex` enum(<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;W&#x27;</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`uid`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">6</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `course` (</span><br><span class="line">  `cid` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `cname` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `credit` tinyint(<span class="number">3</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`cid`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">6</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `exame` (</span><br><span class="line">  `uid` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `cid` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `<span class="type">time</span>` <span class="type">date</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `score` <span class="type">float</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`uid`,`cid`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name, age, sex) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;zs&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;M&#x27;</span>),(<span class="string">&#x27;ls&#x27;</span>,<span class="number">28</span>,<span class="string">&#x27;W&#x27;</span>),(<span class="string">&#x27;ww&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;M&#x27;</span>),(<span class="string">&#x27;zl&#x27;</span>,<span class="number">22</span>,<span class="string">&#x27;W&#x27;</span>),(<span class="string">&#x27;sq&#x27;</span>,<span class="number">25</span>,<span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> course(cname, credit) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;C++&#x27;</span>,<span class="number">5</span>),(<span class="string">&#x27;JAVA&#x27;</span>,<span class="number">5</span>),(<span class="string">&#x27;PYTHON&#x27;</span>,<span class="number">5</span>),(<span class="string">&#x27;操作系统&#x27;</span>,<span class="number">10</span>),(<span class="string">&#x27;数据结构&#x27;</span>,<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> exame(uid, cid, <span class="type">time</span>, score) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;2023-03-21&#x27;</span>,<span class="number">99.0</span>),(<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;2023-03-21&#x27;</span>,<span class="number">99.0</span>),(<span class="number">2</span>,<span class="number">2</span>,<span class="string">&#x27;2023-03-22&#x27;</span>,<span class="number">99.0</span>),(<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;2023-03-23&#x27;</span>,<span class="number">99.0</span>),(<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;2023-03-26&#x27;</span>,<span class="number">99.0</span>),(<span class="number">3</span>,<span class="number">1</span>,<span class="string">&#x27;2023-03-25&#x27;</span>,<span class="number">67.0</span>),(<span class="number">3</span>,<span class="number">3</span>,<span class="string">&#x27;2023-03-26&#x27;</span>,<span class="number">58.0</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="number">2</span>,<span class="string">&#x27;2023-03-27&#x27;</span>,<span class="number">86.0</span>),(<span class="number">4</span>,<span class="number">4</span>,<span class="string">&#x27;2023-03-26&#x27;</span>,<span class="number">97.0</span>),(<span class="number">4</span>,<span class="number">1</span>,<span class="string">&#x27;2023-03-10&#x27;</span>,<span class="number">92.0</span>),</span><br><span class="line">(<span class="number">5</span>,<span class="number">1</span>,<span class="string">&#x27;2023-03-12&#x27;</span>,<span class="number">99.0</span>),(<span class="number">5</span>,<span class="number">2</span>,<span class="string">&#x27;2023-03-14&#x27;</span>,<span class="number">99.0</span>),(<span class="number">5</span>,<span class="number">3</span>,<span class="string">&#x27;2023-03-16&#x27;</span>,<span class="number">95.0</span>);</span><br></pre></td></tr></table></figure><h4 id="3-2-1内连接查询">3.2.1<strong>内连接查询</strong></h4><div class="tabs" id="sql03"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#sql03-1">标签语法</button></li><li class="tab"><button type="button" data-href="#sql03-2">部分显示结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="sql03-1"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.属性名<span class="number">1</span>,a.属性名<span class="number">2</span>,...,b,属性名<span class="number">1</span>,b.属性名<span class="number">2.</span>.. <span class="keyword">FROM</span> table_name1 a <span class="keyword">inner</span> <span class="keyword">join</span> table_name2 b <span class="keyword">on</span> a.id <span class="operator">=</span> b.id <span class="keyword">where</span> a.属性名 满足某些条件;</span><br><span class="line"># <span class="keyword">on</span> a.uid<span class="operator">=</span>c.uid 区分大表 和 小表，按照数据量来区分，小表永远是整表扫描，然后去大表搜索</span><br><span class="line"># 从student小表中取出所有的a.uid，然后拿着这些uid去exame大表中搜索</span><br><span class="line"># 对于<span class="keyword">inner</span> <span class="keyword">join</span>内连接，过滤条件写在<span class="keyword">where</span>的后面和<span class="keyword">on</span>连接条件里面，效果是一样的</span><br><span class="line"><span class="keyword">select</span> a.uid,a.name,a.age,a.sex,c.score <span class="keyword">from</span> student a</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> exame c <span class="keyword">on</span> a.uid<span class="operator">=</span>c.uid <span class="keyword">where</span> c.uid<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> c.cid<span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> a.uid,a.name,a.age,a.sex,b.cid,b.cname,b.credit,c.score <span class="keyword">from</span> exame c</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> student a <span class="keyword">on</span> c.uid<span class="operator">=</span>a.uid</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> course b <span class="keyword">on</span> c.cid<span class="operator">=</span>b.cid</span><br><span class="line"><span class="keyword">where</span> c.uid<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> c.cid<span class="operator">=</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sql03-2"><table><thead><tr><th>uid</th><th>name</th><th>age</th><th>sex</th><th>score</th></tr></thead><tbody><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>99</td></tr></tbody></table><table><thead><tr><th>uid</th><th>name</th><th>age</th><th>sex</th><th>cid</th><th>cname</th><th>credit</th><th>score</th></tr></thead><tbody><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>2</td><td>JAVA</td><td>5</td><td>99</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 已知这两个查语句的效率差距十分之大，怎么样能让后者效率接近前者呢？</span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> t_user <span class="number">1</span>imit <span class="number">1500000</span>,<span class="number">10</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user <span class="number">1</span>imit <span class="number">1500000</span>,<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> a.id,a.email,a.password <span class="keyword">from</span> t_user a <span class="keyword">inner</span> <span class="keyword">join</span> (<span class="keyword">select</span> id <span class="keyword">from</span> t_user <span class="number">1</span>imit <span class="number">1500000</span>,<span class="number">10</span>) b <span class="keyword">on</span> a.id <span class="operator">=</span> b.id;</span><br><span class="line">#解释 <span class="keyword">select</span> id <span class="keyword">from</span> t_user 其中id是主键有索引，查找是O(<span class="number">1</span>),得到一个临时表，且这个表数量少是小表，内连接是通过小表找大表 id是主键有索引所以效率更高</span><br></pre></td></tr></table></figure><div class="note info no-icon flat"><p>索引能不能使用主要看where过滤的东西，且内连大小表的区分是看where过滤之后的数据量</p></div><h4 id="3-2-2外连接查询">3.2.2外连接查询</h4><p><strong>左连接查询</strong></p><div class="tabs" id="sql04"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#sql04-1">标签语法</button></li><li class="tab"><button type="button" data-href="#sql04-2">部分显示结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="sql04-1"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.属性名列表, b.属性名列表 <span class="keyword">FROM</span> table_name1 a <span class="keyword">LEFT</span> [<span class="keyword">OUTER</span>] <span class="keyword">JOIN</span> table_name2 b <span class="keyword">on</span></span><br><span class="line">a.id <span class="operator">=</span> b.id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">User</span> a <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> Orderlist b <span class="keyword">on</span> a.uid<span class="operator">=</span>b.uid <span class="keyword">where</span> a.orderid <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line">#内连接可以查询谁参加了考试，而外连接可以查谁没参加考试</span><br><span class="line"># 把<span class="keyword">left</span>这边的表所有的数据显示出来，在右表中不存在相应数据，则显示<span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span>,b.<span class="operator">*</span><span class="keyword">from</span> student a <span class="keyword">inner</span> <span class="keyword">join</span> exame b <span class="keyword">on</span> a.uid<span class="operator">=</span>b.uid;</span><br><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span>,b.<span class="operator">*</span><span class="keyword">from</span> student a <span class="keyword">left</span> <span class="keyword">join</span> exame b <span class="keyword">on</span> a.uid<span class="operator">=</span>b.uid;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sql04-2"><p>inner join</p><table><thead><tr><th>uid</th><th>name</th><th>age</th><th>sex</th><th>uid</th><th>cid</th><th>time</th><th>score</th></tr></thead><tbody><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>1</td><td>1</td><td>2023-03-21</td><td>99</td></tr><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>1</td><td>2</td><td>2023-03-21</td><td>99</td></tr><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>1</td><td>3</td><td>2023-03-23</td><td>99</td></tr><tr><td>2</td><td>ls</td><td>28</td><td>W</td><td>2</td><td>2</td><td>2023-03-22</td><td>99</td></tr><tr><td>2</td><td>ls</td><td>28</td><td>W</td><td>2</td><td>3</td><td>2023-03-26</td><td>99</td></tr><tr><td>3</td><td>ww</td><td>20</td><td>M</td><td>3</td><td>1</td><td>2023-03-25</td><td>67</td></tr><tr><td>3</td><td>ww</td><td>20</td><td>M</td><td>3</td><td>2</td><td>2023-03-27</td><td>86</td></tr><tr><td>3</td><td>ww</td><td>20</td><td>M</td><td>3</td><td>3</td><td>2023-03-26</td><td>58</td></tr><tr><td>4</td><td>zl</td><td>22</td><td>W</td><td>4</td><td>1</td><td>2023-03-10</td><td>92</td></tr><tr><td>4</td><td>zl</td><td>22</td><td>W</td><td>4</td><td>4</td><td>2023-03-26</td><td>97</td></tr><tr><td>5</td><td>sq</td><td>25</td><td>M</td><td>5</td><td>1</td><td>2023-03-12</td><td>99</td></tr><tr><td>5</td><td>sq</td><td>25</td><td>M</td><td>5</td><td>2</td><td>2023-03-14</td><td>99</td></tr><tr><td>5</td><td>sq</td><td>25</td><td>M</td><td>5</td><td>3</td><td>2023-03-16</td><td>95</td></tr></tbody></table><p>left join</p><table><thead><tr><th>uid</th><th>name</th><th>age</th><th>sex</th><th>uid</th><th>cid</th><th>time</th><th>score</th></tr></thead><tbody><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>1</td><td>1</td><td>2023-03-21</td><td>99</td></tr><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>1</td><td>2</td><td>2023-03-21</td><td>99</td></tr><tr><td>1</td><td>zs</td><td>18</td><td>M</td><td>1</td><td>3</td><td>2023-03-23</td><td>99</td></tr><tr><td>2</td><td>ls</td><td>28</td><td>W</td><td>2</td><td>2</td><td>2023-03-22</td><td>99</td></tr><tr><td>2</td><td>ls</td><td>28</td><td>W</td><td>2</td><td>3</td><td>2023-03-26</td><td>99</td></tr><tr><td>3</td><td>ww</td><td>20</td><td>M</td><td>3</td><td>1</td><td>2023-03-25</td><td>67</td></tr><tr><td>3</td><td>ww</td><td>20</td><td>M</td><td>3</td><td>2</td><td>2023-03-27</td><td>86</td></tr><tr><td>3</td><td>ww</td><td>20</td><td>M</td><td>3</td><td>3</td><td>2023-03-26</td><td>58</td></tr><tr><td>4</td><td>zl</td><td>22</td><td>W</td><td>4</td><td>1</td><td>2023-03-10</td><td>92</td></tr><tr><td>4</td><td>zl</td><td>22</td><td>W</td><td>4</td><td>4</td><td>2023-03-26</td><td>97</td></tr><tr><td>5</td><td>sq</td><td>25</td><td>M</td><td>5</td><td>1</td><td>2023-03-12</td><td>99</td></tr><tr><td>5</td><td>sq</td><td>25</td><td>M</td><td>5</td><td>2</td><td>2023-03-14</td><td>99</td></tr><tr><td>5</td><td>sq</td><td>25</td><td>M</td><td>5</td><td>3</td><td>2023-03-16</td><td>95</td></tr><tr><td>6</td><td>lb</td><td>24</td><td>W</td><td>NULL</td><td>NULL</td><td>NULL</td><td>NULL</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>右连接查询</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.属性名列表, b.属性名列表 <span class="keyword">FROM</span> table_name1 a <span class="keyword">RIGHT</span> [<span class="keyword">OUTER</span>] <span class="keyword">JOIN</span> table_name2 b <span class="keyword">on</span></span><br><span class="line">a.id <span class="operator">=</span> b.id;</span><br><span class="line"># 把<span class="keyword">right</span>这边的表所有的数据显示出来，在左表中不存在相应数据，则显示<span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">User</span> a <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> Orderlist b <span class="keyword">on</span> a.uid<span class="operator">=</span>b.uid <span class="keyword">where</span>  b.orderid <span class="keyword">is</span> <span class="keyword">null</span>;  </span><br></pre></td></tr></table></figure><div class="tabs" id="sql05"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#sql05-1">标签语法</button></li><li class="tab"><button type="button" data-href="#sql05-2">显示结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="sql05-1"><p>外连接<code>where</code>过滤条件要写道<code>on</code>那，因为写在<code>where</code>过滤后可能会把右表变成小表，进而变成内连接。左连接必须左表搜索全表。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> a.<span class="operator">*</span><span class="keyword">from</span> student a <span class="keyword">left</span> <span class="keyword">join</span> exame b <span class="keyword">on</span> a.uid<span class="operator">=</span>b.uid <span class="keyword">where</span> b.cid<span class="operator">=</span><span class="number">3</span>; # X</span><br><span class="line">explain <span class="keyword">select</span> a.<span class="operator">*</span><span class="keyword">from</span> student a <span class="keyword">left</span> <span class="keyword">join</span> exame b <span class="keyword">on</span> a.uid<span class="operator">=</span>b.uid <span class="keyword">and</span> b.cid<span class="operator">=</span><span class="number">3</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sql05-2"><table><thead><tr><th>id</th><th>select_type</th><th>table</th><th>partitions</th><th>type</th><th>possible_keys</th><th>key</th><th>key_len</th><th>ref</th><th>rows</th><th>filtered</th><th>Extra</th></tr></thead><tbody><tr><td>1</td><td>SIMPLE</td><td>b</td><td>NULL</td><td>index</td><td>PRIMARY</td><td>PRIMARY</td><td>8</td><td>NULL</td><td>13</td><td>10.00</td><td>Using where; Using index</td></tr><tr><td>1</td><td>SIMPLE</td><td>a</td><td>NULL</td><td>eq_ref</td><td>PRIMARY</td><td>PRIMARY</td><td>4</td><td>chatdb.b.uid</td><td>1</td><td>100.00</td><td>NULL</td></tr></tbody></table><table><thead><tr><th>id</th><th>select_type</th><th>table</th><th>partitions</th><th>type</th><th>possible_keys</th><th>key</th><th>key_len</th><th>ref</th><th>rows</th><th>filtered</th><th>Extra</th></tr></thead><tbody><tr><td>1</td><td>SIMPLE</td><td>a</td><td>NULL</td><td>ALL</td><td>NULL</td><td>NULL</td><td>NULL</td><td>NULL</td><td>6</td><td>100.00</td><td>NULL</td></tr><tr><td>1</td><td>SIMPLE</td><td>b</td><td>NULL</td><td>eq_ref</td><td>PRIMARY</td><td>PRIMARY</td><td>8</td><td>chatdb.a.uid,const</td><td>1</td><td>100.00</td><td>Using index</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="4-MySQL存储引擎">4. MySQL存储引擎</h2>]]></content>
    
    
    <summary type="html">🥧本文讲述mysql基础知识点</summary>
    
    
    
    <category term="数据库" scheme="https://yanhool.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="mysql" scheme="https://yanhool.github.io/tags/mysql/"/>
    
    <category term="计算机基础" scheme="https://yanhool.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>c++ STL</title>
    <link href="https://yanhool.github.io/posts/20230317d.html"/>
    <id>https://yanhool.github.io/posts/20230317d.html</id>
    <published>2023-03-24T10:19:03.000Z</published>
    <updated>2023-03-24T13:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="627b00103ed402ee851d4b9e708d7bc23a50a4937f9154242a720b2b301bfce2">e13c3c85781f6174888b11e0da5e4df99fe361821fcd47f42e75a34637ed2c53279e7d756b31343730d52064e1c758bf02b9604bbc017243b6556237eef678c897ee24ed87dc137b97877b42e86844cd5b0a6c23b51ff2d664efa8a297e01ee84dc7d3576ad380f9c23bc25fd70ce30129418a78eb81bb65fe336eb3479d1fa9203f9b60791993a55edef4f157f45a480ae5a035092159526321e9a4e773358d61f4b7e946b2c6f7c2ff3999227f67c13778201615cdae04dbba40b36e8537d571d211d38f8c3dffc118d10f9940b917f24204a764988aad71340285c8562419b68315170a4edef1a144e3cfc690c1ac1a604be6d0aa2e787a384954bddc10a52349dd1cee568764b2e3c80ab2f043a6ca1048ab4298a573f088866a605ed9e3</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">您好, 文件正在施工中，暂时无法进入！</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">🥧本文讲述c++ STL</summary>
    
    
    
    <category term="c++" scheme="https://yanhool.github.io/categories/c/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
    <category term="算法" scheme="https://yanhool.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>贪心算法</title>
    <link href="https://yanhool.github.io/posts/20230324d.html"/>
    <id>https://yanhool.github.io/posts/20230324d.html</id>
    <published>2023-03-24T10:19:03.000Z</published>
    <updated>2023-03-24T13:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>贪心算法</h1><p><strong>区间选点</strong></p><p>给定 <em>N</em> 个闭区间 $[a_i,b_i]$，请你在数轴上选择尽量少的点，使得每个区间内至少包含一个选出的点。</p><p>输出选择的点的最小数量。</p><p>位于区间端点上的点也算作区间内。</p><blockquote><ol><li>每个区间按照右端点从小到大排序</li><li>先在最小的区间取最右端的点（这样能尽可能覆盖更多区间）</li><li>从前往后依次枚举每个区间<ol><li>如果当前区间包含之前的点则跳过</li><li>否则选择这个区间的最右侧点继续枚举接下来的区间</li></ol></li></ol></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Range</span>&#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt; (<span class="type">const</span> Range&amp; w)<span class="type">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> r &lt; w.r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;range[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r);</span><br><span class="line">        range[i] = &#123;l ,r&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(range, range + n);</span><br><span class="line">    <span class="type">int</span> pre = <span class="number">-2e9</span>, res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )&#123;</span><br><span class="line">        <span class="keyword">if</span>(range[i].l &gt; pre)&#123;</span><br><span class="line">            pre = range[i].r;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, res);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><strong>最大不相交区间数量</strong></p><p>给定 <em>N</em> 个闭区间 $[a_i,b_i]$​，请你在数轴上选择若干区间，使得选中的区间之间互不相交（包括端点）。</p><p>输出可选取区间的最大数量。</p><p>和上一题连代码都一模一样</p><p>理解：凡是相交的区间都取一点</p><hr><p>区间分组</p><p>给定 <em>N</em> 个闭区间 $[a_i,b_i]$，请你将这些区间分成若干组，使得每组内部的区间两两之间（包括端点）没有交集，并使得组数尽可能小。</p>]]></content>
    
    
    <summary type="html">🥧本文讲解贪心算法</summary>
    
    
    
    <category term="算法" scheme="https://yanhool.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
    <category term="算法" scheme="https://yanhool.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>nignx内存池源码刨析</title>
    <link href="https://yanhool.github.io/posts/20230322d.html"/>
    <id>https://yanhool.github.io/posts/20230322d.html</id>
    <published>2023-03-22T10:19:03.000Z</published>
    <updated>2023-03-24T02:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>nignx源码刨析</h1><h2 id="内存池源码刨析">内存池源码刨析</h2><blockquote><p>SGI STL二级空间配置器对大于128字节的内存申请采用malloc直接分配，对于小于128字节的内存申请采用内存池进行分配，且对内存池的使用非常彻底，避免了内存碎片。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ngx_palloc.h</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * NGX_MAX_ALLOC_FROM_POOL should be (ngx_pagesize - 1), i.e. 4095 on x86.</span></span><br><span class="line"><span class="comment"> * On Windows NT it decreases a number of locked pages in a kernel.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NGX_MAX_ALLOC_FROM_POOL  (ngx_pagesize - 1) <span class="comment">// 单次最大分配4095字节</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NGX_DEFAULT_POOL_SIZE    (16 * 1024) <span class="comment">// 默认池子16k大</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NGX_POOL_ALIGNMENT       16</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NGX_MIN_POOL_SIZE                                                     \</span></span><br><span class="line"><span class="meta">    ngx_align((sizeof(ngx_pool_t) + 2 * sizeof(ngx_pool_large_t)),            \</span></span><br><span class="line"><span class="meta">              NGX_POOL_ALIGNMENT)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ngx_align(d, a)     (((d) + (a - 1)) &amp; ~(a - 1)) <span class="comment">// 把d调整到临近a的倍数上</span></span></span><br></pre></td></tr></table></figure><p>创建内存池</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">ngx_pool_s</span>            <span class="type">ngx_pool_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">    u_char               *last;</span><br><span class="line">    u_char               *end;</span><br><span class="line">    <span class="type">ngx_pool_t</span>           *next; <span class="comment">// 下一个内存块</span></span><br><span class="line">    <span class="type">ngx_uint_t</span>            failed;</span><br><span class="line">&#125; <span class="type">ngx_pool_data_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*ngx_pool_cleanup_pt)</span><span class="params">(<span class="type">void</span> *data)</span></span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">ngx_pool_cleanup_s</span>  <span class="type">ngx_pool_cleanup_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ngx_pool_cleanup_s</span> &#123; <span class="comment">// 这头信息也是存储在小内存块上</span></span><br><span class="line">    ngx_pool_cleanup_pt   handler; <span class="comment">// 回调函数指针</span></span><br><span class="line">    <span class="type">void</span>                 *data;<span class="comment">// 需要释放的资源的地址</span></span><br><span class="line">    <span class="type">ngx_pool_cleanup_t</span>   *next; <span class="comment">// next指针   所有的释放资源函数都在一个链表上</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ngx_pool_s</span> &#123;</span><br><span class="line">    <span class="type">ngx_pool_data_t</span>       d;</span><br><span class="line">    <span class="type">size_t</span>                max;</span><br><span class="line">    <span class="type">ngx_pool_t</span>           *current;</span><br><span class="line">    <span class="type">ngx_chain_t</span>          *chain;</span><br><span class="line">    <span class="type">ngx_pool_large_t</span>     *large;</span><br><span class="line">    <span class="type">ngx_pool_cleanup_t</span>   *cleanup; <span class="comment">// 这是一个回调函数，假设内存块中存储的对象有指针变量，指向的一个外部资源，需要通过这个回调函数去释放，防止内存泄漏</span></span><br><span class="line">    <span class="type">ngx_log_t</span>            *log;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">ngx_pool_t</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_create_pool</span><span class="params">(<span class="type">size_t</span> size, <span class="type">ngx_log_t</span> *log)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">ngx_pool_t</span>  *p; <span class="comment">// 给内存池一个头信息</span></span><br><span class="line"></span><br><span class="line">    p = <span class="built_in">ngx_memalign</span>(NGX_POOL_ALIGNMENT, size, log); <span class="comment">// 开辟内存池 会进行内存对齐</span></span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p-&gt;d.last = (u_char *) p + <span class="built_in">sizeof</span>(<span class="type">ngx_pool_t</span>); <span class="comment">// last跳过头信息直接指向内存</span></span><br><span class="line">    p-&gt;d.end = (u_char *) p + size;<span class="comment">// 指向内存池结尾</span></span><br><span class="line">    p-&gt;d.next = <span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;d.failed = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    size = size - <span class="built_in">sizeof</span>(<span class="type">ngx_pool_t</span>);<span class="comment">// 内存池能使用的容量</span></span><br><span class="line">    p-&gt;max = (size &lt; NGX_MAX_ALLOC_FROM_POOL) ? size : NGX_MAX_ALLOC_FROM_POOL;</span><br><span class="line"><span class="comment">// 内存池按块分配，每一块的大小，如果开辟的内存池大小小于4095字节，则按照size大小存储，否则按照4095划分，总之一个块最多存4095</span></span><br><span class="line">    p-&gt;current = p;</span><br><span class="line">    p-&gt;chain = <span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;large = <span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;cleanup = <span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;log = log;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ngx_palloc</code>从内存池中申请内存</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_palloc</span><span class="params">(<span class="type">ngx_pool_t</span> *pool, <span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !(NGX_DEBUG_PALLOC)</span></span><br><span class="line">    <span class="keyword">if</span> (size &lt;= pool-&gt;max) &#123; <span class="comment">// max为一个页面大小</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">ngx_palloc_small</span>(pool, size, <span class="number">1</span>); <span class="comment">// 1：考虑内存对齐 0：不考虑内存对齐</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">ngx_palloc_large</span>(pool, size);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> ngx_inline <span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_palloc_small</span><span class="params">(<span class="type">ngx_pool_t</span> *pool, <span class="type">size_t</span> size, <span class="type">ngx_uint_t</span> align)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    u_char      *m;</span><br><span class="line">    <span class="type">ngx_pool_t</span>  *p;</span><br><span class="line"></span><br><span class="line">    p = pool-&gt;current;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        m = p-&gt;d.last;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (align) &#123;</span><br><span class="line">            m = <span class="built_in">ngx_align_ptr</span>(m, NGX_ALIGNMENT); <span class="comment">// 和stl的内存对齐代码一样</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((<span class="type">size_t</span>) (p-&gt;d.end - m) &gt;= size) &#123; <span class="comment">// 如果可使用内存空间满足size需求</span></span><br><span class="line">            p-&gt;d.last = m + size;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p = p-&gt;d.next; <span class="comment">//如果当前剩余空间不能满足需求就去下一个内存池</span></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">while</span> (p);</span><br><span class="line"><span class="comment">// 退出循环表示内存池不够用了</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">ngx_palloc_block</span>(pool, size); <span class="comment">//创建一个新的内存块~从这里可以看出内存池是由很多个内存块构成的</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_palloc_block</span><span class="params">(<span class="type">ngx_pool_t</span> *pool, <span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    u_char      *m;</span><br><span class="line">    <span class="type">size_t</span>       psize;</span><br><span class="line">    <span class="type">ngx_pool_t</span>  *p, *<span class="keyword">new</span>;</span><br><span class="line"></span><br><span class="line">    psize = (<span class="type">size_t</span>) (pool-&gt;d.end - (u_char *) pool); <span class="comment">// 计算之前内存块的大小</span></span><br><span class="line"></span><br><span class="line">    m = <span class="built_in">ngx_memalign</span>(NGX_POOL_ALIGNMENT, psize, pool-&gt;log);<span class="comment">// 创建一个新的内存块 </span></span><br><span class="line">    <span class="keyword">if</span> (m == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span> = (<span class="type">ngx_pool_t</span> *) m;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span>-&gt;d.end = m + psize;</span><br><span class="line">    <span class="keyword">new</span>-&gt;d.next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">new</span>-&gt;d.failed = <span class="number">0</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">typedef struct &#123;</span></span><br><span class="line"><span class="comment">        u_char               *last;</span></span><br><span class="line"><span class="comment">        u_char               *end;</span></span><br><span class="line"><span class="comment">        ngx_pool_t           *next;</span></span><br><span class="line"><span class="comment">        ngx_uint_t            failed;</span></span><br><span class="line"><span class="comment">&#125; ngx_pool_data_t;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    m += <span class="built_in">sizeof</span>(<span class="type">ngx_pool_data_t</span>); <span class="comment">// m要跳过内存块头信息</span></span><br><span class="line">    m = <span class="built_in">ngx_align_ptr</span>(m, NGX_ALIGNMENT);<span class="comment">// 假设ngx_pool_data_t为13，m = 0，+13后m为13这样内存是不对其的，进行内存对齐后m=16</span></span><br><span class="line">    <span class="keyword">new</span>-&gt;d.last = m + size;<span class="comment">// 先分配size</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (p = pool-&gt;current; p-&gt;d.next; p = p-&gt;d.next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;d.failed++ &gt; <span class="number">4</span>) &#123;</span><br><span class="line">            pool-&gt;current = p-&gt;d.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p-&gt;d.next = <span class="keyword">new</span>; <span class="comment">// 把新的内存块和内存池链接起来</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">ngx_pool_large_s</span>  <span class="type">ngx_pool_large_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ngx_pool_large_s</span> &#123;</span><br><span class="line">    <span class="type">ngx_pool_large_t</span>     *next; <span class="comment">// 指向下一个大块内存</span></span><br><span class="line">    <span class="type">void</span>                 *alloc; <span class="comment">//指向大块内存地址，因为这个有信息是存放在小块内存里面的</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_palloc_large</span><span class="params">(<span class="type">ngx_pool_t</span> *pool, <span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">void</span>              *p;</span><br><span class="line">    <span class="type">ngx_uint_t</span>         n;</span><br><span class="line">    <span class="type">ngx_pool_large_t</span>  *large;</span><br><span class="line"></span><br><span class="line">    p = <span class="built_in">ngx_alloc</span>(size, pool-&gt;log);</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    n = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (large = pool-&gt;large; large; large = large-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (large-&gt;alloc == <span class="literal">NULL</span>) &#123; <span class="comment">// alloc在ngx_free后会为空，等于说是把之前的头信息再利用了</span></span><br><span class="line">            large-&gt;alloc = p;</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n++ &gt; <span class="number">3</span>) &#123; <span class="comment">// 只找前三个，找不到就算了</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    large = <span class="built_in">ngx_palloc_small</span>(pool, <span class="built_in">sizeof</span>(<span class="type">ngx_pool_large_t</span>), <span class="number">1</span>); <span class="comment">// ngx_pool_large_t头信息都存放在小内存块里面，是真的节省   如果小内存块都存满了则会失败</span></span><br><span class="line">    <span class="keyword">if</span> (large == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">ngx_free</span>(p);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    large-&gt;alloc = p;</span><br><span class="line">    large-&gt;next = pool-&gt;large;  <span class="comment">// 头插法</span></span><br><span class="line">    pool-&gt;large = large;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2023/03/23/929734adaac043f7acbd772e80bd1187" alt=""></p><center style="font-size:18px;color:#C0C0C0">nignx内存池结构图</center><p><code>ngx_pfree</code>释放内存块</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">ngx_int_t</span></span></span><br><span class="line"><span class="function"><span class="title">ngx_pfree</span><span class="params">(<span class="type">ngx_pool_t</span> *pool, <span class="type">void</span> *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 只释放大块内存</span></span><br><span class="line">    <span class="type">ngx_pool_large_t</span>  *l;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (l = pool-&gt;large; l; l = l-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p == l-&gt;alloc) &#123;</span><br><span class="line">            <span class="built_in">ngx_log_debug1</span>(NGX_LOG_DEBUG_ALLOC, pool-&gt;log, <span class="number">0</span>,</span><br><span class="line">                           <span class="string">&quot;free: %p&quot;</span>, l-&gt;alloc);</span><br><span class="line">            <span class="built_in">ngx_free</span>(l-&gt;alloc);</span><br><span class="line">            l-&gt;alloc = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> NGX_OK;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> NGX_DECLINED;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ngx_reset_pool</code>内存池重置函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">ngx_reset_pool</span><span class="params">(<span class="type">ngx_pool_t</span> *pool)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">ngx_pool_t</span>        *p;</span><br><span class="line">    <span class="type">ngx_pool_large_t</span>  *l;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 先遍历大块内存，因为大块内存的头信息在小块内存中存储，所以只能先遍历大块内存</span></span><br><span class="line">    <span class="keyword">for</span> (l = pool-&gt;large; l; l = l-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l-&gt;alloc) &#123;</span><br><span class="line">            <span class="built_in">ngx_free</span>(l-&gt;alloc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (p = pool; p; p = p-&gt;d.next) &#123;</span><br><span class="line">        p-&gt;d.last = (u_char *) p + <span class="built_in">sizeof</span>(<span class="type">ngx_pool_t</span>); <span class="comment">// 这里感觉是为了方便偷懒了这样写，因为除了第一个小块内存的头信息大小是ngx_pool_t（因为还要保存内存池信息），后面的小块内存都是ngx_pool_data_t的头信息</span></span><br><span class="line">        p-&gt;d.failed = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*可以改写成这样</span></span><br><span class="line"><span class="comment">    // 处理第一块内存</span></span><br><span class="line"><span class="comment">    p = pool;</span></span><br><span class="line"><span class="comment">    p-&gt;d.last = (u_char *) p + sizeof(ngx_pool_t);</span></span><br><span class="line"><span class="comment">    p-&gt;d.failed = 0;</span></span><br><span class="line"><span class="comment">    // 处理后面的内存</span></span><br><span class="line"><span class="comment">    for (p = p-&gt;d.next; p; p = p-&gt;d.next) &#123;</span></span><br><span class="line"><span class="comment">        p-&gt;d.last = (u_char *) p + sizeof(ngx_pool_t);</span></span><br><span class="line"><span class="comment">        p-&gt;d.failed = 0;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    pool-&gt;current = pool;</span><br><span class="line">    pool-&gt;chain = <span class="literal">NULL</span>;</span><br><span class="line">    pool-&gt;large = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>小块内存回收方案</p><p>nginx 大块内存分配 =》内存释放 ngx_free 函数<br>nginx 小块内存分配 =》没有提供任何的内存释放函数，实际上，从小块内存的分配方式来看（直接通过<br>last指针偏移来分配内存)，它也没法进行小块内存的回收</p><p>nginx木质：http服务器</p><p>是一个短链接的服务器，客户端（浏览器）发起一个request请求，到达nginx服务器以后，处理完成，nginx给客户瑞返回一个response响应，http服务器就主动断开tcp连接(http 1.1 keep-avlie:60s)</p><p>http服务器(nginx)返回响应以后，需要等待60s, 60s之内客户瑞又发来请求，重置这个时间，否则60s之 内没有客户端发来的响应，nginx就主动断开连接，此时nginx可以调用ngx_reset_pool重置内存池了，等待下一次该客户端的请求。</p><p><code>ngx_pool_cleanup_add</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">ngx_pool_cleanup_t</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_pool_cleanup_add</span><span class="params">(<span class="type">ngx_pool_t</span> *p, <span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">ngx_pool_cleanup_t</span>  *c;</span><br><span class="line"></span><br><span class="line">    c = <span class="built_in">ngx_palloc</span>(p, <span class="built_in">sizeof</span>(<span class="type">ngx_pool_cleanup_t</span>)); <span class="comment">// 在小内存块山上开辟头信息</span></span><br><span class="line">    <span class="keyword">if</span> (c == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (size) &#123; <span class="comment">// 如果资源释放函数需要传具体的size</span></span><br><span class="line">        c-&gt;data = <span class="built_in">ngx_palloc</span>(p, size);</span><br><span class="line">        <span class="keyword">if</span> (c-&gt;data == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// 不需要传size</span></span><br><span class="line">        c-&gt;data = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    c-&gt;handler = <span class="literal">NULL</span>;</span><br><span class="line">    c-&gt;next = p-&gt;cleanup; <span class="comment">// 头插法</span></span><br><span class="line"></span><br><span class="line">    p-&gt;cleanup = c;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">ngx_log_debug1</span>(NGX_LOG_DEBUG_ALLOC, p-&gt;log, <span class="number">0</span>, <span class="string">&quot;add cleanup: %p&quot;</span>, c);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ngx_destroy_pool</code>删除内存池函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">ngx_destroy_pool</span><span class="params">(<span class="type">ngx_pool_t</span> *pool)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">ngx_pool_t</span>          *p, *n;</span><br><span class="line">    <span class="type">ngx_pool_large_t</span>    *l;</span><br><span class="line">    <span class="type">ngx_pool_cleanup_t</span>  *c;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (c = pool-&gt;cleanup; c; c = c-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (c-&gt;handler) &#123;</span><br><span class="line">            <span class="built_in">ngx_log_debug1</span>(NGX_LOG_DEBUG_ALLOC, pool-&gt;log, <span class="number">0</span>,</span><br><span class="line">                           <span class="string">&quot;run cleanup: %p&quot;</span>, c);</span><br><span class="line">            c-&gt;<span class="built_in">handler</span>(c-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> (NGX_DEBUG)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * we could allocate the pool-&gt;log from this pool</span></span><br><span class="line"><span class="comment">     * so we cannot use this log while free()ing the pool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (l = pool-&gt;large; l; l = l-&gt;next) &#123;</span><br><span class="line">        <span class="built_in">ngx_log_debug1</span>(NGX_LOG_DEBUG_ALLOC, pool-&gt;log, <span class="number">0</span>, <span class="string">&quot;free: %p&quot;</span>, l-&gt;alloc);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (p = pool, n = pool-&gt;d.next; <span class="comment">/* void */</span>; p = n, n = n-&gt;d.next) &#123;</span><br><span class="line">        <span class="built_in">ngx_log_debug2</span>(NGX_LOG_DEBUG_ALLOC, pool-&gt;log, <span class="number">0</span>,</span><br><span class="line">                       <span class="string">&quot;free: %p, unused: %uz&quot;</span>, p, p-&gt;d.end - p-&gt;d.last);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (l = pool-&gt;large; l; l = l-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l-&gt;alloc) &#123;</span><br><span class="line">            <span class="built_in">ngx_free</span>(l-&gt;alloc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (p = pool, n = pool-&gt;d.next; <span class="comment">/* void */</span>; p = n, n = n-&gt;d.next) &#123;</span><br><span class="line">        <span class="built_in">ngx_free</span>(p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="内存池源码移植">内存池源码移植</h2><p><code>ngx_mem_pool.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;memory.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> u_char = <span class="type">unsigned</span> <span class="type">char</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="type">ngx_uint_t</span> = <span class="type">unsigned</span> <span class="type">int</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * NGX_MAX_ALLOC_FROM_POOL should be (ngx_pagesize - 1), i.e. 4095 on x86.</span></span><br><span class="line"><span class="comment"> * On Windows NT it decreases a number of locked pages in a kernel.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ngx_align(d, a)     (((d) + (a - 1)) &amp; ~(a - 1))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ngx_align_ptr(p, a)                                                   \</span></span><br><span class="line"><span class="meta">    (u_char *) (((uintptr_t) (p) + ((uintptr_t) a - 1)) &amp; ~((uintptr_t) a - 1))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NGX_ALIGNMENT   sizeof(unsigned long)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ngx_memzero(buf, n)       (void) memset(buf, 0, n)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">intptr_t</span>        <span class="type">ngx_int_t</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> ngx_pagesize = <span class="number">4096</span>; <span class="comment">// 一个页面的大小</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> NGX_MAX_ALLOC_FROM_POOL  = ngx_pagesize - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> NGX_DEFAULT_POOL_SIZE  = <span class="number">16</span> * <span class="number">1024</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> NGX_POOL_ALIGNMENT   =    <span class="number">16</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> NGX_MIN_POOL_SIZE   =                                                  \</span><br><span class="line">    <span class="built_in">ngx_align</span>((<span class="built_in">sizeof</span>(ngx_pool_s) + <span class="number">2</span> * <span class="built_in">sizeof</span>(ngx_pool_large_s)),            \</span><br><span class="line">              NGX_POOL_ALIGNMENT);</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ngx_pool_large_s</span> &#123;</span><br><span class="line">    ngx_pool_large_s     *next; <span class="comment">// 指向下一个大块内存</span></span><br><span class="line">    <span class="type">void</span>                 *alloc; <span class="comment">//指向大块内存地址，因为这个有信息是存放在小块内存里面的</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*ngx_pool_cleanup_pt)</span><span class="params">(<span class="type">void</span> *data)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ngx_pool_cleanup_s</span> &#123;</span><br><span class="line">    ngx_pool_cleanup_pt   handler;</span><br><span class="line">    <span class="type">void</span>                 *data;</span><br><span class="line">    ngx_pool_cleanup_s   *next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ngx_pool_data_t</span>&#123;</span><br><span class="line">    u_char               *last;</span><br><span class="line">    u_char               *end;</span><br><span class="line">    ngx_pool_s           *next; <span class="comment">// 下一个内存块</span></span><br><span class="line">    <span class="type">ngx_uint_t</span>            failed;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ngx_pool_s</span> &#123;</span><br><span class="line">    <span class="type">ngx_pool_data_t</span>       d;</span><br><span class="line">    <span class="type">size_t</span>                max;</span><br><span class="line">    ngx_pool_s           *current;</span><br><span class="line">    ngx_pool_large_s     *large;</span><br><span class="line">    ngx_pool_cleanup_s   *cleanup; <span class="comment">// 这是一个回调函数，假设内存块中存储的对象有指针变量，指向的一个外部资源，需要通过这个回调函数去释放，防止内存泄漏</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ngx_mem_pool</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    ngx_pool_s *pool;</span><br><span class="line">    <span class="comment">//小块内存分配</span></span><br><span class="line">    <span class="function"><span class="type">void</span> *<span class="title">ngx_palloc_small</span><span class="params">(<span class="type">size_t</span> size,<span class="type">ngx_uint_t</span> align)</span></span>;</span><br><span class="line">    <span class="comment">//大块内存分配</span></span><br><span class="line">    <span class="function"><span class="type">void</span> *<span class="title">ngx_palloc_large</span><span class="params">(<span class="type">size_t</span> size)</span></span>;</span><br><span class="line">    <span class="comment">//分配新的小块内存池</span></span><br><span class="line">    <span class="function"><span class="type">void</span> *<span class="title">ngx_palloc_block</span><span class="params">(<span class="type">size_t</span> size)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ngx_mem_pool</span>(<span class="comment">/* args */</span>);</span><br><span class="line">    ~<span class="built_in">ngx_mem_pool</span>();</span><br><span class="line">    <span class="function"><span class="type">void</span>* <span class="title">ngx_create_pool</span><span class="params">(<span class="type">size_t</span> size)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span>* <span class="title">ngx_palloc</span><span class="params">(<span class="type">size_t</span> size)</span></span>;</span><br><span class="line">    <span class="comment">// 和上面的函数一样，但不考虑内存字节对齐 </span></span><br><span class="line">    <span class="function"><span class="type">void</span> * <span class="title">ngx_pnalloc</span><span class="params">(<span class="type">size_t</span> size)</span></span>;</span><br><span class="line">    <span class="comment">//调用的是ngx pa11oc实现内存分配，但是会初始化0</span></span><br><span class="line">    <span class="function"><span class="type">void</span> *<span class="title">ngx_pcalloc</span><span class="params">(<span class="type">size_t</span> size)</span></span>;</span><br><span class="line">    <span class="comment">//释放大块内存</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ngx_pfree</span><span class="params">(<span class="type">void</span> *p)</span></span>;<span class="comment">//这个不考虑内存对齐</span></span><br><span class="line">    <span class="comment">//内存重置函数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ngx_reset_pool</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//内存池的销毁函数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ngx_destroy_pool</span><span class="params">()</span></span>; </span><br><span class="line">    <span class="comment">//添加回调清理操作函数</span></span><br><span class="line">    <span class="function">ngx_pool_cleanup_s *<span class="title">ngx_pool_cleanup_add</span><span class="params">(<span class="type">size_t</span> size)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ngx_mem_pool::<span class="built_in">ngx_mem_pool</span>(<span class="comment">/* args */</span>)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ngx_mem_pool::~<span class="built_in">ngx_mem_pool</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>ngx_mem_pool.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;include/ngx_mem_pool.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span>* <span class="title">ngx_mem_pool::ngx_create_pool</span><span class="params">(<span class="type">size_t</span> size)</span></span>&#123;</span><br><span class="line">    ngx_pool_s  *p;</span><br><span class="line"></span><br><span class="line">    p = (ngx_pool_s*)<span class="built_in">malloc</span>(size);</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p-&gt;d.last = (u_char *) p + <span class="built_in">sizeof</span>(ngx_pool_s);</span><br><span class="line">    p-&gt;d.end = (u_char *) p + size;</span><br><span class="line">    p-&gt;d.next = <span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;d.failed = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    size = size - <span class="built_in">sizeof</span>(ngx_pool_s);</span><br><span class="line">    p-&gt;max = (size &lt; NGX_MAX_ALLOC_FROM_POOL) ? size : NGX_MAX_ALLOC_FROM_POOL;</span><br><span class="line"></span><br><span class="line">    p-&gt;current = p;</span><br><span class="line">    p-&gt;large = <span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;cleanup = <span class="literal">NULL</span>;</span><br><span class="line">    pool = p;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_palloc</span><span class="params">(<span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (size &lt;= pool-&gt;max) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">ngx_palloc_small</span>(size, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">ngx_palloc_large</span>(size);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 和上面的函数一样，但不考虑内存字节对齐 </span></span><br><span class="line"><span class="function"><span class="type">void</span> * <span class="title">ngx_mem_pool::ngx_pnalloc</span><span class="params">(<span class="type">size_t</span> size)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size &lt;= pool-&gt;max) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">ngx_palloc_small</span>(size, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">ngx_palloc_large</span>(size);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用的是ngx pa11oc实现内存分配，但是会初始化0</span></span><br><span class="line"><span class="function"><span class="type">void</span> * <span class="title">ngx_mem_pool::ngx_pcalloc</span><span class="params">(<span class="type">size_t</span> size)</span></span>&#123;</span><br><span class="line">    <span class="type">void</span> *p;</span><br><span class="line"></span><br><span class="line">    p = <span class="built_in">ngx_palloc</span>(size);</span><br><span class="line">    <span class="keyword">if</span> (p) &#123;</span><br><span class="line">        <span class="built_in">ngx_memzero</span>(p, size);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_palloc_small</span><span class="params">(<span class="type">size_t</span> size, <span class="type">ngx_uint_t</span> align)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    u_char      *m;</span><br><span class="line">    ngx_pool_s  *p;</span><br><span class="line"></span><br><span class="line">    p = pool-&gt;current;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        m = p-&gt;d.last;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (align) &#123;</span><br><span class="line">            m = <span class="built_in">ngx_align_ptr</span>(m, NGX_ALIGNMENT);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((<span class="type">size_t</span>) (p-&gt;d.end - m) &gt;= size) &#123;</span><br><span class="line">            p-&gt;d.last = m + size;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p = p-&gt;d.next;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">while</span> (p);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">ngx_palloc_block</span>(size);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_palloc_block</span><span class="params">(<span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    u_char      *m;</span><br><span class="line">    <span class="type">size_t</span>       psize;</span><br><span class="line">    ngx_pool_s  *p, *newblock;</span><br><span class="line"></span><br><span class="line">    psize = (<span class="type">size_t</span>) (pool-&gt;d.end - (u_char *) pool);</span><br><span class="line"></span><br><span class="line">    m = (u_char*)<span class="built_in">malloc</span>(psize);</span><br><span class="line">    <span class="keyword">if</span> (m == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    newblock = (ngx_pool_s *) m;</span><br><span class="line"></span><br><span class="line">    newblock-&gt;d.end = m + psize;</span><br><span class="line">    newblock-&gt;d.next = <span class="literal">NULL</span>;</span><br><span class="line">    newblock-&gt;d.failed = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    m += <span class="built_in">sizeof</span>(<span class="type">ngx_pool_data_t</span>);</span><br><span class="line">    m = <span class="built_in">ngx_align_ptr</span>(m, NGX_ALIGNMENT);</span><br><span class="line">    newblock-&gt;d.last = m + size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (p = pool-&gt;current; p-&gt;d.next; p = p-&gt;d.next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;d.failed++ &gt; <span class="number">4</span>) &#123;</span><br><span class="line">            pool-&gt;current = p-&gt;d.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p-&gt;d.next = newblock;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> *</span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_palloc_large</span><span class="params">(<span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">void</span>              *p;</span><br><span class="line">    <span class="type">ngx_uint_t</span>         n;</span><br><span class="line">    ngx_pool_large_s  *large;</span><br><span class="line"></span><br><span class="line">    p = <span class="built_in">malloc</span>(size);</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    n = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (large = pool-&gt;large; large; large = large-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (large-&gt;alloc == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            large-&gt;alloc = p;</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n++ &gt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    large = (ngx_pool_large_s*)<span class="built_in">ngx_palloc_small</span>(<span class="built_in">sizeof</span>(ngx_pool_large_s), <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (large == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    large-&gt;alloc = p;</span><br><span class="line">    large-&gt;next = pool-&gt;large;</span><br><span class="line">    pool-&gt;large = large;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_pfree</span><span class="params">(<span class="type">void</span> *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ngx_pool_large_s  *l;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (l = pool-&gt;large; l; l = l-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p == l-&gt;alloc) &#123;</span><br><span class="line">            <span class="built_in">free</span>(l-&gt;alloc);</span><br><span class="line">            l-&gt;alloc = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ngx_pool_cleanup_s *</span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_pool_cleanup_add</span><span class="params">(<span class="type">size_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ngx_pool_cleanup_s  *c;</span><br><span class="line"></span><br><span class="line">    c = (ngx_pool_cleanup_s*)<span class="built_in">ngx_palloc</span>(<span class="built_in">sizeof</span>(ngx_pool_cleanup_s));</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (size) &#123;</span><br><span class="line">        c-&gt;data = <span class="built_in">ngx_palloc</span>(size);</span><br><span class="line">        <span class="keyword">if</span> (c-&gt;data == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        c-&gt;data = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    c-&gt;handler = <span class="literal">NULL</span>;</span><br><span class="line">    c-&gt;next = pool-&gt;cleanup;</span><br><span class="line"></span><br><span class="line">    pool-&gt;cleanup = c;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_destroy_pool</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ngx_pool_s          *p, *n;</span><br><span class="line">    ngx_pool_large_s    *l;</span><br><span class="line">    ngx_pool_cleanup_s  *c;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (c = pool-&gt;cleanup; c; c = c-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (c-&gt;handler) &#123;</span><br><span class="line">            c-&gt;<span class="built_in">handler</span>(c-&gt;data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (l = pool-&gt;large; l; l = l-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l-&gt;alloc) &#123;</span><br><span class="line">            <span class="built_in">free</span>(l-&gt;alloc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (p = pool, n = pool-&gt;d.next; <span class="comment">/* void */</span>; p = n, n = n-&gt;d.next) &#123;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">ngx_mem_pool::ngx_reset_pool</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ngx_pool_s        *p;</span><br><span class="line">    ngx_pool_large_s  *l;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (l = pool-&gt;large; l; l = l-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l-&gt;alloc) &#123;</span><br><span class="line">            <span class="built_in">free</span>(l-&gt;alloc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (p = pool; p; p = p-&gt;d.next) &#123;</span><br><span class="line">        p-&gt;d.last = (u_char *) p + <span class="built_in">sizeof</span>(ngx_pool_s);</span><br><span class="line">        p-&gt;d.failed = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*可以改写成这样</span></span><br><span class="line"><span class="comment">    // 处理第一块内存</span></span><br><span class="line"><span class="comment">    p = pool;</span></span><br><span class="line"><span class="comment">    p-&gt;d.last = (u_char *) p + sizeof(ngx_pool_t);</span></span><br><span class="line"><span class="comment">    p-&gt;d.failed = 0;</span></span><br><span class="line"><span class="comment">    // 处理后面的内存</span></span><br><span class="line"><span class="comment">    for (p = p-&gt;d.next; p; p = p-&gt;d.next) &#123;</span></span><br><span class="line"><span class="comment">        p-&gt;d.last = (u_char *) p + sizeof(ngx_pool_data_t);</span></span><br><span class="line"><span class="comment">        p-&gt;d.failed = 0;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    pool-&gt;current = pool;</span><br><span class="line">    pool-&gt;large = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">🥧本文讲述nignx内存管理</summary>
    
    
    
    <category term="c++" scheme="https://yanhool.github.io/categories/c/"/>
    
    <category term="源码分析" scheme="https://yanhool.github.io/categories/c/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
    <category term="源码分析" scheme="https://yanhool.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>SGI STL二级空间配置器学习笔记</title>
    <link href="https://yanhool.github.io/posts/20230321d.html"/>
    <id>https://yanhool.github.io/posts/20230321d.html</id>
    <published>2023-03-20T10:19:03.000Z</published>
    <updated>2023-03-20T13:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-基本概念">1.基本概念</h2><blockquote><p>SGI STL包含了一级空间配置器和二级空间配置器，其中一级空间配置器allocator采用malloc和free来</p><p>管理内存，和C++标准库中提供的allocator是一样的，但其二级空间配置器allocator采用了基于freelist</p><p>自由链表原理的内存池机制实现内存管理。</p></blockquote><p>c++的空间配置其中需要实现以下几个函数：</p><p>allocate:负责给容器开辟内存空间 =&gt; malloc<br>deallocate:负责释放容器内存空间=&gt; free<br>construct:负责给容器构造一个对象=&gt; 定位new实现<br>destroy:负责析构容器的对象 =&gt; p-&gt;~T()</p><p>空间配置器的<strong>核心作用</strong>：分离了对象的内存开辟，和对象构造。没有自己配置空间配置器时，new直接完成了内存空间的开辟和对象的构造，而实现空间配置器后，<code>allocate负</code>责开辟空间，<code>construct负</code>责在开辟的空间上构造对象,也分离了对象的析构和内存的释放</p><p>SGI STL =》两个allocator的实现：一级allocator内存管理malloc/free二级allocator内存管理：内存池的实现<br>C++STL =》allocator空间配置器</p><p>本文主要剖析内存池的SGI STL实现</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">_Tp</span>, <span class="keyword">class</span> <span class="title class_">_Alloc</span> = __STL_DEFAULT_ALLOCATOR(_Tp) &gt;</span><br><span class="line"><span class="keyword">class</span> vector : <span class="keyword">protected</span> _Vector_base&lt;_Tp, _Alloc&gt; </span><br><span class="line">&#123;...&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">push_back</span>(<span class="type">const</span> _Tp&amp; __x) &#123;</span><br><span class="line"><span class="keyword">if</span> (_M_finish != _M_end_of_storage) &#123;</span><br><span class="line">  <span class="built_in">construct</span>(_M_finish, __x);</span><br><span class="line">  ++_M_finish;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  _M_insert_aux(<span class="built_in">end</span>(), __x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">_T1</span>, <span class="keyword">class</span> <span class="title class_">_T2</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> _Construct(_T1* __p, <span class="type">const</span> _T2&amp; __value) &#123;</span><br><span class="line">  <span class="keyword">new</span> ((<span class="type">void</span>*) __p) _T1(__value); <span class="comment">//在指针__p指向的内存空间上构造__value</span></span><br><span class="line">    <span class="comment">// 这个操作叫做placement new，就是在指针p所指向的内存空间创建一个T1类型的对象，但是对象的内容是从T2类型的对象转换过来的（调用了T1的构造函数，T1::T1(value)）。</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>STL vector容器默认使用<code>__STL_DEFAULT_ALLOCATOR</code>空间配置器，在<code>push_back</code>中也是在已经开辟的内存中使用<code>construct</code>构造对象。然而跟进<code>construct</code>函数后发现依然用的是全局<code>new</code>函数，全局<code>new</code>函数会在分配的空间的首尾加一些标识记录空间的长度。</p><p>STL容器：底层存储的对象的构造和析构是定义的全局的函数模板Construct和Destroy完成的！</p><p>接下来查看<code>__STL_DEFAULT_ALLOCATOR</code>一级空间配置器，它是由 <code>__STL_USE_STD_ALLOCATORS</code>来控制</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">ifndef</span> __STL_DEFAULT_ALLOCATOR</span></span><br><span class="line"><span class="meta">#   <span class="keyword">ifdef</span> __STL_USE_STD_ALLOCATORS</span></span><br><span class="line"><span class="meta">#     <span class="keyword">define</span> __STL_DEFAULT_ALLOCATOR(T) __STL_USE_STD_ALLOCATORS<span class="string">&lt; T &gt;</span></span></span><br><span class="line"><span class="meta">#   <span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#     <span class="keyword">define</span> __STL_DEFAULT_ALLOCATOR(T) alloc</span></span><br><span class="line"><span class="meta">#   <span class="keyword">endif</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>查看<code>__STL_USE_STD_ALLOCATORS&lt;T&gt;</code>-&gt;<code>allocator&lt;T&gt; </code>-&gt;<code>alloc</code>-&gt;<code>malloc_alloc</code>-&gt;<code>__malloc_alloc_template&lt;0&gt;</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="type">int</span> __inst&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">__malloc_alloc_template</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">void</span>* <span class="title">allocate</span><span class="params">(<span class="type">size_t</span> __n)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="type">void</span>* __result = <span class="built_in">malloc</span>(__n);</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">0</span> == __result) __result = _S_oom_malloc(__n);</span><br><span class="line">    <span class="keyword">return</span> __result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">deallocate</span><span class="params">(<span class="type">void</span>* __p, <span class="type">size_t</span> <span class="comment">/* __n */</span>)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="built_in">free</span>(__p);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再来查看二级空间配置器，从<code>else</code>进入<code>define __STL_DEFAULT_ALLOCATOR(T) alloc</code>进入<code>__default_alloc_template&lt;__NODE_ALLOCATOR_THREADS, 0&gt;</code>其中</p><p><code>__NODE_ALLOCATOR_THREADS</code>表示这是一个线程安全的配置器</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> threads, <span class="type">int</span> inst&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">__default_alloc_template</span> &#123;</span><br><span class="line">    <span class="comment">/* __n must be &gt; 0      */</span></span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">void</span>* <span class="title">allocate</span><span class="params">(<span class="type">size_t</span> __n)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="type">void</span>* __ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (__n &gt; (<span class="type">size_t</span>) _MAX_BYTES) &#123;</span><br><span class="line">      __ret = malloc_alloc::<span class="built_in">allocate</span>(__n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      _Obj* __STL_VOLATILE* __my_free_list</span><br><span class="line">          = _S_free_list + _S_freelist_index(__n);</span><br><span class="line">      <span class="comment">// Acquire the lock here with a constructor call.</span></span><br><span class="line">      <span class="comment">// This ensures that it is released in exit or during stack</span></span><br><span class="line">      <span class="comment">// unwinding.</span></span><br><span class="line"><span class="meta">#     <span class="keyword">ifndef</span> _NOTHREADS</span></span><br><span class="line">      <span class="comment">/*REFERENCED*/</span></span><br><span class="line">      _Lock __lock_instance;</span><br><span class="line"><span class="meta">#     <span class="keyword">endif</span></span></span><br><span class="line">      _Obj* __RESTRICT __result = *__my_free_list;</span><br><span class="line">      <span class="keyword">if</span> (__result == <span class="number">0</span>)</span><br><span class="line">        __ret = _S_refill(_S_round_up(__n));</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        *__my_free_list = __result -&gt; _M_free_list_link;</span><br><span class="line">        __ret = __result;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> __ret;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* __p may not be 0 */</span></span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">deallocate</span><span class="params">(<span class="type">void</span>* __p, <span class="type">size_t</span> __n)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (__n &gt; (<span class="type">size_t</span>) _MAX_BYTES)</span><br><span class="line">      malloc_alloc::<span class="built_in">deallocate</span>(__p, __n);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      _Obj* __STL_VOLATILE*  __my_free_list</span><br><span class="line">          = _S_free_list + _S_freelist_index(__n);</span><br><span class="line">      _Obj* __q = (_Obj*)__p;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// acquire lock</span></span><br><span class="line"><span class="meta">#       <span class="keyword">ifndef</span> _NOTHREADS</span></span><br><span class="line">      <span class="comment">/*REFERENCED*/</span></span><br><span class="line">      _Lock __lock_instance;</span><br><span class="line"><span class="meta">#       <span class="keyword">endif</span> <span class="comment">/* _NOTHREADS */</span></span></span><br><span class="line">      __q -&gt; _M_free_list_link = *__my_free_list;</span><br><span class="line">      *__my_free_list = __q;</span><br><span class="line">      <span class="comment">// lock is released here</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-重要类型和变量定义">2.重要类型和变量定义</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 内存池的粒度信息</span></span><br><span class="line"><span class="keyword">enum</span> &#123;_ALIGN = <span class="number">8</span>&#125;;<span class="comment">// 以8字节 对齐</span></span><br><span class="line"><span class="keyword">enum</span> &#123;_MAX_BYTES = <span class="number">128</span>&#125;; <span class="comment">// 链表最大存储单位是128字节</span></span><br><span class="line"><span class="keyword">enum</span> &#123;_NFREELISTS = <span class="number">16</span>&#125;; <span class="comment">//整个内存池是由一个长度为16的链表构成</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 每一个内存chunk块的头信息</span></span><br><span class="line"><span class="keyword">union</span> <span class="title class_">_Obj</span> &#123;</span><br><span class="line"><span class="keyword">union</span> <span class="title class_">_Obj</span>* _M_free_list_link;  <span class="comment">// 可以理解为当前节点的next指针</span></span><br><span class="line"><span class="type">char</span> _M_client_data[<span class="number">1</span>]; <span class="comment">/* The client sees this. */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 组织所有自由链表的数组，数组的每一个元素的类型是_Obj*，全部初始化为0</span></span><br><span class="line"><span class="type">static</span> _Obj* __STL_VOLATILE _S_free_list[_NFREELISTS];</span><br><span class="line"><span class="comment">// __STL_VOLATILE 是 volatile的宏，表示这个变量的值经常被更改</span></span><br><span class="line"><span class="comment">// Chunk allocation state. 记录内存chunk块的分配情况</span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">char</span>* _S_start_free;</span><br><span class="line"><span class="type">static</span> <span class="type">char</span>* _S_end_free;</span><br><span class="line"><span class="type">static</span> <span class="type">size_t</span> _S_heap_size;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> __threads, <span class="type">int</span> __inst&gt;</span><br><span class="line"><span class="type">char</span>* __default_alloc_template&lt;__threads, __inst&gt;::_S_start_free = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> __threads, <span class="type">int</span> __inst&gt;</span><br><span class="line"><span class="type">char</span>* __default_alloc_template&lt;__threads, __inst&gt;::_S_end_free = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> __threads, <span class="type">int</span> __inst&gt;</span><br><span class="line"><span class="type">size_t</span> __default_alloc_template&lt;__threads, __inst&gt;::_S_heap_size = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2023/03/21/102654a064ce4a07879d2598d3e2a6ec" alt=""></p><center style="font-size:18px;color:#C0C0C0">_S_free_list结构图</center><h2 id="3-重要的辅助接口函数">3. 重要的辅助接口函数</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*将 __bytes 上调至最邻近的 8 的倍数,作用是为了内存对齐*/</span></span><br><span class="line"><span class="type">static</span> <span class="type">size_t</span> _S_round_up(<span class="type">size_t</span> __bytes) <span class="comment">// 1~8=》8 9~16=》16 17~24=》24 ......</span></span><br><span class="line">&#123; <span class="keyword">return</span> (((__bytes) + (<span class="type">size_t</span>) _ALIGN<span class="number">-1</span>) &amp; ~((<span class="type">size_t</span>) _ALIGN - <span class="number">1</span>)); &#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">_ALIGN - 1 = 7 然后强转成size_t 4字节32位而后按位取反</span></span><br><span class="line"><span class="comment">00000000 00000000 00000000 00000111</span></span><br><span class="line"><span class="comment">11111111 11111111 11111111 11111000</span></span><br><span class="line"><span class="comment">假设 __bytes 为6 0110</span></span><br><span class="line"><span class="comment">((__bytes) + (size_t) _ALIGN-1)</span></span><br><span class="line"><span class="comment">00000000 00000000 00000000 00000111  +</span></span><br><span class="line"><span class="comment">00000000 00000000 00000000 00000110 得</span></span><br><span class="line"><span class="comment">00000000 00000000 00000000 00001001 &amp;</span></span><br><span class="line"><span class="comment">11111111 11111111 11111111 11111000 = </span></span><br><span class="line"><span class="comment">00000000 00000000 00000000 00001000 = 8</span></span><br><span class="line"><span class="comment">按位&amp;表示始终把后三位抛弃掉，留下来的始终是8的倍数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*返回 __bytes 大小的chunk块位于 free-list 中的编号*/</span></span><br><span class="line"><span class="type">static</span> <span class="type">size_t</span> _S_freelist_index(<span class="type">size_t</span> __bytes) &#123;</span><br><span class="line"><span class="keyword">return</span> (((__bytes) + (<span class="type">size_t</span>)_ALIGN<span class="number">-1</span>)/(<span class="type">size_t</span>)_ALIGN - <span class="number">1</span>); &#125;</span><br></pre></td></tr></table></figure><h2 id="4-内存池管理函数">4. 内存池管理函数</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 分配内存的入口函数</span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span>* <span class="title">allocate</span><span class="params">(<span class="type">size_t</span> __n)</span></span></span><br><span class="line"><span class="function"><span class="comment">// 负责把分配好的chunk块进行连接，添加到自由链表当中</span></span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span>* _<span class="title">S_refill</span><span class="params">(<span class="type">size_t</span> __n)</span></span>;</span><br><span class="line"><span class="comment">// 分配相应内存字节大小的chunk块，并且给下面三个成员变量初始化</span></span><br><span class="line"><span class="type">static</span> <span class="type">char</span>* _S_chunk_alloc(<span class="type">size_t</span> __size, <span class="type">int</span>&amp; __nobjs);</span><br><span class="line"><span class="comment">// 把chunk块归还到内存池</span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">deallocate</span><span class="params">(<span class="type">void</span>* __p, <span class="type">size_t</span> __n)</span></span>;</span><br><span class="line"><span class="comment">// 内存池扩容函数</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> threads, <span class="type">int</span> inst&gt;</span><br><span class="line"><span class="type">void</span>*</span><br><span class="line">__default_alloc_template&lt;threads, inst&gt;::<span class="built_in">reallocate</span>(<span class="type">void</span>* __p, <span class="type">size_t</span> __old_sz, <span class="type">size_t</span> __new_sz);</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span>* <span class="title">allocate</span><span class="params">(<span class="type">size_t</span> __n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">void</span>* __ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (__n &gt; (<span class="type">size_t</span>) _MAX_BYTES) &#123; <span class="comment">// 需要的内存大于128字节直接内存分配给它，否则从内存池中获取</span></span><br><span class="line">      __ret = malloc_alloc::<span class="built_in">allocate</span>(__n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      _Obj* __STL_VOLATILE* __my_free_list</span><br><span class="line">          = _S_free_list + _S_freelist_index(__n);<span class="comment">// 数组地址+偏移</span></span><br><span class="line">      <span class="comment">// Acquire the lock here with a constructor call.</span></span><br><span class="line">      <span class="comment">// This ensures that it is released in exit or during stack</span></span><br><span class="line">      <span class="comment">// unwinding.</span></span><br><span class="line">    <span class="meta">#     <span class="keyword">ifndef</span> _NOTHREADS</span></span><br><span class="line">      <span class="comment">/*REFERENCED*/</span></span><br><span class="line">      _Lock __lock_instance; <span class="comment">// 栈上对象（因为这是在函数中定义）出作用域(代码块&#123;&#125;)自动析构，锁就自己解开了</span></span><br><span class="line">    <span class="meta">#     <span class="keyword">endif</span></span></span><br><span class="line">      _Obj* __RESTRICT __result = *__my_free_list;</span><br><span class="line">      <span class="keyword">if</span> (__result == <span class="number">0</span>)</span><br><span class="line">        __ret = _S_refill(_S_round_up(__n));</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        *__my_free_list = __result -&gt; _M_free_list_link;</span><br><span class="line">        __ret = __result;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> __ret;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Returns an object of size __n, and optionally adds to size __n free list.*/</span></span><br><span class="line"><span class="comment">/* We assume that __n is properly aligned.                                */</span></span><br><span class="line"><span class="comment">/* We hold the allocation lock.                                         */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> __threads, <span class="type">int</span> __inst&gt;</span><br><span class="line"><span class="type">void</span>*</span><br><span class="line">__default_alloc_template&lt;__threads, __inst&gt;::_S_refill(<span class="type">size_t</span> __n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> __nobjs = <span class="number">20</span>;</span><br><span class="line">    <span class="comment">// 把 __n * __nobjs 大小的内存块分配好</span></span><br><span class="line">    <span class="type">char</span>* __chunk = _S_chunk_alloc(__n, __nobjs); <span class="comment">// 传的是 __nobjs的引用</span></span><br><span class="line">    _Obj* __STL_VOLATILE* __my_free_list;</span><br><span class="line">    _Obj* __result;</span><br><span class="line">    _Obj* __current_obj;</span><br><span class="line">    _Obj* __next_obj;</span><br><span class="line">    <span class="type">int</span> __i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="number">1</span> == __nobjs) <span class="keyword">return</span>(__chunk); <span class="comment">// 如果还有一个节点直接把这个节点给它 不做连接了</span></span><br><span class="line">    __my_free_list = _S_free_list + _S_freelist_index(__n);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Build free list in chunk */</span></span><br><span class="line">      __result = (_Obj*)__chunk;</span><br><span class="line">      *__my_free_list = __next_obj = (_Obj*)(__chunk + __n);</span><br><span class="line">      <span class="keyword">for</span> (__i = <span class="number">1</span>; ; __i++) &#123;</span><br><span class="line">        __current_obj = __next_obj;</span><br><span class="line">        __next_obj = (_Obj*)((<span class="type">char</span>*)__next_obj + __n); <span class="comment">// 转成char* 是为了做加法，加1走1字节</span></span><br><span class="line">        <span class="keyword">if</span> (__nobjs - <span class="number">1</span> == __i) &#123;</span><br><span class="line">            __current_obj -&gt; _M_free_list_link = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            __current_obj -&gt; _M_free_list_link = __next_obj;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">return</span>(__result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s1.vika.cn/space/2023/03/21/f6a38a204f5f47fa8d616368fec67b0a" alt=""></p><center style="font-size:18px;color:#C0C0C0">_S_refill流程图</center><p>接下来看<code>_S_chunk_alloc</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* We allocate memory in large chunks in order to avoid fragmenting     */</span></span><br><span class="line"><span class="comment">/* the malloc heap too much.                                            */</span></span><br><span class="line"><span class="comment">/* We assume that size is properly aligned.                             */</span></span><br><span class="line"><span class="comment">/* We hold the allocation lock.                                         */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> __threads, <span class="type">int</span> __inst&gt;</span><br><span class="line"><span class="type">char</span>*</span><br><span class="line">__default_alloc_template&lt;__threads, __inst&gt;::_S_chunk_alloc(<span class="type">size_t</span> __size, </span><br><span class="line">                                                            <span class="type">int</span>&amp; __nobjs)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span>* __result;</span><br><span class="line">    <span class="type">size_t</span> __total_bytes = __size * __nobjs; <span class="comment">// 8 * 20</span></span><br><span class="line">    <span class="type">size_t</span> __bytes_left = _S_end_free - _S_start_free; <span class="comment">// 默认值为0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (__bytes_left &gt;= __total_bytes) &#123;</span><br><span class="line">        __result = _S_start_free;</span><br><span class="line">        _S_start_free += __total_bytes;</span><br><span class="line">        <span class="keyword">return</span>(__result);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (__bytes_left &gt;= __size) &#123; <span class="comment">// 假设之前一直分配的8字节内存，现在突然要分配16字节，如果现在 __bytes_left的容量能够满足的化，会从8字节内存池中给16字节</span></span><br><span class="line">        __nobjs = (<span class="type">int</span>)(__bytes_left/__size); <span class="comment">// 把整个剩余空间都按照__size字节划分了</span></span><br><span class="line">        __total_bytes = __size * __nobjs;</span><br><span class="line">        __result = _S_start_free;</span><br><span class="line">        _S_start_free += __total_bytes;</span><br><span class="line">        <span class="keyword">return</span>(__result);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">size_t</span> __bytes_to_get = </span><br><span class="line">  <span class="number">2</span> * __total_bytes + _S_round_up(_S_heap_size &gt;&gt; <span class="number">4</span>); <span class="comment">// 2 * 160相当于40个node _S_heap_size / 16</span></span><br><span class="line">        <span class="comment">// Try to make use of the left-over piece.</span></span><br><span class="line">        <span class="keyword">if</span> (__bytes_left &gt; <span class="number">0</span>) &#123; <span class="comment">// 之前还有剩余但小于 __size，则把剩余的空间放在能能对齐的地方，比如还剩31字节，则把剩余空间放在专门存储32字节的链表下 </span></span><br><span class="line">            _Obj* __STL_VOLATILE* __my_free_list =</span><br><span class="line">                        _S_free_list + _S_freelist_index(__bytes_left);</span><br><span class="line"></span><br><span class="line">            ((_Obj*)_S_start_free) -&gt; _M_free_list_link = *__my_free_list;</span><br><span class="line">            *__my_free_list = (_Obj*)_S_start_free;</span><br><span class="line">        &#125;</span><br><span class="line">        _S_start_free = (<span class="type">char</span>*)<span class="built_in">malloc</span>(__bytes_to_get);</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> == _S_start_free) &#123; <span class="comment">// 开辟内存失败</span></span><br><span class="line">            <span class="type">size_t</span> __i;</span><br><span class="line">            _Obj* __STL_VOLATILE* __my_free_list;</span><br><span class="line">    _Obj* __p;</span><br><span class="line">            <span class="comment">// Try to make do with what we have.  That can&#x27;t</span></span><br><span class="line">            <span class="comment">// hurt.  We do not try smaller requests, since that tends</span></span><br><span class="line">            <span class="comment">// to result in disaster on multi-process machines.</span></span><br><span class="line">            <span class="keyword">for</span> (__i = __size;<span class="comment">// 看当前字节对齐后往后的下挂链表有剩余空间</span></span><br><span class="line">                 __i &lt;= (<span class="type">size_t</span>) _MAX_BYTES;</span><br><span class="line">                 __i += (<span class="type">size_t</span>) _ALIGN) &#123;</span><br><span class="line">                __my_free_list = _S_free_list + _S_freelist_index(__i);</span><br><span class="line">                __p = *__my_free_list;</span><br><span class="line">                <span class="keyword">if</span> (<span class="number">0</span> != __p) &#123;</span><br><span class="line">                    *__my_free_list = __p -&gt; _M_free_list_link;</span><br><span class="line">                    _S_start_free = (<span class="type">char</span>*)__p;</span><br><span class="line">                    _S_end_free = _S_start_free + __i;</span><br><span class="line">                    <span class="keyword">return</span>(_S_chunk_alloc(__size, __nobjs));</span><br><span class="line">                    <span class="comment">// Any leftover piece will eventually make it to the</span></span><br><span class="line">                    <span class="comment">// right free list.</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="comment">// 如果8~128字节链表都存满了</span></span><br><span class="line">    _S_end_free = <span class="number">0</span>;<span class="comment">// In case of exception.</span></span><br><span class="line">            _S_start_free = (<span class="type">char</span>*)malloc_alloc::<span class="built_in">allocate</span>(__bytes_to_get);</span><br><span class="line">            <span class="comment">// This should either throw an</span></span><br><span class="line">            <span class="comment">// exception or remedy the situation.  Thus we assume it</span></span><br><span class="line">            <span class="comment">// succeeded.</span></span><br><span class="line">        &#125;</span><br><span class="line">        _S_heap_size += __bytes_to_get;</span><br><span class="line">        _S_end_free = _S_start_free + __bytes_to_get;</span><br><span class="line">        <span class="keyword">return</span>(_S_chunk_alloc(__size, __nobjs));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">_S_start_free = (<span class="type">char</span>*)malloc_alloc::<span class="built_in">allocate</span>(__bytes_to_get); <span class="comment">// allocate调用的是下面的函数</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">void</span>* <span class="title">allocate</span><span class="params">(<span class="type">size_t</span> __n)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="type">void</span>* __result = <span class="built_in">malloc</span>(__n);</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">0</span> == __result) __result = _S_oom_malloc(__n); <span class="comment">//如果依然分配失败，调用_S_oom_malloc</span></span><br><span class="line">    <span class="keyword">return</span> __result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">int</span> __inst&gt;</span><br><span class="line"><span class="type">void</span>*</span><br><span class="line">__malloc_alloc_template&lt;__inst&gt;::_S_oom_malloc(<span class="type">size_t</span> __n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">void</span> (* __my_malloc_handler)(); <span class="comment">// 函数指针 假设用户传给一个回调函数，当内存分配失败的时候会调用这个回调函数，该函数可能是释放一些可以释放的内存空间</span></span><br><span class="line">    <span class="type">void</span>* __result;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">        __my_malloc_handler = __malloc_alloc_oom_handler;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> == __my_malloc_handler) &#123; __THROW_BAD_ALLOC; &#125; <span class="comment">// 如果用户也没设置回调函数 返回错误</span></span><br><span class="line">        (*__my_malloc_handler)(); <span class="comment">// 直到调用回调函数成功</span></span><br><span class="line">        __result = <span class="built_in">malloc</span>(__n);</span><br><span class="line">        <span class="keyword">if</span> (__result) <span class="keyword">return</span>(__result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>分配完后该讲释放了<code>deallocate</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* __p may not be 0 */</span></span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">deallocate</span><span class="params">(<span class="type">void</span>* __p, <span class="type">size_t</span> __n)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (__n &gt; (<span class="type">size_t</span>) _MAX_BYTES)</span><br><span class="line">      malloc_alloc::<span class="built_in">deallocate</span>(__p, __n);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      _Obj* __STL_VOLATILE*  __my_free_list</span><br><span class="line">          = _S_free_list + _S_freelist_index(__n);</span><br><span class="line">      _Obj* __q = (_Obj*)__p; <span class="comment">// __q指向要归还的节点__p</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// acquire lock</span></span><br><span class="line"><span class="meta">#       <span class="keyword">ifndef</span> _NOTHREADS</span></span><br><span class="line">      <span class="comment">/*REFERENCED*/</span></span><br><span class="line">      _Lock __lock_instance;</span><br><span class="line"><span class="meta">#       <span class="keyword">endif</span> <span class="comment">/* _NOTHREADS */</span></span></span><br><span class="line">      __q -&gt; _M_free_list_link = *__my_free_list;</span><br><span class="line">      *__my_free_list = __q;</span><br><span class="line">      <span class="comment">// lock is released here</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><code>deallocate</code>函数（扩容）</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="type">bool</span> threads, <span class="type">int</span> inst&gt;</span><br><span class="line"><span class="type">void</span>*</span><br><span class="line">__default_alloc_template&lt;threads, inst&gt;::<span class="built_in">reallocate</span>(<span class="type">void</span>* __p,</span><br><span class="line">                                                    <span class="type">size_t</span> __old_sz,</span><br><span class="line">                                                    <span class="type">size_t</span> __new_sz)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">void</span>* __result;</span><br><span class="line">    <span class="type">size_t</span> __copy_sz;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不在内存池中的数据</span></span><br><span class="line">    <span class="keyword">if</span> (__old_sz &gt; (<span class="type">size_t</span>) _MAX_BYTES &amp;&amp; __new_sz &gt; (<span class="type">size_t</span>) _MAX_BYTES) &#123;</span><br><span class="line">        <span class="keyword">return</span>(<span class="built_in">realloc</span>(__p, __new_sz));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (_S_round_up(__old_sz) == _S_round_up(__new_sz)) <span class="keyword">return</span>(__p); <span class="comment">// 如果从6字节扩容到7字节，还是在8字节链表下，不用管</span></span><br><span class="line">    __result = <span class="built_in">allocate</span>(__new_sz);</span><br><span class="line">    __copy_sz = __new_sz &gt; __old_sz? __old_sz : __new_sz; <span class="comment">// 看是扩容还是缩容</span></span><br><span class="line">    <span class="built_in">memcpy</span>(__result, __p, __copy_sz);</span><br><span class="line">    <span class="built_in">deallocate</span>(__p, __old_sz);</span><br><span class="line">    <span class="keyword">return</span>(__result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>SGI STL二级空间配置器内存池的实现优点：</p><ol><li>对于每一个字节数的chunk块分配，都是给出一部分进行使用，另一部分作为备用，这个备用可以给当前字节数使用，也可以给其它字节数使用。</li><li>对于备用内存池划分完chunk块以后，如果还有剩余的很小的内存块，再次分配的时候，会把这些小的内存块再次分配出去，内存使用非常彻底。</li><li>当指定字节数内存分配失败以后，有一个异常处理的过程，bytes-128字节所有的chunk块进行查看，如果哪个字节数有空闲的chunk块，直接借一个出去。如果上面操作失败，还会调用oom_malloc，用来调用用户传的回调函数</li></ol><h2 id="5-源码移植">5.源码移植</h2>]]></content>
    
    
    <summary type="html">🥧本文讲述SGI STL二级空间配置器学习笔记</summary>
    
    
    
    <category term="c++" scheme="https://yanhool.github.io/categories/c/"/>
    
    <category term="源码分析" scheme="https://yanhool.github.io/categories/c/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
    <category term="源码分析" scheme="https://yanhool.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>红黑树详解</title>
    <link href="https://yanhool.github.io/posts/20230320d.html"/>
    <id>https://yanhool.github.io/posts/20230320d.html</id>
    <published>2023-03-19T10:19:03.000Z</published>
    <updated>2023-03-19T13:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>红黑树</h1><h2 id="1-为什么会有红黑树">1.为什么会有红黑树</h2><p>信息社会存储着大量的数据，最初人们进行查找时采用从头到尾的方式遍历，但当数据量逐渐增大时，从头到尾的遍历方式所带来的时间消耗无疑太高了；后来人们对数组数据进行排序，然后通过二分法对数据进行查找，这样无疑会加快搜索速度，但添加数据时需要后移数据，这样的代价也太高了；当然，可以用链表的形式对数据进行存储，通过构建跳表的数据结构对数据进行二分查找（这不是本章的重点）；人们发现可以用二叉搜索数的方式对数据搜索（节点左边的值都小于节点本身，节点右边的值都大于节点本身，假设该树是一颗完全二叉树则节点总数为：$n=1+2+4+…+2^{h-1}=2^h-1$ =》$h=log_2(n+1)$ 可知插入和查找的时间复杂度为$O(log)$），但当节点从小到大插入数据的时候，二叉搜索树就会退化成链表，因此AVL树（平衡二叉树）就诞生了；AVL树的$|height(root-&gt;left) - hegith(root-&gt;right)| &lt;= 1$ 即每个节点左子树高度与右子树高度之差的绝对值小于等于 1，如果插入数据后不满足就要对树进行旋转操作；由于AVL树需要不断的对树进行调整来满足其AVL的性质，所以红黑树就诞生了；RBT是一种自平衡的二叉搜索树，每个节点有一个额外的bit存储空间存储颜色：它的颜色可以是红色或黑色。红黑树(RBT)在插入和删除时需要的旋转次数比AVL树少。与AVL树相比，RBT树的平衡性较差，所以可以得出如果插入删除操作不频繁，但搜索很频繁优先使用AVL树，但如果三者都很频繁则使用红黑树。</p><blockquote><p>AVL树的旋转：LL 直接右旋 LR 先左旋再右旋 RR 直接右旋 RL 先右旋再左旋</p></blockquote><h2 id="2-今天的主角：红黑树">2.今天的主角：红黑树</h2><blockquote><p>看之前先看一下 <a href="https://www.zhihu.com/question/312327402">红黑树解释-敖丙</a><br>这个人写的明显更好  =￣ω￣=</p></blockquote><p>​红黑树是基于2-3-4树，由于直接进行不同节点间的转化会造成较大的开销，所以选择以二叉树为基础，在二叉树的属性中加入一个<strong>颜色属性</strong>来表示2-3-4树中不同的节点。2节点对应着红黑树中的黑色节点，而2-3-4树中的非2节点是以<strong>红节点+黑节点</strong>的方式存在，红节点的意义是与黑色父节点结合，表达着2-3-4树中的3，4节点。2-3-4树到红黑树的节点转换。2节点直接转化为黑色节点；3节点这里可以有两种表现形式，左倾红节点(左倾红黑树限制了如果在树中出现了红色节点，那么这个节点必须是左儿子)或者右倾红节点。而4节点被强制<strong>要求</strong>转化为一个黑父带着左右两个红色儿子。</p><p>插入：2-3树的插入。我们的插入操作需要遵循一个<strong>原则</strong>：先将这个元素尝试性地放在<strong>已经存在的节点中</strong>，如果要存放的节点是2节点，那么插入后会变成3节点，如果要存放的节点是3节点，那么插入后会变成4节点（<strong>临时</strong>）。然后，我们对可能生成的临时4节点进行分裂处理，使得临时4节点消失。</p><p>删除：对于2-3树的删除我们主要要考虑待删除元素在2节点这种情况，因为如果待删除元素在3节点，那么可以直接将这个元素删除，而不会破坏2-3树的任何性质（删除这个元素不会引起高度的变化）。当待删除元素在2节点的时候，不断地判断当前节点是否为2节点，如果是，就从它的兄弟节点或者它的父节点借一个元素，使得当前节点由2节点成为一个3节点或者一个临时4节点。</p><img src="https://pica.zhimg.com/80/v2-a8c1bad2ca7f54dfbabb192cc0f7d122_720w.webp?source=1940ef5c" style="zoom:80%;" /><h3 id="红黑树的一些性质：">红黑树的一些性质：</h3><ol><li>红黑树是一棵平衡二叉搜索树，其中序遍历单调不减。</li><li>节点是红色或黑色。</li><li>根节点是黑色。</li><li>每个叶节点(也有称外部节点的，目的是将红黑树变为真二叉树，即 NULL 节点，空节点)是黑色的。</li><li>每个红色节点的两个子节点都是黑色。(换句话说，从每个叶子到根的所有路径上不能有两个连续的红色节点)</li><li>从根节点到每个叶子的所有路径都包含相同数目的黑色节点（这个数值叫做黑高度）。</li><li>从根到叶子节点的最长可能路径不多于最短可能路径的两倍长。（最短k个黑色节点连在一起，最长黑红相间2k-1个节点，因为两个红色节点不能连在一起）</li></ol><p>下面一棵树就是红黑树</p><img src="https://s1.vika.cn/space/2023/03/19/973d491a93fa4decade22ccee8a804e6" alt="100" style="zoom:50%;" /><p>以下则不是红黑树</p><img src="https://s1.vika.cn/space/2023/03/19/9dbb7b8066654a60b1d4dc604ba64508" style="zoom:67%;" /><p>红黑树的高度最多为$2log_2(n+1)$</p><p>红黑树与二叉搜索树的不同：红黑树是以null值为叶子节点</p><img src="https://s1.vika.cn/space/2023/03/19/4d100c50e75744558b53073dcd4bc298" style="zoom:50%;" /><p>黑色高度：该节点到叶子节点的黑色节点个数</p><img src="https://s1.vika.cn/space/2023/03/19/a980d95dbf3345a48f3863bfc42cf86e" style="zoom:67%;" /><h2 id="3-红黑树的平衡操作">3.红黑树的平衡操作</h2><h3 id="3-1插入">3.1插入</h3><p>插入的都是红色节点</p><p>3.1.1被插入的节点是根节点。<br>直接把此节点涂为黑色。（即插入一颗空树）<br>3.1.2被插入的节点的父节点是黑色。<br>什么也不需要做。<br>3.1.3被插入的节点的父节点是红色。</p><ol><li>当前节点的祖父节点的另一个子节点（叔叔节点）也是红色。<ol><li>将&quot;父节点&quot;设为黑色。</li><li>将&quot;叔叔节点&quot;设为黑色。</li><li>将&quot;祖父节点&quot;设为&quot;红色&quot;。</li><li>将“祖父节点”设为“当前节点”（红色节点）；即，之后继续对“当前节点“进行操作</li></ol></li><li>叔叔节点是黑色，且当前节点是其父节点的右孩子<ol><li>将&quot;父节点“作为“新的当前节点”。</li><li>以&quot;新的当前节点&quot;为支点进行左旋。</li></ol></li><li>叔叔节点是黑色，且当前节点是其父节点的左孩子<ol><li>将&quot;父节点&quot;设为&quot;黑色&quot;。</li><li>将&quot;祖父节点&quot;设为&quot;红色&quot;。</li><li>以&quot;祖父节点&quot;为支点进行右旋。</li></ol></li></ol><img src="https://s1.vika.cn/space/2023/03/19/898cf6866cd74af4b505f3945dff05b0" style="zoom:67%;" /><center style="font-size:18px;color:#C0C0C0;text-decoration:underline">插入节点步骤</center><h3 id="3-2-删除操作">3.2 删除操作</h3><p>红黑树的删除节点操作，在删除<code>x</code>（假设<code>x</code>只有一个儿子）后会把<code>x</code>的儿子变成<code>x</code>节点的位置，此时给<code>x</code>的儿子节点加上黑色（这时此节点的颜色可能是&quot;红+黑&quot;或者&quot;黑+黑&quot;）;如果<code>x</code>没有儿子，相当于指向NIL，红黑树中NIL是黑色</p><p>3.2.1 x指向一个&quot;红+黑&quot;节点。<br>将x设为一个&quot;黑&quot;节点即可。<br>3.2.2 x指向根。<br>将x设为一个&quot;黑&quot;节点即可。<br>3.2.3 “黑+黑”</p><ol><li>x的兄弟节点是红色<ol><li>将x的兄弟节点设为&quot;黑色&quot;。</li><li>将x的父节点设为&quot;红色&quot;。</li><li>对x的父节点进行左旋。</li><li>左旋后，重新设置x的兄弟节点。</li></ol></li><li>x的兄弟节点是黑色，x的兄弟节点的两个孩子都是黑色。<ol><li>将x的兄弟节点设为&quot;红色&quot;。</li><li>设置x的父节点&quot;为&quot;新的x节点&quot;。</li></ol></li><li>x的兄弟节点是黑色；x的兄弟节点的左孩子是红色，右孩子是黑色的。<ol><li>将x兄弟节点的左孩子设为&quot;黑色”。</li><li>将x兄弟节点设为“红色”。</li><li>对x的兄弟节点进行右旋。</li><li>右旋后，重新设置x的兄弟节点。</li></ol></li><li>x的兄弟节点是黑色；x的兄弟节点的右孩子是红色的，x的兄弟节点的左孩子任意颜色。<ol><li>将x父节点颜色赋值给的兄弟节点。</li><li>将x父节点设为&quot;黑色&quot;。</li><li>将x兄弟节点的右子节设为&quot;黑色&quot;。</li><li>对x的父节点进行左旋。</li></ol></li></ol>]]></content>
    
    
    <summary type="html">🥧本文讲述红黑树的原理</summary>
    
    
    
    <category term="算法" scheme="https://yanhool.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
    <category term="算法" scheme="https://yanhool.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>常用算法模板</title>
    <link href="https://yanhool.github.io/posts/20230315d.html"/>
    <id>https://yanhool.github.io/posts/20230315d.html</id>
    <published>2023-03-15T10:19:03.000Z</published>
    <updated>2023-03-15T13:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="1ac5e468267fdeccc233695134b3f6534c6aca9ea21f6490c917e073409908dd">e13c3c85781f6174888b11e0da5e4df92693667a24cab43612495a627ae7cb2a03e55f4380ff402f60c909e9eaf73221f9833af4a0d0df2ae011c9222526be806eae5546ce791e73d878c71dedda0adc79a282b3bc75c6adb71e07144accacfcb7b5ebe15b7b4d1da233df032d0e744c6ca6181b505a45e87d5c756ed5d60bfaa64f9fc6499930b98bef38e84e8e13b4686a32b1575bcc1015b72b2e7545e6167634da0b073b210d24deb1f4bbc6be828b9fce0d07388a68ddf74177239db32d4e3d0a9c1f338159fecc4cf30c36bb27b248ece4d8d635b5e8873bf9e7499a94d20d459707d30d4679bcf225b3ef42de7ffb1ecd30ac807a12869adef185d2bffe48c09b91d414d9b2207e1db5c64da0f6631048ef711ca36a9c2276756aa245b65325800787a7346e71ec4597cf9a36e16d67e1d76bb06741ea412bd09d85c55cd2ad44fc3c6a2dd68e77a4ea84641e3141691e695023ae88698a8a3475e14fd947f202abd105ac08b3cb9ee6151c612e05a63cf893717b6490b65f18f74f71efab9cf5856f872405e217ffd99b68e7f1a3af3ef6dd43645b52ca872ee259cc5e98893fc9a27dd46ad3056f43a667bc9d1fa372303644b8e290b42f1eb981f93976cdd949b5e3b8b4ed2be10b500ca0cf46b121d56444bf3b889142abd507a1e7f4a8e51f349bbd90c0d5744627ecae7efbe32bfdaecca231434b0149e4a89fc90557b9743f0e9f9d2e013f18e6e30913fc89c6cb3b64ff1dbfdb70c73404ba22f092bf9df9730c8d482d01f8ae43a5106586c6d940677379a578425dc41b2dd7a00005751d7e2b5570abff5724615a904fc0924c157c4e0ed65abe099049b2739edde10247f962d0aec4374f53651bba5db8cb36e83a1e54bf254d47d357318bf27b2a9f46a1827c932569863b17d316079f7de934ae46acb164157c31bdf9d40a7a737a11ce54258a45c448ccd5cf6dc33a586a9537f02dd4bb8043dbe514726a3f33d3a7bb97827c77c40a738b98945e616c624035df624cf4c44713fcbc841d2f879fdeb299002ac65b2d16093d8f6918dab573c3cb0a02f8af84938fc307a13fa272c1cef3d01ef695a6e64a40939feeb974551d6bf596bc95051bef0b2ffbb14296fe2386746b5ff627c02b6a83520622e53122fb4187d57e7762eef084706c02bfe40dedc59593157eb29652ab2b50ce3a48b875c2d752942ea5c37366543488c8a41ad54461681d3b55512dadc0cdec5e47f082beb66d7e8b42ce164b5b4f6143662f52091266a3e6a1ba18d6b9b2063ea85fa36d647709c37601d370660da909bab16298765ff1510e5ab826cb3607b98888af6d9de89b5e3ae70790d2e858e3ade293c5b5610f55d21d9a8007eabce47b27caafcd127193041ad72aa218725ba17c986c2e95125d19410d3e5238c41ec56e08c8b3326a1dbd438a964f4a847a1678b55abfaabe80a8c2e82be016fc497b79d7058aea391349b8bc9a7b34712da4ff74fe0e39a997fc181d17ac189156957ba8a1afdffb0e630a73fdbf523a03b6876f236e088f244dc50c17bfca97449f9984daa52a7321cef4426db6fa008881d1b24132edeb3d3898f8732aa029f8f8913fc15075ec3673571374a8a633636cc7db36ef479bf1b3162f431a3349d6c5d0329ce83d08d3ea53948d6119648dc417e4d19702b6e732687f9783249094577dfb131e95772e3e66456c75211470bd9a6f0918653ff7e6fe7e22a0dd1f17a882c8f578a3535e67683216f5c98de1ccd746e2120ddfc481995d6f627442e62d74d5f019a34d963a71c6c62afd258cf288d1f754b510b388892b00937170d7cd9e5e925e2f251463d6725db424588940be31eec60099d17cf445a175780577bc0d0bb0590d1e6ce20fa2b56ba16e61dbcba062e3350e766182395a57a77fb6209212c6683cb4e7df13c72ecf4a3f78036404952662000c7bef73a8826038801ef4137b9c27666e4e222c065004535b048f09c07c497c6400b6cc137da8ce6396bb26b7b936005bdb895cf86aaafbdb9f6cbe4d30626c7f9bd395ed1e042af23c8ed2745d608e475d1b64a0d3204297ad7a0fad32db472416dd601b8960bf664cd8936cde0f573303e184c4400116ea2686cf19d4888bcb1d63d42cc38490209c171fd34ecec3076e3e8b3198c37f357808a7d2e4e36b293727325159ad6c67097fdf518536ea2e924c85736c059c747462c86330720044385a56756b299adf518e0c7b509697768437eeefa78aeb2b3ead1d313c5444fc99b353b219d5b2a5b3559927e75261b17931dedc55b08ae01dc8d41f3d85150c26af612a3333c8885abbeadb3c004b74e7d17a7b7a3b9cb2a779c0469ca867072c0e2b721ec09dd6e94774a01c96c16b365b93a93c1b42945cea9f2bc7f9a9a1a0ee271ee1b52c0aa5eb8161c04d694576096bd54957fbfb01b421ad700120d40573d8e83bbfaa43259102bf26523b198146fa24b6d51161473fa9384ddb6f730382445a67a5f8263976faa6296422b31c8734969f4cdcc4883841147d54325ba7edfcd0d012709a4998a6f50f936649396a5b1db35862250952656882aa8fe0429e6bffb3f9429fd6c2917b44661de3d8bae91415e9bd644edd222c27a22b8434d212cae65919fb9bf749d8b9f040740ab3b4493767a1cacc41de030158ba130ecceb85a8c3f2d467e4376aa444bb2e749386697ca0fa1e8583cb4f9b1f3f4be15cdf2fe3f2ed8fee15b648e9ceb25531af7d37f030230be9c2a5f44d5c88c7d6598750cc8bfb65fbc15f1814ebb4f40c8abb3e66ea6de07553ad6b529f900f08a2c01e1429e19cc971d6128fde6cc81de5b9b71b5cbc66f6ede3d1833e41495241ca76ae7d089e8b99d588f0084090771c808133f4800ef3992f6c7090b7cc6c25ca97fab7ff2d7583a197fcb2d2e5f79e79a947b21000896206ad9dff2373c34abd5806f178f2a8ba478a85b07a5a4a56cdb4a9e94ad833a18d0b6824079122dd00d03ab741ca5a08d389fc3a72e31052fda6543bba4664f3d0d21adb2ae8eda7243e41f5794584c69582d552c54d16ccfe98b5d02bcf86f407e75c559d7bb059fa541501b6c0edd976aa3d2934436aa849a03ac2530bd2914ddae9e00512fbcd9b04e16fb0345600e134c8b9ad7c2a5b40d128fad55fb67e7dc47d010e195fa68d29f1d93f73b54cdc3daf1cab6dd14195db6b210499b540e0aa7a04a98b22ca1f53a92976780968c3165c1559ba6c26b47fb0f8c924c5a5315032c063f134202cb1e67c4a215f1a037d6b6a02edd2883b5cace26e223a192b5b1bd7ffb1058c6119ee8a9c2f85cd1d49ff3fb375ee46d546594e53abd82d951703ff19b186919c1407db4ba56c7222a8c23355c33e1d597683218dc8279cb032c58abba137a1c81d94178feaa48c829803d7db40b38431e28e99d62ff3c3b70352801483feebd2ec09b7dc320a196c09fdc3cb3b00ad605b861b946c7bb74cddd88a7b49456b243e76993a181944135e75ddeaca344df742b3f60b0959d0db9c8184d5fefceba4a3a6e64ed87c597b2dd497169deb3af978ce747d48d9fb1f879cda97a3816f25650632e9ec22c8a1cd5f68cd744ddc182f59eedf21c40cc121745b5e5727608f1530ab5eb7998fde3ef33ecf6eb6bae24b08537626b8d4a46f354e1896490df33304240720eb2ade4766c52903e7f419b43b8ac73665ca60015f5293d415a0207b4b935291c0e2fc5449b9ada532f9c7f331af4b00563ea45f2217cb21d1e780db67fbe4caa7de862972065b1c873cd6063fd36aa45622838dd4698982ceb90eefe6ea25b24ee1d7b9304ef362e0f2edd1b6cbd84c13d60dc245c28d0268f0bc3f638d025550cedee08b1971d49ce2acac9b652cdfc9d19c8f7cbae52b0b7e895036b22a198d8251cc6bc174c07fcdaccff9968a85320118f85b9af41abd5a0e15d2298023855246a55039d066bd7746f57c1a3a8fb847f0e729066f89594033d0e9c2a8b65dce2098ec411221a4e5bcf60e4ae82d45483a4972cf8309f8548d2858906de895eb9654576025e0368d1bac2610a87614d5fde11a653e2c8b98a21d825f0a1921016993c1f284d6ced496d855aa1c23c1343446661a81a383cfa152b910c80c88d325c5dd0902fc4b512f0dfbac37c970e0f038f59d1fda4687696e045b2978bf4a090f43da19a84901a02f899be52a560c974453e17126532cab3010b27918a4ed86694e477710da4e42f2cadd74a6bf9d7cd2e74861cdaf5954b1e05babac1a87508e8cd8512061be40a878cc8eaa452c23a59e7048467e9d8811da1e7c0a99c59dea460d43295d39bf357b1b7037be6b20e518510ed1d7f7fb73130d0f2abdbbba3b7855f2281626165be6dd0f80a0059c90bb8ebafa3da01fc6cb62d98bfa465aab733f2f1b85dc4be310d8d2538a5fbcb7c85c2d26541ec27eaba6dcbcc1f2d9922959cba9c7dd4549739ec65c066ce0a08aa120d6389592eb70aa1ddc5f4616b6f7a1e47e640ea3a85636534b9d3e7849f240fd77eac323cccc2305c0896a0af927d041a3c2fc4fe91464443d7a785b9269d77ea47f5e2fc9681c9d417bddf3392dc858d6428e7bdca22be2d76265f1ccea76186e93abc664adf0559f1e6904e76284c9994c9e425b33b372b31155c819e2ca0da22c6615277029d64970e1e1356d6dbd2ca0b347269cf519b85803e336ac1452dac569f73adf9b78ba378059dc03ba81378204dbc3395a912dde02b33af9127b6203bddf5f87145189a494d8f28b3e5d28eb74b086435db1142d9ee6772ce172156d230fb24c0fb4ba58d443b8020b5159d61dda5c8001b068010e14afde24b9dae2b31c644eb2a4c9ec902fa03600a8781ad00cc564af3f44b0be437dd1a150b1ce3fc6d7e5d6291dd162957f468ec79fb9eeabdaac48f19d033589aad5a3466e5e046c69a128a003d187ae647758c7194cc43de1d5551934c262ac4ee0e8dca1c3423e59c3277b9520d46f6d7cceba97095696c48144adfe29d0320e59b83206c19a3c43a3f6edff2aeeb5adf9301a8af05dbde60f4d23b71941539c8b6c5cb77706552b5835e09d4f6f6ee5472160ad7cd18318c9facbd5bd59060e0b64cc1ce68554963d490a82972e07986f56ed9f0fd217ad5a76f2f43e28e3fb45b6d57d1e2951f4fb16fd5037f709f7360063a47a4915940e551881a0945ab5e4a1db4167ec88c3b3de2c950da814de284cfc8d1407780fae25f7b68a40fb8fbc3bc6ca6fc220e4dc0581d7b862693bcbb981f93966334c16ea4f10b23e8249982a1c0c9fab4ddcbb9c5ac060c94c2ffbbe216defff9a1a90becc757def713938d9024a85b7e06e5d69fb8e6f5fb0fdef28efcc97367daac05119acc85048d13bccfc44f062e9046c89a39c99c39bff718e5dc9a2952aa344fcb1aee57fd251b23716008b22d255d2effe54a6eb27fad3903b9a8b6ce1d9342b35e746720f66d88ba29163bd1e726954c299578c3a40aabd51c200ab9ac71347f1e07d5a59a9a3c7780acece8e83fd755657f1bfebdf81fc617f00f3f289f44cd3c046a4597f098864c3ac05bb21a4572911688412620d34122aa37ff435bae0953a2e648d7054256aa5a316ec1f04d14d92f3168184c7bdd96da17febf639f25b996b0d093d850d648decb5022daaf64671876eb088e7d39adb7e7e41f8f8edac8430b4d85fcf1c7fc1a23daafc34e9f6cf697ca379da27e22ecd0395c5d51329968c5b18f8437e6ecdab6b49c462f6a914ff98a0888a960f810e122c5d90189119a99936852d4ad3a3b0c836aa4c6c45ea8e0811a83990f4985ef14f9d1b1dc57d470e398a1c28a41faba808f11621085bf3928cf9c21e520a41d44b27657c57322825613f6b40b4e0ce2f4dbe42cd012e7e479ec2e35223385db066a4b4547eebd7eb2daf04d09bb9ad8346cb9c89b8ba0f9c65e0c714e1c9410b350cb2500c118aa823b42b30eee296473d16e48bb220aec05f9f18ee97d0c7c4bb9c5bec3a91533d029d731381ef756a3c343ea21b02af5a067f3037bd0e349649055f3df1dae8a6599f4c088012606a6a8fcfe2b22f825940571ef9f188dcd8bbc2fba8075ba4ad01ea67cccfa9c05d651aff35fea1487b91110551032c58131c9c11652035f23d30bfcc8d83352b4d1fe49cf4c414aaba54d8e54bfade206daa2f64f8f8ba99b0fd0c5a6e6a144462dc81fa3d3fa0b91ad8d6eb052d959cb17686e9270bc3f167f88d93acd842bcae8e505d50670a03a476be5e5277960690897711e5d951a63b2a082e7fb87b4b8464dc5f65ded52da61de425d9ffff42f328f4329022e2437f03efc136260186a3c952efb62c57576f12663c4aa45e0723fe6d66a3423611934a2fee2ca14f793a93431b602869708a8d8c884f2244d7c0e4927f2bdb4387cfbd3e1b07286b01b5cb0b3716d94df38f8bc19b7ad83b8715557dab5556a5cf3b906bcb7526e278ddbf3873bc8e979b6d37839a0a4654255c67d4c217e68e6516976914ca07ddceee621d63ca8abb126cb118427bfd747a8d5abe1180adfafcc7c4ef64654c9a30fb8bd6a2affb06190e4e25173ab387b7c6475831d60c7f8e8c3e37e843050fe7a94d4e4cc706dbd940a3695ddbd44c7fe3458076d55aa3bd5e8fe2c17f0a364b5a6d21c447768711d8ff859ba8f1b800ed19f80df6c3d7a473c4391153ec300d40e27da89d9abfef3478487857361b77520ea04f6a04f7638e61d19116be7bf0a74e662f8a73264c1e1ef62f957f048b175127fa474d9957a30b623d503ceb02d3a33dad3a9c5ff54e309d60c99cdcfc08436fac6a7075dbdbd4c21dbc1efe3ae5aa9b6338de2374b8a437cf48f9348a02adeaecf4f3fc1563b1bd4660e9241a6b6f1b78d0c7b52bf4b1c7c12528f99e40fe8408203a6d91f60b5d5e221c522b35b0842a71b89ac8d7c22dfc4d2889a8274bb0fc8111be6317ce1397cb624dad018e177c832141be5be3e7c9b715ac38f48a6a57b415b7dc6c20d239015b641a1a4869404b2884c02e21143ccbc5c86ad8015b0c4830912050f7edee121cf6eeebb3d2eefd6b0b32ccaa550f57c94918535cbc94819e301840e030d5a2084104ffd27eb41d6341d58428c59e80f1a085e1f91d981a9c2e9a31f24c50ab7d6665984e020db1c215a8fa34fd779a3f1c66ed54ce0de982f2964ac37a831ea89fa8b32dd2e32633a376c3809ad0b407ebbe785e487c07a27ffd8f1814684cea6815ec499c95b27ef012d970a7a7388f019ea15ac2aff776e730a97936121487dd832a0b886b38f4e19494b89bf1c2082ccdb83b5bf89e9ff8e05d37987b8df40101885b1445736d85d8a0dad2fe9a783b333d26c6a9089bb07c287e440f5ae044757503246a1a3ddaa7e107026edf449211e37bdfcb29aa6d0b1fcfd65c2e1cc796ffb1002bf606382afc6f9cd77d9a536093f5bf961d92ec52f5456f0ff3da1cb2bcb8fda29b0bf1a7aecc0058713db4347559f376082de3bed4cff15ea54facc5ea545ec7a7857bcbb40a91e29f0bd6c82c5307b527a658fa74dc9138cebd4bceb9ed331f0ac5bcec3bb118e3bc293ff698d794d405dd704b269212f02373a8ee0ea0b6ce9f6dc9242c93188a4ca9e5a36c58b847e4db44e474bf6c1d591336caeb4678874ab3b1d87f5ae9ad2567e22dd67c006441005534c9c7acc3f9d76b9d83eed1175cd9b8d07e4d376134207445b7130fd3833d0e15030379b035bcd7285696c5075e19d6faa34a21bb404a75a940df8d49b223b6939934db00c848bee68ab126f2ff53a704943456acfa6e6a02946cd050bd88c1dcb41db81bb777698f31dc39805511f304db6a01a1a40c1cbe63b21f22dc9e36ab949eaa4901915867e2479d7925a100c72236e779e60a9ba43244e2b7150f1962714ac2add20aa27221a512c0e1fc4490ebe1156ac1fe38cbaeb82d24dc8e9a6a3d48827ea2fa45d83414077ef5d1ca11897eec4c2e17fe0cad5b0ba311b2ac3a63b85ae075288cde353e9408f903ec34c63c4c3a78b56101477eee52354465ad4c481ba29b466dbb1fb300244b767f7cbc76844b23d817781c4e3c24a07f1f2c9978252546075c43c71a84ffe8c1ba8d2d98246d87e07aa02cf088be0b7dac1a7788fc9bca686f1ee467c473dc3c5f02a96daa677762767b72b5b0df7bf0888b68ffe146d8f72e5ab5636046ac482989847f8f3b7b75484d736ed2c7b017c9489b95db493e2bcf0a2b6be8a614a6244e0b420e85f366b30b070d13e34ec16dc2da424c1617ebf218e52e7aa18ade21d9482573f87380799668cb37b6aaf7b6c4b593f5a82a4cd375503c651cbdd69f270755e956db4e15226b59f8dcdf1bf4e85260ab058a1d9147a7998925a817e6784739e57db1d500cff8d06ccd6ad2d6cef56b1a88d32fd738a9f5db7d6f1d7aa04ff5d168a5b1512ef3758e46fe0f15fa59826280b3cc1dbd81d45c93d02eb11c520fec4838a2bb5169c99b52409be6c374c8f51748a3c55fd63ed3f35d6a0cc254f208c37bbac081ff50bc0d423e47f99aa0ca953e4fbdfd5dc8a9e50064e7d5d1e18b9754de52a87439e2addeee8e8423056981270b6999044b6a2f78d6335766d1f5599b503c714d85d0f7984a1f30583490d5d72eafa3d31477ea329af480ba64484320cdcbd9838241977f703c349d8b9c15d469ab885e317dd0e11915262da8d5ed1b82ae0a54299ae5084e6e6bf45ec7c0382f28e91584c5f43060379f639875682fee58bd9720d1e7cd3372aa582e7cd2436d7ad1bdf6e32e5120941b2bbba0fb288ecfa13d548bb7bb1e6723f9d2697538e10f4a1c1f466c0b5000cc19f840b83d00717330a0f78e8219915aed5b34acd6ec85d83abb216fb93110d5649a0c9bbf0227a21ada45a1c9d514a1053a512840c967b03435d94764f83a02e557bf0ad464ffdca30cdb37e2864b4675fad42691712234b533981c2a690c6d24b31e9b7a993c9a2f596a792b3c7926c52c4cd278a1187e9d0043c4747da12a4815a30c1744157eeb2726131662f39bbd73f3c9efe9acf6beb7de7aaea65244ff479b3c0125f21253a1985f6dc3d01ad4bfcd78ea0533240a7d7fc613cac905373b6933316bfd2d1e3a9270df8bd43b271f1986dff5464ba612daf28adea4fcd695f90c075b606d7f039a086c2bdc34dac821c7b848ff1796fd079c872a3777bbc151b64c6a40795f62df0e724be0e60212e27abd8525a862994be6bba3fad8dd7e9e33b99494b4a7352ca8d482abb13a1080ed644d19d7582e80e2ec9faf20b16e886003a5a6c505e5c3cb59a08b68fd6fb9252e9a15a802a825bbfbf1e082ed273853511b587e8dffaaf887f1190b2a9ca510b662cb8bd83f87cd36992bba155a5b5604a8d7a40f10c0f96bbcb3fb72acc9928be30729b54965e663892930e2d1588e4bdd6ac50d42d85e1d1aa51bb8d79b6c5bebd95ab65a2cbae80da805a29943c0dbce5a28fcc65cbc4a4311621657918eb0f9b3b71c3be08cf7d5c258669e8296cb3dc1231078d85c576978b43c5b30e780098796a0cbb82a8d20d3c7dcabb188fdfd7de1f0396753fb56dff7bef89440eddc5c7a757568f9c00cfe28e2166de95df7053ff28c85234a0350202f85d3317a4a52c999723bf9378fa967b2b03c2a33dee31f46778ac4c183d6907248c4e801d9a8c6b5bc801abcbf46cca1e1e756a357ecef10d4ad1429e169e2a0d8ac9f89d79ebd3ab58ff662279384e89d1c9206f532a4128bbd7d103e86cb0efeed0b9315fc67222cd55928b530045c81e50194c83a70a494ced544e55a959c0886a8c3a766577b7bafca4efb0a257b3509bd89b560cacbf6161c9f5406f8dacf889b4623e14ea5a59afd26cf7db34701e581a0aebb17600940f28a73f4c6607756e5c31410c9c131be8deb74b39a2e009faf2fc709f0df51caf1c3d465b4d144fb78b7a50810f8972046f6ba75a22a878267a74c303fbc6a96fa3742a2d2dc031678e5b0e7454ce0b5926da444c6bb06885df9b845c97f4e0b0e2471cef1e6a2e8d5e4becc4c2a47beb49f35d6d3862e422192b0f6538835813060832d99a6e38f17c789f1f93540c55aace52f7a3548b001468dbb9cd1d8760a5c9cdf1cbe4e0d65759b4ff76519a38241a0e9f3b0319a4c47a81b5e58c55d056aaf965c1bb251541cdb93ae7e9d4b0a6e217af22f20dee533535e15c5df4b45267689916e944c0fd3a234061f209c69f795160af5e61e1cddf726dbce976a7d58bedc22b6eb35a4799c81c770fe090d270787ea7b83392a56f73fba4a957e634f76bfde049fe2b440bd8f0c0ba27591dc5c08daf41f99684e56c34e2022c0fb884752d70528ec10666b8ce043a290879d902668a3e447b9aa6225e7d209770b357d37f87cd2c77beb2b85fab8dff171cb2b86306b6f0b60e457942cb70c582dcf01ad1c913cbfbf421edccff04433f80c894ca30ac1d58832a73f2c323809289922cd382d720c4be8caea9c32e88865f316cc0571ee38c244e601c9c1d2156d6c4f0095d1367e7942be9882a12aca403d4fa8ec8ea61090a3b971304b08b32564d869385c9a43146b3a0e8cba3664a676a2108997085f8ce0ea7e2813e3debc15a2cfbab671c97aec0861e68c5549eb85d8adf3f6e34f3344e0d6da36d97a07577b5f9e541ccf6045830cfd74a26de8618443e392f35c32398404714d2729163ceab4e550f4dd5283caccb03604dde556a6af616ed126d98912aa3e0d041edd0fb5aa8713bc0990193924a164eeb1e71c3811585cd890896a7f92cfc2d73919e4f2cc495bb11f22c6e047a3f98fac08f75acc2ab7ae66245482d37fce08ed0b46d61410ced2f1adf720f375734a3335f10a0847a6e0318a421c10b65678235a852a0dd5d638e47bb6f6ef515916173c0e5fdc92bb5f86f870a44d6d8c8c60acc0b2c632328b87ed2327a3fe08eee6fdc27a0cf129b228bd517841e31a287c25f4accf4c9134f69bf13423a82cd349343727be199f194b6f0fb0b6226987d4d147dd102626680668c6fc0c962a9312c45d6450c6f1509836f5f014019513ead198eb3ee4e8c3f58e1862ea1df101e422c7ed30d787aae330a7726cee61689494f82cab1eaee5477e1d5969555f9aec383b57078008217ae52b0f26a65734551c34b0e5632af447dc068869d0e0f6b2e29aedd41806f5aca734147a5c909aa7a32d79bf139d2f582198766d836b318f45f9851a52a816ea4d3ca7dd6fe2aac8272bead4189ffa8773cf7337fe3118d10f20ca31231c847ffa3cfcc3eecc3a93164708c96a1e74ff57a0fe459c104a5555037afdcd0c90f17591e6d8a7e01d71851d13819169092251b9d4a2f6b3668c6013f49e0510c0385e240e40af4d1eecaa240fe3fdf58b0113c9e271d72ccf144e1c6700627548d256c41b4f3d9fa7d33d1d5542938d705793321bf780d4ea906a1aea518bcf8a0a99faf6572fbbb67bbd01ae8c9879ab204944e59b7045730669c6edf86aca1df05a0c1bb991e5b533afd903a1647d92e527f6e7791ea510909866e33e0ee00b9efa4b8a165f1a513cdde902c4a6fb4952c5d6f990d36d506a3ab0b7ce6e3671901d053bcf5bd5647564eb17244979afa853ea70ceea2281b531a305e1a5169d789e77c1dbc5021122128453c182c65e455a927158fc0cbbb39416340256e3d6079ae84d941b607457b140ee1f6dc9d8c61e2d2cd7d95ec6c0018a2b319f6f0dbd283d0f3754eca146d87244ed8c5c3613142b7f3f430398e14b5fe74d88612e75635f5eead1af529b0ee6dcced62159e788842a5840f3c6e39e4c7b3a6b005ca9329496fdc5797a96056252c18c8ee54291403d13bef605112e36c5985722f58efc4d32b23f12d87385b4667cae5f56848389676ef2556b10b183358a4234fe4b1e0cf9cd672566ca60f93df375623b78ecb0e472468d1a464ea3281530bca516a0ad145d4f8edf92eace138a370b34383d149e97ccd5a9f80684e03e5d618ec7013e38062532616be703f54732a115628d29ac2d075de68be2f7a185956a91fbc7e47df91c3f36fdedc4f15ce25c89695545a00f94e7bbbea5e4a9c5b1a29db08e45889535070418aeeceb9e8b4c8d77f37ee2b9bcf8bff39715b449e16b47997118035a931f9f08c843b65cd131cfd9a16e0d05f8d4968f089eff4e5b5e77e68c4cc5e25a14cfda5dcc116e5df9fcc4f99ededd1b13954dedafdb984ce8db43fdc75888e4d3107f0c33b19e17f8e0a74c5d62262fbf039aacf9912c66dbcae9e0534eba54762bed3a3a5d2de051b0395751289ad39c2b110af71d664cc0c494cd1a94ecefb4aeead9a875aa6c707eadb8a30d43ef4d04c66421715856e64d04d24603d951d4fc5f653d5fb4a6975ab517e8af3694161618aa723b1764bb06d5dad0fe8fa220f0cf9b38f088669ad51eb5cc996826c237ae8f166f91cfb7f3c1edb3274055d3ec97ce762d0114af664ad2786d530c2d70ab886476caa955e35768cf8be03b4d8a2a2cdb7f35ba1b3a77f336c19b93d5573b41e3814e1fcb022078176b775edd7e4a242806571e852ffcbab485bb146dc5f694fc6ca096cdf0b3490b7dc3318d0f8d0d82ebc29a3be7f9e5e5f8d61780a6ab7e2a78b51368ce8e8c2e186508bf67b896750bfc284bc255d3cb2253060a3e2714b857c41afa2b7bf2f9fd92d1c6d3c3e488d63eab7341aef5a811ea3d8068533063ddc9b285b69583b9ca5bc7ea7aeabd49e8a731b3cfec34cd6a10bf247f51529204f349c8a4a798562de4f6805aa1800d8c818b3470730754a977e302cbb0e76927137d2725e18931574e7a5f05041cdbd363e58c2ec0442442c648ccfdd2189c346887a3762ad5bbab63f06601380df48e1d3f9d29801e3ab5075603732d570523cb16731498d0e950debac0b2f9691a9f3587aeded53470ca09806708d7f8d97182d8fb40bf75ddde7223bd9228b55439d128c29a1cdad793c2b19d45aff44d94e3c0836650f3dca133555d4f52d103b77a919d8265f371d688e1d9d86f6d80d5a4871966f20c30d494569795eeada317bc55747c7888ea31767e4cd53e484b31ef55b4ee8d448e896d6e3c0e9f8ad9cc1e00495d3fd00b4ca8c2c8e9546f7eab1a6efe13c45125e04e30c7fd08d98d75677213e24fa645108469cc9fddd59ebad2023cd3984d60f56ef89df6da48398788ffc24cc204ccd23d740676f0854bfce122bd5868a67f1f991dbe79f92a32010255161ea4c5e488194a47e38cbe13ea9949068eff28fc42333d3d4e56a6dfd7d7d8a1117226e094037ce770f9de6c7fff57ba8ab18d9a53d6921c4b9c656f258dfacc5162097d0ef4f33c4e2ee74c6e0a36e5101fb7bd8967f3304ac4805dc3b9833a280ffc84be7050e0f58689e29ece030fcb0ea7c2325e363c2a7255c6858d0ea8fa06671969c776aa633cdf545f21cc805e19075977cf695a2a9a1c0c7c895f6c790bfcf8dc8626d32c14642262e290aa1591c5da5e6711b8a55803e70478c1ad02e44f9ccb9954aa77b02a82ed6d8cb6f7da61baa794692741c9b973b8afa4f6fadd36e37dab469d7f188891ae0eac7c24f693b96fab8c9be62f7e3e50c298a964a2c88f7a657f24024affc9fa4a9c43eccc1d36504c0a36b4ddaa10c6b8607762aad316c878d7707265996da60c436bfd79b01320e822fcebb6f52982c2fe64232cf3cf837adb067d48d298dabf688d1000b980ca9e86e67a4d6d62cb76916872a4384c9d5c3206eb65ecdd4a334d3f7967cc13a8279bf57c8c9e3a6140ef601b7d1a775437dc6254ab9b34bf2318572eab9d60b19ced6810abf9106695dc3c416317fba514bf1fc98c8b37745205c2801133b600bdcb5124165ec3a5e28db1a051089a58759ee283a601b2b7b586d3de8e2d5a9eee98c77ed1960daf78cd7c25760f75114928d35aee970ce9a14e7e48ebbed42999e9e291f4c5533f8cda8161f72d234b933de81b326f152a8be8501e42eb635a9a3b6defa4a9d7bd10a0586ed5d6650179b2ceca31b51948924332ec7611ec15a7dfdce0ded943d8247825e3366a60e7af2dd044a1b653108c0aebc309945e6c2958cc9b53e7766c6abd435fb4e5cbdbd973d6e2b4237545b05d16c2340bdc4529b61e8232b8a373fdf58f8224880fbb8d244077746c88f255f350b1db9ad593f9514b43db63659e7eed57d6c26b0cac5f27262e98cfd4e7da5de25296401644afbc9e5a2060b6b1d4a34c52345e703f29854da9dc2d7659699c5975e5fdb1c4696a27f6b956c94637a67627a7cd4439fb97bafb54129382eae2584416793ae42852bdd1ec5980dbf91cd32fcab4b0b1434f535714bc80880680aa967f46f3c650653e393388b47eec9494cb94df6f547ba7c6d5b00cdf6a0774dc9e49093932e5111601888dd15b6968f00be8972d3149bd2899d6fdc47139613e5931214495a4b7dfd27ce3d5c14242f43d2dcdd1eb95541575796623b6e972a10578d6a01908fd52e781a0c5e02e08a8f94918dead4b179c19683e6e8719119b6479e6356d63ba8c524ec2a36aa0c7bdfb23bfa079848091736f27d9512d28716b8e6114ec39daf89199027d36389eacba8527eb498e8282436c5bdf3833601854cefff19d593e18618c3536e6bbda5735ad97c1f065c97929fc5cabee8463e821a977be219b53ca62cfbfd60cf3529134cdb5ca9a6ace313acd032e5d625fc706ac2217b88dd600632c91238c151fc6d65a79ea4d90f233fcc9aa1dc2ccafc176cddf04c7d43fc214bc440d08874e4d4a2b9773f9e94d4ffb9315b9004b16be84ba72e3ba246064cb421c0b43446662beee987a6dfba08f433d79c265e61243e09cde4925bc002d80fcfe0a9e78ce6840a4a410a3214266d19befe2e0f849910bc6bbd5dfb629e3e61c6c96e10eb3d32a765e9c94c85d797ea02432a73ae0ee8179b6b69649761fcfa5b7e3978e64db83fe0156f864d6ea08dea7ea858a06e4fcad9785b445ed61c06778ec0caff98b43b8012929d428fe5a0423e2cedeb0619739490548942277b57b1d2821aa7751751ceddc899c2a0f136e6ba62b805fc9aa27f12653e381f2be95e49a3d04a05382948a2e9a15aa4196a74aea161b4fd3fece172cebf3984f525f8ca24ba121206ad45da43e33485e10bb8ad3f759ca93942c2a03dd2346e8bd884910b56b5f5719f7644248a75a3e7eabd99fbf5463594abd90a5fd174ab2dd18ebec07e25b370e7033d47f187591fe12ae121d9ba717e2462fa7fa217fbb36f1bc34c7c433eb55c32826abcd8e0b83feaefaeb075f2a15b4a9bf69f34a989b2020ec5ef7e7385c568c53bc02090a225ea42d2a47a25087204289bcc420ecfbe91f243105545c55cd161073c9c1fd72353ff60f40c4e5d3cf972bb3df9ba57568fd89a84b9f29957c739ce045536c521f887ced32a5ef84227678bd8f52c5648ab5e20bc220ff7d2b4b4607e1af4d2b6c8734fabb182358e4a77109de721b5ccda3a8e3a8be3c999c13f337fc760f9446d3a027fc1279dbf609f012e10cf98f71ca82970c155eba938bc26a9da89aab43c7350676bce585beeb5e780985a60cc5bd096372da249ddd57b2f1d187e5ff60afa0be6e2f9b4c3da4888151de64efb373695ce3d231f097388200516e3a8b60b70c47ff8310bbef922250441411377e4aae2cca4a89b0689a74af72a6a7eea3546ea2ee204a9780809713c5945055163b71d1bd62fd169fab03221627c12412783377943d848d20f3019b140bcc7132bc860bd497d39570c99bfe82ed1502eccfeffba785c2d3cbfa2f17956edb27c520454eee01d4ca4f2c8193f7a80189b667c32016d3a2407aa94f724cd9d47230a1a2a9bb33cefb6ac3f1afc1e3ec8dd7a861372f9f674184d7bdb598ada027dd065d60ffb53fc30d05106dd9693ea93869d37624dc6c0343a1f29c2cace7d301c2dd8780367a63251a13b170a0150b50806821778ed597605931a2eb64f2ded55574e432f84ae8450df0f51769e0bea371a99456164016de2d10fe91c058cbcaf155ed7ed75421ec79e716666e8a4cf2633e150c72e25dc79f9302a016c431d89f654f9b77ccf9044728efe7e4edcbfe94e8ae57e9737829d532c59333f69dfcb38ab899761e52750fb084f6a08c3de03c5ce800cff0f99df1144373cc75eab1ed4b0336233f9da66088803dc07806b20d63688a9ba22c7eddff0d68a888340063c19db2f1d3de8a7aaa928803061b3f84452127a9c560271f0234392631c42f71e540bbaaeebd5e4217d535c12c90af31d07d421502b18528bf4e3a96345ea4ccb13ced5b49f69edb8eb2c30d77c92ec69e4391c36e66b1c8dae929663db25a81e89f58af308e5b33b52ec351ebe8cee4bf9009e56be20593bfa7e562b91ce1f7cfbedd1cd4f7e96a037bb768f84bcec474c4f11f1310faf67e5e8615736662efb6f7528d646e70964e554031b9da10dd3a1ecdc1f07b47e11b1272a4aa412cceaec118c93597771d76de81629993ef8f5fb8b7edff4fb7251141ec1ac7f3cac9b3f18fcde4f7ff63571a5db69fcda12d34b5061d28b42c853db8b00e86618cb02eec1e74a8ab9860e7c926343816711bbe16cdb85014e3802fcd97b742ef98e899225a3d4f7ab6bbc3a04b4c92f918cfb4701ce0545cc1bf80ce7bdafa86f6f8b0dc8fadc7558f4c04bafa35d54b3871d1af1d238264ced18f92d6b6c18ebea30d621006c1f4dca835ea147d37b47455c5bfa674a791ad7520680868b567b49f8acd52aa295779d4d907c3f4cb577d7406a301e6a5a8389fbfc3ea932d42423c8c7722e8a2713badd5a102ce954569cd887fcf62a5bf2e780412576823f36a2970fb77aaf5de241df95f878a70fdb78f03ca1a1dcba1542df294d794d0785ca8ee98280a545913aa7a03baa8fdbe18e1f6a967b3e6a750a2434e2202c4755f1ae92bbcef3321f21dd2cd8d87e1a4024391eb73ff306978219f3928f626c994e9dd34e79a38f62313e62bb65ca023b298253380e28573915865f079ab2e99aa0ffe8161d4adc41cfe111a178d5ace91d0c9c18118582a79f7bc3af3cf1e4a24bb3a212f402d77b8b77de0da04ae093b809946be9f41bbdcc6c0847baf83dd8aed5d7d4ffa32b38b31fa9e8c3796c622c99a2a0a6f0b235ef86d9ce5aebf80e04da84595f76b4f045b4291b38c55de918bba156c140a87d4e22ba0f5a2692a13627aa40ad16b99b3d17adc42c88ef0a4f7413fc4bf1f95dddb8e098d40dd79dc88a3d3511b558dfb4364411c4df1179dca4e14fba30314334575eb0448896552c192b992e4bc6ecfd5c76ccb7981410def86ac4514bb821edcaf3d180bd3f5c75a16dc46cabbc5c8052320d7e75dee1e81a7eeb64644196435dd990fc9e9f7475826d5641de846acf8b19eef725f16e2a53dc73fef6d132028145fe78ccb6af3916dbead8391574500c68aa005b1feab75ae3aaf0284e03d0e716fc70be4d1e06afa26ea5efccb98017add9a1509417803aaad75a4a8b83fd68be22e7d6fcec487f3381b9e02534034f423f5b7e82a64e41ed306165310b758f81f4fa09d6ab8d01d8c09a7802f2dfdac90f621f324adabd3d519157794f551a099c7f274214ef63396895bef63b2085e4e78261e9ade580413312c33a7bebbbb4a2a28bd5ba8862627d206b7e4f9bed061476b70c4b3f65e3af0aac96cac8244befc51e9f0954b78776fd723e334aeb46d532a11fabe602fe2dd2dd5bef60ff5a13082a25d3f44ab0ae42bc5caf7f526c16b451c8280d70d76e1eba142fd4e99e9660570a0be45aaf2cf2de49b8d43faedacec6d01fe06ec1154ddeaa1e482e567ae8d0a7b4c2bade246d6b59892a9b094a2c6b30525f16e58e85ca418780c1c12bbbfdb8f987e49a811cb0778f4c3f20d44e3f5cc0f677c8ee1879e5d732add6f8923473d407ab82e0503e5e331b4926a071d24e62a87db981f352d3f1843cec389cd8ce51db630d61f77b56c366974239a29d859baec6528579d660c170fc9d952891553e9ae37bd8f592403f883a0895b956728d160df63f6843128b8840920038b918ed1a098b2bca6085eb1860f24b5b49db5eb972f9750a5296857d8783970e1c281f16a1e37f6c0a6c9c6a57ec641f68547dc50b69e211215796ff919e1a482cf9f3418b3e6728963c2af969357a75684f51da8bb54622e905a570bf37ac79b07cb2e4e5edd9b6d2c76aef057d61020d32cfc131bd224f77329006e0d1ff5aa39a2c16b52a3e081ffa499d239a130999934eba08562bc215e0f90b3a2fa31e156e41454b67a70c6dadd58692c6e78099083fc4109de77e4b3d02bfda449d1cc0a7da5ce9e0a6dc1d1d0cb0d7aa891f4300ffeb8818f8d5f6cf75e89059a1e3bab3b747246e5f52cbb0a91519cf8674064ca5d5a5bce8785aed4a8fc802addf312a6269594f91503bcb81a7522e5546bbd1329dc3c99ef03f7066fd69d774c017c8512bef4ddd29fa85a7aaa7aee1bb85ed8c38870986b06acdec2eb08762e5f0b33d4bf4a82e538aa3df0e11e910409df3cf1449691e545d2e639b6da65f9ba7176d45b90047b1a558ceb0eac929421eb79af54b54efc16be0ecd5c8306c2c0f68dc507f9d56c4ba002428b9de1a4eeab89b85e1c879fc54d1965c5a7d7563bcd95872da24baf9da79532c2868f5c46e9aead87abfea3fe8215ae8313ed7f1d81c2da5ac2ae48091d91b8eff3164711e4f3783daf462081bfb9f79233285e564190795a233d694952e1f2451fb78991831a5896b3ae07d57e43b347d0f43c73e4616c7fe8d252b149fcbd7714899793934f98469dda09de4a445b0d62060db3a10b9bc26f389eb7e4021d7d190f9bc7bc54a83e7ebe1de9f493f89dfc91654e38f41f4f611c59de6a4842df8e0bd2f1084dc2726185e7862b4e0c9e5d897128e3401270df3b226926f650e5db3b3b4bc890157c35766dd8b8079b6d6453a11c5404aac103a271a4da871e6031744591cc450e2172cc0590993d19dc3e40a96fc568d06dfb4b12d1fdd676a5fc2e2500b55f3ef86de5cd0897d9b608680d9198cc0dc7bc7dc80854bee65e8044d4c20941269f69bb620852eed46a6c3fcaa61198321a7af20743d1e8f4807839f79f6e983f0c3f72af11f83ab67df35a5ff5c1dcdb18db571104bebb12c8d685fcd991b425d267fe66c70de5a051d008584b5dfbbdfa0d94fe6f8e8ba08a085837fdd8c93a0c6870902a5479e7235690602e99c8cbe0add44c854dff3b836bda607a754d4191665fc635c8ec66d6358389a3c27661bd4453879eb2f47453175038f565087f685cf4c92d3188b1753b3060241bad58b605c9e518b180a8b5b1e79545ee0679fb4d2e3f79b77a33f4703fb1ac04008feedd81d81f36cfcf531b8ee8c20283a96cab9d9e58f0a93142c0658313c24c81ba89b1f3f1f74414f447ee24e14c05ee4690c0418f84c5795c0b774210efb4638a6e77ff379a2246d96e3dbdc3d258adfc77b63b91557a12338dc2ab71cbb77688b80fa09ce0252517e5e7cc3bf5cfc91d4b4591a6a7ab238dd3c414fc81162d497b92d88738aa30f1917e5ac64a9f459743f035621658ac9eef2e2938602c1b59ca9c048b2789564b5116dc941fca38a3b4998cae379c4baf934892f8f528c6dcb31712667494a3eee625fc5ff0f26c673f38246ea7b75d5a9274f9734d8cc98192abc4d58835a7af8d69c45598cd3359f57ee07db51bf7b13f5a6d1748e5c89430d19b7c4346ab59564357cf27e303b065d0fee8ee08f085c344ef643244bcc5232a735696919a4df6ca53f9d45bec9424dcb7bed87df211775cb768273382cc22ef05796eb83281321cb6168a0a754ae0ab9dc8b9af40688408c3409beba907eac074a565fcdcc581290d9173a6ae9326006897a7259be8d7eae3ab08267adee0d9a37fe9de15b8e366a2de58462ae1b21cc3fe515789183fc9a318895f63db83ad172ab03a5eb9f419bc40af7a88b985f8c6450a73d5156e9fcb57418ddf24f3bb94753987f2a65f7617c971b4d33e8a5bbd57607b6b8aac54454bab58533190a46d849b7307fed421089a81d59b539811c8150e5041ed806a1b96919372d24b39bcdfd875a2493b930740f0ed5d2a113b9cefa7afc18695d74311619f038724b56da2a8438a48623031df50c8b7aea9718c2d94f6013d0b6ef1a67049a181577f112df76d4f6495c2124939c36080e817683c0cb90fcd29440418eda174b4236a1a96f476de7e44c3da8931de9a33f79b0f824a049c9a39fb82f7577dd78087633c95583310f7523b69be6628c4b29e8ab31a7d67aae28398e910c0ff1324b8adf83e1d3c06b24a408dec047631c1c68238c804b9f28eb762c51ee3e43fbe45fc849525b646fed744d98d06b491fb5d48ce7bcc3ca5d29c870d1bd26f2c97ba898f273b931d6b9d7b933398b22254c29ce35d366f9779aec0ec36e1deb7cc1a04b5a7fe9afe7274d6d5aa4260c9a642b38c5a79fc15402b6c30514b40fbaeb80825500974242c2b21deb003237023b7308f0a8a08cafb537cf3d7a2132745943d9536934e99a199ddeb9f15ef1ebeb0659240d9929cd22a4ebe4af562894018a781bb36415426ecee3627c6d122895d25cf330bb9e90a2a4316919c710809e1dbad33570754e4166f689c82b3b2d1edccc8782accc6795466e6f3e324019c1eb6a35115671a92f041bc937c0710881f9ea2ee58f83db758dffee99c49212eea0640471bb2b69f550c2762f1b0e2bfeecc3a68bb0d322bf051f24b9a115fcd1c38c2c9e8cbce6ce5f17b7e71fce8e99625b99585e0139d58425fe772b0571cde95601de538f37e80f72999d24d582c0d8399379d4c2e2861c766277101f7113a7d635776f378df2a1eccdd291b77e35b1279c25a44efbed6aef78e66f1e6e3af628d32ca186fbb6fc6bc7fef9469240d05cbe0c5474729a1f21d2de983340028fc6cf142de2959469a271ed1d80d8855af1a2489ae97973c62eddf2aaaf3069deef248b54a16ff98add834660f1846d2bf2ba8b103a8f12e240c0cfab0d6ad24f53c5ac38cf3c29dc7ba6daf82190f1d3790f602abe1ecfd5cc0c3344344269064d4063b5601c0581669a1848c705cb7b862476af372cae10222f1a6e86dd6cc5e39070895bf27eabdfc5fc431be4972f08e8735c0a8df839660a6973c15d4f9acbe5a584cd6f734db58398d047043e9c1cd6e53058becf8790998aa28eb7ea25e4c9805f4795d969a6c0692073c1c0530ed10e05d900a46b583e98f8cdcb43a571289e91e1d61acec384205dadcbda7ef41384af2e42fa47c43623bedf1fbb42d81a731229379b5b6481c8194d888fc02d6b80d87d9703f861e76febef2798fbf3440742049b5cb1c1e3054b5cfba5c1e2a77e9754b8c0fdcae7f05c849b1be1e9b0654eec9db7baa084cd0b4a836320454ffdbef804ead5759a3c2d9977d94d387528d7761927af545db43635a99b4fb9d6653a98032949cfb264781c90353227dfebc93d7b6054f988dccfe97e0246d351ee48b1a7e3dd88909e64fdcc1731f7852adb75a12ce1d94e13952fb07bca048846aa4594807da94cc0b35c0f78697de7a09192aa947ff8517564d0205081e37a25fb7cdad98844740abdc21688a9fd0819e25fc09c652411d497b7272341371ba60094fb857bdf3ba216e6f1688eac4860ec8b769a3c7db0da9a641de202a57089ac1411aecef8147a727e9ca7bcee0a0975ca96bf0c0c7fb076ae2a0f5c8bfe9a641cb76f776350d78c78aab4bba68e51b7ff2bdc934fe00edca1fcbc8be5232d021e747c711ff407b209a24e22dc80cbd703224d3358b822206a22f1b2e7206dc1a8c0deb6667b620373588d468bee32befc0df9f6c2fe1c9229c9be17d623a8802abd99c0b08e1a6f21b418bfef02e94da56011eb7bff8a5437072ccb948d61e01ec7537967a0faea283379b22b9d29adf3a7221bfaf630a8e49698b606759ae4fb3ff94c2e2a07eba4f975f99108245c5090f55d3e502087b15af41b8287093210dcc4907f0626431535e6e401ef5c20082fffa97f397398aedf3e712c5d2a437986e8adaaa1c0038d5ed8055e637f7a53652364f0e716359f685a0ac29338a81dcd2556627825c2fc501b38cd07fc356530da8e0e171b145659a638f8d4f17c92d58078b196914d78764290296019027ca6c5a9168721ad9437167978f9b5e12b2c3a611918720ed0a19eaafc0dc2e5eef19aff0f8d932697a2322cf03b592a57583b41e6f491615008e7f9c3921e773dbd6d402502019d4264cdb442c97be361a883a9ee92aee659fc1c6371708494c39c14c10773b88c6d0958b04118f59430dbbdb81622e5663483743d954c41f70cb9ae1b8426df05d478ea6d4491ee3c5792200b0abd48667bd9de6bc1dbed83a9d0dea94f798b3d9a2de55fd79eefc88b2ac37f0042d4039e968d893685eed7460756d9b2fda7cd5e387360f5cf9acae3ff8662fa24fa50819fcd0cc2c871cf5bd96c5ef76a882206e63f8da6ecec1013be3b08227422ba9a2e077af66323251c30a84b1e75bfe6c6af2c6de43baa1fd2fcb62591c9ececcc772fc51519a347358f110c7cce36fbf37939d39eee6ba36735ded5bd11c16d197ec1371d91365fd43ae00c94dd9897d58a956c17b198e1b3ee4c03b78f87baefa3cf9f4195efd3de20cb6b1c859cec69abb9598ff6ea4b78c23b0639cf5a0710e0b8819a0478f494259393ccc10b1eadd2f005dcc89aa4e1b15dcface0618977469d0f718c877e23e3545e8e3e6404234d0a9234d922f100a5f899e7685098d04849b3b88f2c8778049d32cb28eb1e2b2af065cc4d057fb1b1f41004e14fadf28bcfee1af211b39cc8fb1c6019905611747e952b9ee61e431789e288ba03754eb8b40ea78a894f053f68aa8a4270f030e92fc9e58504dc90f396d8959743379631856d1ef04df3e94bf580d40497c95344bd5217f02d41acd514b86826158357bf69240435316ebab324e503dc9d4c663d13c84fb7c80c468a7a094b3b13c4053531c03c1a6f7492b966f1761f0ca7200df2867dba74b6456916a866c30b0f8785d5c31f62f87858daf740d5a61654fe2faa6c21e208d13936850e6fb89fbf9b42810910a6f05f2d65016a75bd918c351dc988b47588f33a0e3f2d957da8d289b81bbf12d90169e2d93dcb018505984fa6621e8732e7db4736b005c64e525c3d3cf22002d8d8cb35f32f09eccfd37164562a467929e58735bed76087a950881a9afc386e185b1e589e7688aa25d2fb4d4cc12d627ff9b963b57965b75e335e48cb4225d1b0c942aa7a2f1bb7af7b5e1f6a122624ad8870205547bd2534bddb5974db195634a8737a241b18b9db7a1e941632458919228d65ad53083679410b3f8da37586b8bde121ca95addebb251b2b35912778db60f48cfa14400828841df4d4c2dd879031f624037f126cd48d39cb2038033ed5e01fa04228d6db386662e00717826cac018a74da2f93f8537ad679474b4005fa048b858a700896d4df287dd2f746c98ee7ed99607048789e30a13a02b0c2bae8722a87396c591bd0f0f1287fa7bcd6abe846a93f76139bc504a67ab0c6a119af466f7dda7063f5dbc3883b7e4dc89ed5e61fdf55efac00b78bf77ad38b58761d4e28420a3a0cd2e67b545ebbcdd74f8d50673fe0e696c42a7399a44766980017acf5390be233dfb94b6ba64b6ef5b41c4df1467ac03f3b48a3043c9c682162f9bb57d981d518d86fc094939bcd1c19f5e5139c540361e253aa4eb04c2e6c9f36a72680086a4092c007e945a6feec77791ff6d2bf2652604eae1b1ae8cadd7219f95f5ed3b050bd43206bc51849b37734209508e3a9f14569b9b589565bb6914ec6c56cce0c111fb6fb57f0f3630d20f035623e221d979b015e69522a1a060f24c0487cbf5f0fd82f626042463abcdbaa1405f89af6f45e4c4026c4f8f5ca1b8e66e31cbb3e861e9754cfd328d0fb00ded11e6fdfa92209bda7d868d753958ecec8ade46a5d590523a019a63e3e9b5460737764a782dd2059b401acb6152a503391693710eeed9dd94abfd88349c7c91fe65071cd0f37563e011bd6ac21bf4ca2290bb82556043bf5d6f321707f5ad26719facce9dad9876602ec24847a19997c13b8666e27e0afb8fa73d4d3c6b26bfdb4cb24ba56e7657365c772fce8fa0e029fb4577f8a2c70daac8901565be546194ba091d1049efdb7c3aa07e412e0dfe30aa94ccd7a068175f2cad698d087b9c3749194db4139908ce4817301e5c2689f1a053ce8f34f184c1729113255f5da24c5d57846f1456964ae61c31c82a3fce361648fb434fac2d8b739a5e6a0c4ab0fc898a13a25d761141312ce59270ad172eb6c6b0633ee63b2cc0067222315b9271c4f477756c6d1c609904ae101e5996a2e52f18b9817d7ff4536df3e93c844993c64d8c24d00d40c470b1efb26d7fb7215d2b4ea5464ccd8c26fae7edd2f74913bb77878b9eb5f980140f58dd8a238102f52cc57255aad59553bc8106ced3807b8373e19079fcf3ba5cb914add0fe002531717ea0672be86ae015299676e9c713cc84eb8f35324e122aea5029075ab30103eb2087a25ccf59cf211847d202980d3edb3dbf53a7ac1763c8864a067aaf3d1a33c42a4675fe47d0904c58fefabc569adf88e9d294be797eee5a7efb0549124ddfc29e0db1b8a5a7c81b99278cff0fcf52809cf834f5301e63b1f8489ca8f7b47c572810a16b75b5a6ef1d3d2f4c865ee43dcefed50efb32561aaa5b3197b61266bc49d93bead20ae4f4c4b96cb90ca043dcf3e67060f8f807dc4d0937006778a2e7fdbaa53b0348795f5663522078bce1ae0bc44e7fe6d66c5a7944d843369e8f85d79484009f9d2bcbfd8eb48c2b7f290f274e25d500a73e195596492dd64f617b81e56fedcd575e2d84b7ad463d24d0488b79dc59b0bc458a2e9da094cb0927f0d0c1465e36e2bcc1cb4496a63413f98a87a289ecff9dc06ff600eecd976ae41fcf59eea90298876011da473d4dfa956e23f95181ec843700be50d865d03798fa8ebc61db6cf611fe8075658112c627148ce783c1b86d9c5652809a0ecc80a5cd21184314e6b1aee0551c6401769b766ba8b3834b00aa632f623a80c7dadce954171f40eeacd2f4464906b953689a621144963154d575069652c65401effca373caef58814899ec0bcfe5e4de70c1533c8ae30075c32353b6809d317af68e059f4ea0f1f99cb2541dc900e3d1d91cfa2949631d0beefb297bdb9ea39e879b9718692b5cfe32f03a91fd8783a6247930306a672b29de0f5e4a326bae5026306d7761e365b4462d3fce91230ab1c298b2768495731f512258d28e0a36e8c2c505c9bb3633d4e5585d53c85088dc17c30fce8ffa6dad5453b74fdd84a21ab0fc1a197a2239d8c4606f021a426a0b977668cbfe3a0eb8efcbf8474e0d439fbea03d372462abf88d1ceb70fc341000059aa2e8932b017a8799d1c0b76fed78d20d6ce01a027ce6c23f72b720d9157031fb3db3baa0f40bd69a72342841af18f27e4d9464b40afc4b0a59095f0562d2492e4d4a79b7f0cb7e5635648c9649efbe5bc33ad75bc4fb6e6f37ebae4ab0905273a70d325002ffe503f11f30549aa45f71470235d570fe9411015e49bb87a50179bcfceb2add089226f0a00fe70a83562c90966ad7a458ddcd3649ab0897573d0bc832224cc57505db3a9b900e80713656bdef9fe40a30a30a5ceb5cf4cd93a2bf3a2045eb98dfbdcc43f54c1842df1236e429e8a7a4a42b7e3ac13bdb55f82070188f2840f29bf47653f3b6a33bc240c68f5f63d7d9fe70c8e61cb6ceaaa5bec1e3290e0237de2658d8b119db97603dff05c029b68eabe6ece66177d4266c8d6938198e8110fcdbdfdfcc5ca740e1b903fc5fe46fd02f2add2f0fa3cd046ebd9f21c073dab5bbcd547ca0004f5fa18aec40a128e0752d62a29f7443d1338b8d9f5ebb9f3ceb30733ff3870403ed2b377fc41a0831a7eadc5e35c91e81a1913b0d2fb8c60cf85cbe53ecdcddf90f888b3198b98ef299734a961f6ed1ca83285818f6f24963dd23bb6b2703c733535366d7a01270bf052c394868ed8715f79c9a0005e80a9ef78ebb6aea1a60c7a78325ecffb1ccd9357e2d7546f10d74bc9d093c8f968871a8b320f54b1f07239a311b73388caf1b901c0d274d8f42255a1763dd38f89bb1323036ffa110e5092beafff7c1ac9cb7a82137edfa2543b71f53f741f84b31b27e827babbdb4a3be952d68468bf8af63c9bf35e09dc2f3e56dd54d00c45c37a1f058739e6b6d577b01cdd733c1b376efbf9c58d3a2d0cce751644ef8e481576995e1cb8bc0100ee7694560caf3b92a67a0895f30abc10afb79d89f6ef09a6344f6b2e6b8f17b695249f5653339c328c417d490669607b20ae4b3f49d31150636ee13299dabf06d24f4c73d8f026906eee31a98ba192dda0f41541f7a0f74c1d22ff3839736205742b29e684bb9207c9932ac5699d6fd5541d53a74553f86837471b64ce5432bb443b4169d44601b085ab6f918ec1d06a247681f1df5597259f540e3d73a28664f2200afa22cd655590ea2a2a8519a1d220b6ef2165a53d9d0d7c494de373df58f2ae2e9eca82eca8821b171b06729ac13451a91b5f0cafb7ccc1fb195e0a20d46c5ce7a37553f03d3bfeeb1d2aa5598d9e0b3058ea38424d44c350ba378f40a669ec99e3bdfc720852344277194cbf00a2419c98060aad2a36b8a0c9056c35853de45ceb68760b276253f99f432740085456365ff7ce83bbec5daa6b49ad573a9d5ff4cfa0f691c1d793deceb55718bc55e785943614fbdf53b4ce97d89ecb0220da6c4b0055ce9eea819e6cba24f54345642200aef5439bc8845f46bbb513599b7216d1dc6ca30bae725ab93107788306fc5e2cf0d9406159c32167e122e17ea1f9ec134b252625aa464e276328aace8d21971eb2c7c9a3788503f78bc5071f30e728b7ee38f106715b982de3944462fc9dbf9048f8ab35c7a2a0564c91686a21f858049b604fd83cf861da287e899ebf0827f2621f392f33ceaaba1fd9e0d329bed12739876bba20628727d35147c7427fd5bb47ae079cb3256e200620925bddc11ab129e5231206ea322b6aed38e47ab6cbda6aeb10bacd88b5f4b0ddaeae4d12232b489edc5eb550c3557b74558a8afafe4f209aa4414efa7c2dd5839a45c29d888063b8e27cad2f2035c8a707433f6c1a6632cfeacdf0a823fced4a6e28f39849bd2d5ac1b811061e9f8dad8e58697d96bd925fc51965f285a6122fc2d45784d39744ad782131ff8c07ef07d2e1f1e7b7886287f799b5bc808a830a82b3851ca3b9102e105f27da21c78140605a2cf6d9810b9cbebcde0e323b5f15d499dc637bd06a8ccee91495b8f249269ea1291965ae607df1179cede176bf21ddebfd594203a209f72f5eb51e7f83a8188282259e3777656a81b897fb6faae53a60989ec7d127c1dc95ee991eabdc99edd930e0379d9f7107be5eed903b784b0a4dc6035c3fb6a68ea4be50bbbdf02c8aaeae35809550e1c08081caded663e2df799a3bc440093f0dd508aea69fbbb7d464ec37f2db3549ed2b127faa386a00e75d117a87a5b6f58edf2ed8831c7c7f8e7effce30b22434683a6cf455c712ebda9b866360ebbaa8d2cf853d27f99676717adeddf2ee8100396ed9972445a94565eae5f61747e0105b6576f0b333b2d1fcdb5a3ca9829e5471d5a85b1597ea6b27c541306615801f227a630fe417bfb4e8299b8723a24afa985ca51fbfd1e2688539c444fc76adce5b0860c4208bc798ab64f3fb0538d57bc2d2f4c9dcc1fd39df858b95e244cf8cfc0e97b4d3c6a90a9fbe3533bf9e8dadaa3415ffc20ae21d41d04431b29fb6dd9644b86a91c513f5c4669d1cd565c0915d39c55b86e23cad7e8c1b349323a729cfd82ebdb36216a085c88bac5d15af567fe2ecd7dc45050f7af263f6636ed33f934f2630676ea3767e5c697b14ca4db36566c3449e88f996259586f39946da16c99d9c8704434897e32b634554a12c459b5ee554048e5dd909ea446813dfe3b593db17e109558a9416d9d111a5a85ca33ddb9dedc0c4c07fa604d69f191e88854172a647cbcbc3a34a6d0010c2eef41ea53e78ce0648e454bd1ce28cecdfe1aa9f907d2f63d198d0ac59d14a8eced745ea87089490ed13ba865a79292619b1fe02cde7d44a005b88214a1649e7f596d451513f24c71b8e5e7597b0ed751e30739861c257223f35cb94947699e471b754fd55c8582dd1cd024ea665a2c695e9f309ebda954d82028d4d2495d815fc9470285ee6c59dfbd1a25a65e0d56312c2b1c752c95f9560bccd16ed7d49d595f70bbcd00c85c5a35af5e99a1466b8b968b00d77ac246b484a94b1a8081a65be94462fdf0d8c184c11b39584f9c2479aa18a4a6f1d76aff417b60a7b0287f7baa77c14f7b635dc805c57f1cda9ffbe717756bd441b1cd93436bd3d627da939219b111112c168812078a59d69544b3f7630ced264542be7afcec8752d0923012f73668d04299039767b1f295bbfcaf9864ecde8ec98a89821a75875dd8b403daeb82b77bb496da61d3cf8439f01185f66753cc88f2d62e8882013e944dc3b8c4dd9334faa17aa77f3975413bca038dfa47deffb8a654a4a8b6424e347ef37d57cb08e6385e1e9e130c121d0f9e987dd16c0f5801d8ca48cc6e330dd79f1d481ee8c93b60381738a9879ff8f9d2bab47c28984710d7e50754a500ed808d905050457c592a3381ab6bf540388022677162d4c369ad4c04520e2769bb19de7af5a19c82c0d0f3c5dfff6ad4b44ae525bdef001773ddbb646e297018016d9b0352468716b237cea1aa1766231e45f118fabfaed06d309e6d67d60653e6210eff4c46ab9fd134fc092580f9cfd9de6c6e7eb6d52bd9965b59c54c1bff237d4565b3f006bf4c0c3cb15de775c891d17df705abb005478fc82d50859132891f97601b545a32ebcd5120b3ea6caabef7aa6f592f4c86a1618e1062657d854d63886d2532b298cbd4c9101705f142d6a0cc880610e3a1e1e4245de723842d6c58eb93d4064f2161ee068ea755991c7e4203e02b261be4cde0fa16ee769b6df6a21eb8fcd30d60a817607356fc7eb76219165c93952ce88e386dcf908f8f393464cde7b647ef5fe8f3acb48232fb8191522b215b877b807ec9d306cf05de9efe893ccc0064a402189ecb2a2fd09299038b0895a7fd24853d8d2bf672d8cada67fd026bfc0c9eb82cb7d30db7c01ba9d4715d3c6038f543d9584fa9f635f64ea7cb8943c7043449f2f13dd102a335b21a98bec11e16bac62da0b60919ed1cf7f72b50ccfacac95ff6e04070af83f131a1d0155885fd7d30b73dee49c393662e4957628ce680b8bc38e15fe9fc50a4cdb024303542297c29945ae96a7545f06ff12f12224f016b51522b4d2612152fe2fba5321f88da600d7da90347bb8652b275693444ffcbcae92010fd2a98ea2e97e27a1591d5b5d1265e531dd89f51d4d932d856a0dacda9f20582ceef9adb41953e4591804578d5d99681f79d1ad7194333e07040039581403ce4d562b3e0f698f08a0f2223de4027fcca72a327fc473693b63d5d976eb8ea0f339dea254831be915919c23a1ab64d5a2825a8b3c2813d4b1e5f73634fa47410527f31d8006b604825cc520cdc4b51c14c7ebd7600dfb3898c5e8ab61cdf6c13d1fc699de34ff3d8437205da31c9c95da71eace0c26211046ce53355b5a22d006122864426384948719fab54191d9d00082550056a3e55234a261bbcf16d69308d8c4a1033d5a6457ad60630c915437c1ea78cca433b813c1ee42ea9a9db439d028ae05d8b3716e955f97a334572641adda6023ec13becbcd0d97a96634138940269c81720cc66a093b554185c70c3c6e92cd2ef6d8b60b4033a191fa54c7f361d73045ff8a1b2182de107eac049c546efd4351c9fb81f2b16e4b8f988b32f71a76cc935e153acabaf65ca4a6414da2d087534017b95c389ddd888404c6d50cac4bbe2d1e9ba0fdf8f6b92d039ca3038e6457444ec443e982838acf245ed6fd29b4dbe293baad180a64fc3cd1800e7aeea5aecc4112ba5467f1b2ded872db9a98e3c7ea9416c37ddc40ce11a867bfee1c194d2a19d8ebbef73f2902e51c7a6859c7f53719f081ad677a623b7dc9a7283cf4d29ce2f87d7ec7993d3ef7b33378c1be4955c21ba4280fceaa722573ed44371b1c5449f1531b2393e04622526ab05fb872e5058f89ec6da506ce97b5d0d2541231d81e5b2620f7ef84cbe1e127dbd35efddd28e54c48a5a9ffa2e476cbb81db762df59b1b1f46bc3ecb08c3ae980a9cf15b106ef038a73e8f202a10615b1f2cb62698e73aa4cb4d92cbf0cc622b7aae1a1607fc1ff63ff6f5c9fa2e58fa7af2a05d2131069fe9d841e813ed90fc2f6c4a0a6556c1e5285d3f263854782e6bfe9395b89de375ad689f4596f37e52bdee46262fac7ff44754831398686c9d3ad40ee696e3a367c8519fa89d3783b7ff9f7c1c40471fa2a0cc03ec29afb32eb635a99c934da271df28af5e1cd5d66cfa9a716ff36e96012c85e99c6648ad2583e2c1dab1ef29386578216b03f83ee284557c0beee0a922ad7791d19bac1f1a6fb4ec18237254308776d65df34967d16bcef8f2ae953f4f11142d6f62d4ec377606ab9eb385f1103e157e916a559b1302c60e30bc3da468ec0d0fd71a5bd7ab60730b8537e89f12a41f87b4505de930181cdc83eeee391a8e47b33619e29b33f3cca2de19d56e7ed400640ecf84fedf92803d21580af620a017c106c557094260f622d2c1c62b8840b51c3ecc27c83cd7c682a73daa2371b3daa701d8920a0d891561aed9c72c0abcf8432caebcd9d82d8de6e454c9183c5939ca853ed767dcd652bbac9678cd19a54c49f47bbf35b6a4f2d5c1433b4914af5867c5a0aec0c6d275b58e62c10f3ce4c07fe39a858fb4a92acaabd0d1f07d72d62e42b333e7e40e7bcc6b9bb846441706252aa036609a6dcf6eed7a1aab151a86f7e126dc1352e5426e57ea2bf825dd0e337b64fa6b413635a22fb5203dbac6aac00678605ea73a85e88ed75ff7ddacfe70cf9f69c9ea07a312abedcf41a8f21cfffa86e5496ecbe60115a99a5004eb5800063b92743ed3c51dcd3c215910b5072fef4c6e1f4f9748973f319d0f755b159b85c4e80585f1887865eafe66f852acf382a8fa83dae47498d5808793d05d872080a55ad640241eb42f766480a1037d4bf3e2d402216c4a07f2e5bd7f1ec74a6a7e26f947dff4bf1791c57e870b5a2cdd2118757d83d00c26f3f664f2e4700a964e188eada45dbe68639b77b0f762a89bcac52c0c622aaddc6354418cf26ae58df2d53da8d17a2f5644a972b560930c9e8fadc85fe8dbe9777994ece70c4f3a4f1b922797ef0e79b4c51e9cbf13bf23bcef3babd6939fc09d36be2c997aad0484186bea2b8cd34e4e8cb07335311d2579f2007052bf77ac243476158e8c8a249836a462b03aa357f4b179e7fe291b65ae1cb6d200991828778d03f3aef59b5c643d331694ec7b90d804e18c43c9d532dcf30782f315fc32b44e8614ca19f640d41e8f8121f99636a908bf5d7dde434a2cb06b39c1b87769070a94fe7810127552327660699077f9c179523b13e2d18d2a6f426b2abded950c569a7ca0363897ed103d8842f059cc2fc4c19652d3ea8ef1b1377cad4a6687b5ec105c50655b47726ef0a750619fc74cfe049148d483fb4253ae4305bbee9415375d50ac762d5ea15fdf8f34f2d0bfb09647b868ea134c89aa7e7a97d2121224e5fc8eb81d9c699a701d1197ac21b87b5c908c37200b85b922409376a08f2bcf7d5291cf901a8956863ab70e7a00e6319230e987a8875adec19c15f0fd023042e07e89f88652fc3e79f0cd4c809d6f9da548d97a6d708aa37d1dda7007ab03f658e083d0e892281301d22b9a3abc4bcf18c917321dbc772b1f0a23e73014dfc1e9a8bb0936ac7146dde9de2f9acdd8a9a5fa533ffb539618036e7fa0ecaa59ea2d6939e4f2d8618c3d0ed20c925992b16742c8472f6560f9278cae3be0fb5c3932b2fdce989a50b99d2ac20de158bac0a4c781ae0ee55b59742f841247016caf95674a12c5ed0d20b4f09836617a6e20a377f0687f6ee03949313dfe388a14ab2807f35c859f2307a167e4fa45a12e54c0e108e2a6063098ef288a35f8d516f566f30a042ef9c1fe9aad166093de0c3dfb8b5a9dcd465acd60abedbfd2724b6684841e592096f71840fb35508d7bde3a4c18808dc2ccede632f5c1df0ddc2b7ce085d3279263ad542c5c27cb1850851629f5f2c6d41f19436469cc140728c9f24e993682bbecf6e9064e957d41e46f0b1bcbc2d23f843fa54f5988aebd89dfd2d3b9b7bfb10a02f85995610e68d98c77ea89f5e85f881ac4fd27a3ae10cfadfc545a85eeb10ebf07846876415c25d57e7e6f51455212da5a38a8e6987e19f1a27c682bb777fbb7675caf4353b33c31e64ea241fd41bddfc9bda8b61cbb47699a4b8720c209d9b4fe0ff48d52689215e2ea44a88affcebbd4fb9a92686cc11f354dbda4dcba3b1054ddbd14fb91e15b1a4e9dccaa9e27379e667e3eafc3462895f6a4759930bb7c70dd300346fc8b7f30fc332c603be5062e98c0be5ac7866b3645d5423c9bae36c04d790e2eeb17ecfa797538d9509c492faf8373c76e9f64777d58dbf9403df07a99db79cda260d2aa77aa7d4e0782c1b1a964df267d27e3b2cf853acf179f16133c0526382dcb17e17ef1bc6fcc00af1a50c5ff27a408b5df0ef9ff0670fbd5c82d3a4eef02cf09359b5fe5cb6c84c45424ddeef15c9cbea9fa6af798dd0b511b9cb383f30bb315ad9b8547ac6a532efe43e4b616dcc5877a486cfb32e23577b7c54ce9e8057badab61612b8ca05bf6949f0fac3e7d4f97db5c64d83f33e333cc7472d69189b6778c347f603e47c0794ad4a691fecb8b3335c81f44007557f0c9ca0789986c2ba1ce9a39427c2e22381ddbd73e019292db9285beb49027b4425c9861f7b3d41462c35ac126fd36ea8a6ac56bbefa1ef4194f7c03eccdf876c3fdb0cc9ba34eb213b4559ad48688770aa6d6a1a2241ddc5236c598574000a0831b8af87517fe5aa22553a5119e54c10975e35806a85c4eac83cbc23385d871923580b7af2168b575e3118ca954ba5b72b59967c225b29ba84b3723c0a80ca6a8d4852e04c71717ee4221f20531c52db0b5898a88a5ebf14db8bf00e9c524f37c395d8784450cbe236c3ec084838df6dc446f3f850eec20c7c0f7ee24cef7945c1380a990f8ba8f2009253627115a298d482440a71d1f3103e74572b8cbcf856d8c3ceee627e30ac4840f37d0e69386a3edb846d52e08f3bebc34e770f3b3df640675a89e1cded7a5d7e4580c31f1befd0a1e6a3b13f7fc65589ce2b3665a3eda8326f33e2995d2496aa36eaa3fb971baba741970bb4117a99fd96fbbe701d432b3fb8db425cc2ec0e6e025f34b03beabd8ac511eb6f58cc9a4e3bdf27057d70109b2b98fb36b8aeab0e9982c73c6e12b7c30d3372cbca4e261dabefb78c518309da5ed9d679e65edfc69eab78e4a426a253bcc27a91bb0c3ab52eddf66ba645159dac8a6c84a16c5491e1b96b3fb8172c3a8d500bceb1d5debd7afc11df880fce9c4e0dca8d5d9f8a253d764986ac16ef62164775b16207a6902417de579cbf261dd841f34163700f6d2f8a488f54c0aa1c39287b9242bdec1d8c1207fd75fc1dbf1e76628bd59a6c49f1a7c2d7aedec479f7112b46bc45648ccc960935baf7435331897ec38b79619dc2e1fb68d47090c87d815fcdd9c5d2eec44cc43ea68912e28f9f2efdb63853bdb5d1605bac4ce3f53b47b6d510d2f61220a6f19d299d75bbb888c68600168f95dc3ad296e2b13fd83ff6fcb31a2bba378c986a70fae95791bbc277127119398d7f74243dc85928b05aa8128750543a17454750579dc05b1bb01d9b22d4da3b488d7455b72f0c1ffef9301e3e6d80801245a3d9b56ac76604a0cdba9340c4cbeb126e9802b4c7646204c7cfc2fad598c4e6afc1ebcb81d0f07425e57aabd06be6c460f08fbdab3d8ad6e1337960f9e4afe5d979681278da955c3953b47f435b2393d7985a61d16b6efe58e7d2ae2ca4c467d4cb6a8b1a6ae27d4ea9e59d8f84b0a9733f43d75eef6e20137075b3da61fe876801f84d11c8bb3a51a6fb6a9a0f4b1cfaac5df4edfabad7bdf0789c5725cea0a64c4d597bae50076f8a66e1c28a7edfc15f8a639040e5cc1eed4ff95e57f38a5705b5864039b731fce573ba63479d1faa80861093a7691457f3477baa464c0f8e517eb23c0393730b316b07f6c78ce5587f8a32702826db9d311b9e98136a7de7cdd43b5452c6d6a8474b1ce5470f637a4602696d4e3ad8e167a5cfc742933688295ae00d0413d0107150a5264601660dbb955ec1455882fcbe35c5f30fa698aa63df55fa3de8babf22d59c2f0ab7ca4643a4bf13dc226114652b7b1e1373e970268a5d99645153fe48ab3c045ba99535d4fdc21e877b494edbea6ee23c68f57cf219cb0a41d095d2a883b24b35fedff25e7b5f844c1d6f4bab9271f10c879d795d25519d854b8ee8c6e5d65b7b63c63f3c87d257aa14965c8784e25516773662b18c38a621cd65fcbd6e8a4798eb9e7e00a631ff16471aa2e0797e626c6b471c64b1a5412be772bd177b48cab2bbba3ae8c7198bf9e4a270815d9f9871eac8e9a99c55ee40ea1e713ab1e2347d44e9ac1d16806acad0c8f1f473fb261c7f91e6027eba3608d58e0a4c84414933bf13937f1b8c376e27214d4f229f3bb7778b93bb34decc4899df38d952b5d75cbd4e4bcfb96f3847b6a6ea7df054e8cd0bffe95bca04a7bdb4727bd2bb26392627eba48aecc83e573321dd60fcc4a97d02359ca34d66ac91e7194891c253c40dd5176ff66f93097f1f5c20c626b6b7e53876d8681a5036a6c2c0c8e69b6e0ca6790f6477046e82f1c245f282c15282c8aa0c4ef5d258e3f22c3780c3420a56148c2ab4d50439973d9028aa0a1d8917a15467be544694aafb7a3ec09ee539c55aa2caae89c6ee30220546dce2f43bdd5647bad674ea66833e5b7cd2317981d6a9577fe742d93374667781d92378a46e5a18ee3751d783b130e4307219661ef887b543e98751b286267c6b90cbd4d97471450e34c2f2aa83c502123acd57066a12e87f6a33cd17a398ea17d3d3eea8cac64902a587ff074a6469e3c1950f3cc345ad60dfb226c244f94e3aefb4794572cc56691c6a12aa57bc59d1cf6a53c528291ad35ada447e3476c24d1a71d36203acdeced49dc37e9070036024f1270070a740d9bb0b6eeb679ad3fc00bf928c7bb46a5d1dd7a68889cb2e7ddad740aec6a8364033ade08288322710ae226fd760d18c2d27a0167d2125569c1aa4a4ff2bdc2a729040cdd2dc9fbbd95bfa130d8565f06c3f6f8ac57045b52ba07d82b203c54b2339ea4c0bb1ad65a3d34f94611982660d1920682b0b5459246784b81fbe004f137b9ac01553dd9303b4fb41e1b16fbc15c5b36bd91928a68ece3b4009ae7de9c55ff34736110a9317e1045b4ef43888813a568a419cbd7b81290988e21038cf20f430ab703cb4bdf264744f1c17cd6a8a58d344bb42b3e44f4030bd8875f9c1522cd45e8b9290ee4e2113ec9389f6aa5f2c8a77e40807192500dbfe2865e2e2e47ec3586bd5e88bb1b31258487cc1a17c937255a1c2abf708fbe936969c5345a705f1997e55d856f07e47fdd3e8c10808774daee566dc853a36df147a9e088524b5995e9e0c5a01fe0915e9eeb43169f5f33d287db141223680de92bf0954931dedca7eb17efdb985acc9bb4097b8536b2106a937f05f997df9bf8783410c88ccac3c1c8b7099ebcd3eaa3a118d9e8167f35a7d515bc107d81718ee32a8aca1adfa4ff28cb73d30492c770474ebac8c1302a33fc90c19738d02bda33480303b34d025fbe034026c30b2af934abe37672d2939e87146f853bb51d14d408503345109c991fb96b00cab7471f181dd662aa78f9eca2eddd64f4716ec767b0f77a8fa7c32be7af4beba964e20484c8165ea02808d0c85eb38ee045422980c9ab375668907c99b26bc3857b79981c2c8397c12341b1e9e8ad069b0614f00105954e712695915492bddd56af14f92fccb316eca3518fdc9180673fdf899f146d7b373f9a9636e6abc2bc2fd39c2aa5ff8a6a4b3e135e136c46e3415eb73eac0a40ec881f210c5ae1cac54c7c98ef0574753b8926eda77b03f40971295f7429764c49c616b5f7ffb9bd706d94584e75ed34102cb8ed11c8a1ab8485b771edbd66621767cb161dae797726f116fdd2ae7708f4a3790224471f9ef4620580df1e486853c14bc59b1101046cc168eec7e591b39fa07037f16e5593dc423fab9b3bfaa08383352ecac88fe3626087e84e1fa803604af079c498ce2f3702c3c01aa8aac621ac317758b8b892c377d40155e9e42bdff430d9b6de513c1e2b2d8f813353179e13c1b3526ec0259df1fe02349dd72b12c1bd36fb88e87e8dac7da50e6b3a9ec341e23acc7827c153025f765a65ef67840537ba5d2f3ece100c2df8476afe28c0581321e5ea49e94e2cdf7e0479e50b5c90d3178033b86ddbbe48198d03f9ae4a30f484d819ff8c5c292d50ffc866d8308afcb46c4ca6a4002af2d71b59d63412c818e34181f5795d8de62428a464394e0e0b29ad7c99f82ca4994d3224484ec3f7157ec5425b64e89534f2d0c41846ebd7db4617d4a1a5a203473b082660235e49d156769615c50a09be887b72ec1605c275ba2f6167aa8e652dffaaf4078e358e75aa6662892c45b5fc677c2c6d967526fec83300f875daab9db947c0ee601def14324a63d15bac630289d9e83d24c63b850247d46ec4a0d4ff22925a8dcc34100f15cb0da0f0a16442be1913ef76a88984a55bf3e6a5ca6b76a8ef8b86fb74f587d07de90d1e425e1e2f1574727806badabe25765f4f755e291a9005084a7f32894f891958fef59b72e5f9a975e1b4ce385062bbb73832dd1c85250c3c727b0b78c1b1437219bb0766f4f5d1249b107b0d179542c306537cb0e7919d393a2e04f62b9f96e18ce93bfad07e31f151971a60c5463664ee87b466ec0642886c0cc787e340ef6167c32463dba61e18c68ffbadf3e037e7c3a3d158f02f53e9f679043a1a6df67f664e0c25bb71eff1e9e6947b56e2abcc13efec1b846f89c9b710a947f6722f47b7e37bc98014b5f40916b75a2df533c71fab81e3bd21b3521fc2d98fa3b18c72d797bb6d7bdca8f823108deb6f389dc0ccd9a61c64e49e4771b3e076ce150c19268ea16fbc616146f92e5a081a69e2f2d721e4ce9c5b588c9a4e01468a38097bd87515d10073d0faae3aa503c91492ab6c14fbef321a15d80b29287ba0f8175750ccc6966b0b53a993f8cbf12be7aff0704bd0379bbbab874db0f1ffec4faa3d7a85fb51739d643f16ffbd9f8ab36c3d0a8e4e5986f1e787a7bfcc3886432915724400aa90c29a4f51bc888f5430f28ed2d7f3e1e78ab0e790cb624a1b7c0049d2f8ced8a469b13ad63d1bd5195c7294af7eb43709fc8d72f910f0541e82e25638843841a9bc5a496ddc8bdee6e32816caf1fbfb85eab9057c30d607e04a3f1f786e4664b992440b07e5488c6d08521e7ccd3021070a230e60edc7fe2a1a27e5f4eff2db2120bbd0479e6d360ddb181e280ef8b47064518a888a14b109f8c3e1f9ae492754f0538cc185606b5ba312b8c372c0ad95de6d285440831b9ea64786a84b635ac888417c4142bf2d8947ec4ab700f81c372bc56c0c9af768819c2320a1aefcab488d16fdcac5ac46cc9b09dd420fc8277c542d46077f4b4fa6ef3e1935f596b3c6073437bbc7c28f4f3609e0df09a2742170f0333f7c192b58ca44d86b4e8838f4f4097d8a4f10077d2e9308417dc6966def8bbe71d647b0e1b1f26d28aa630af6de7ebda645f298b3e1865fc4170289fc13b1fd2ad47dfc59fcf2fbeb7f30fc25e6de26a2b80a1afd26b094f0d3bc6aa1841e5de316da026f7337389bbb663934a0f6b3ad303abbf2fdfb277c86e3af2b57c550625de286a8370f447f5910d2c86d7939b9dfcf78bcc2b794c07e94e00d58222540a774a4c76cfcfa614c266f67c9537e4309192b01c30ca3eaacd52c32cb9dbadc0d32fe55cc6ecc6d6ac14ee48edebeede63e60796b33cbaad1221cea207b7523832cb3863caeeb9fa7f0a6902b7b753050a86f071d87725311212ea8b83c16440b0d5bee709ee8d2a7783d93fc3288705fb9bb6c0e0e8d27aa1938709fc050b466cff59ea73fe6d3fb46e56f010b63b2e0cef3f4c35b47b0925de21e0ba7d16050055983950681b3a9f40e38ef72c9991870912a6b9d864986394fc6a0b6b0d1589ff24c925f6d897988de35ff2a82ebd263f552f618994ef0eb39a012e6d4d085fc124393fa4f642032e48da083fdc44d89ea3fca55f700141b9b93fd31c9a5684d878c7930bc3bfd77b35a5ef5cb84f2533a3fe13794b92df40ec51a3260fca6eddb1f5b0bf60c8acee7ba4cdf118ac6f7655e7633c01a075c8c105969cd0232bb2671740b310074261e2bebb3560a833e473cf8f01cbeccd5ad1ff69b765928e6a432dea7df7d26955aa987eba6818a38f9fec920f1f484991c4b7a02b7e48e3e564798709dc217a6469cb9d83a72d6c04b62f7cb5d8d37488202904a59fc6079a4c463524dc8e066db7c72f10c14f5874f95f9be5c0940d1240fa40670127ed0b1b06b666c7671a492cad9c0325446be16032ba0baf172a5c5afcbec1229e04d1b5da81edfc3ce1b68305763a468799319bfd6c9146493e96710c71e29b39e6e612af76ec7c2fefd9e0c83b77b5a6b6cfabdd7a35e0bf8dc8d4917bfd8d0892d22535cd3140c96bab792149bc0a8cdd8760cae141d548904b2012415dbd64be5b251974e9564eca865bd015828800d369c583b62fba1413847445679ae1a974f2393eaf25769626932241909ebf9f485e46c0f3c798f620bacbac6a81ded2aefd1b68af3a54eb8417a55a846ff3f57f8cea8be8671b16faa6b36c5a0302a7ca5d3c4b3c289b985654ac4615970c27db2a14a121f9d2ab02e3d8d01bb3e6b66b6e5a44b6f3ffb254afdc6a880bed0843561007ef4d0c1e651b18f0aac9d55ea535ea4ae442ebfa52757563fadae7808343aeb8532f3dc94c5991af07cab862e4be55085a55b682b063b76e5dbec5bff4f90b05a20f15f1f95df2ebeb9d45dec39e787dcee4bcf15e9ebd9073ac254652f93d2d8223dec457115fc6f394e244aa38de6d3a5a35812b12538a8b8039e5ae63131943f12e84c197bc4e9a30641c479bef222f6ca25c3e85131838a7c5cdc9b10e240b3bc81959b99ca11cc4b5f062174faed168bf3f2aa6dfacf5e3e5b6605cfbcdccd6f0e1a1d8b243f2c7a3522091e5771bd5b230fb2caacf1b79ffa072c4bbf6eb2e43623ca960c3180053ccd0b5309a4dc04a8ee5e2795bcf48f7a4fbd5b3bc09d85c9a242d0297635995e228c5cc5eb61b3977871449069fe009dcca0b9936789537b3cd3856888ee2870ec9a71ea160a13d878819eb0dd9c6932178869b4936a88d3725c46cb6fcdfc0e32d6739fce428f0264e7d9b7720f45729b26d6ca5fcd9cbf111d734c40af24e99f9950558a61a3a8ced95f9e43d626728e9a4b255a4300ebb949075b81b8b4db8123b2cbd669e8a1e28a84dd5f804459fa93aeb3a96a061d9fd3e6e9227ef10b1cb04f6f403b4bfdbd60e3094f7166d98fcfdf6a239ac6ed6647d7b7897a95ee2d0d53525acd21c3f25d49eb435f42a213bde5ceee7590c67719319ed1edc758f8e5ebde18b238e303cf2110f81bed4c11396f9e8e5f3ef90cb8e9f4eb6e81c074b596ca34eba02e591bfc141c13d07ef8365a3c7c5434a0643961a47a33701d43b8cf4dd656267f1fb1fdd6265cdb7030ef62caee23710ae42c58f97d0323b2ad3c3813bd55ddf08f00783473157d74deffffbd8b8d1bdcc8d083eae6afd9ca2f89045c57b37160409fc060a49f5bec5fba20d58945f25c9fcecbd4f0ff141685b76554a7e16b43d324681f4563c7c7e7026e6e3248ff3b5b5f364c3884d9669473434454fa0b9257f2cf9932ada8ff9efdf6e85cdd6a051470ce4522344a42a6af0b9e29c85107cc33cd6d6f2d0995864236e61575657c6102f9e74f8d7586ff1049fd17d956ddcd6b63a973c5f39e38e195807aa596c95c9238dac7b2cbaafab4b53d2df71e1f80126389d3a781dc776094a81581d369d48974beda17fa67c838aa512fbf2e201608e486f84eaf2b835b453d6eb96b1cd9a369f1896735b858e4698ce8141424db51c04fd554013a7e701a41e9ddcb5348ccae648cec646d578b2ea3ab94ea027a3e362d3c42c14d63e9defdce93c68dd99a7c2a5f600d4f85a92752e3c85c817248c17f9c59e538f5768febf3ea1cf599e729244349675e3298995e1a856c8e92bcf9b8b6686d3045528d88471ea45abfea18a5c722858b454f79282b3f98d8184244eab3214c197f0e67d6f07ae6f8eaeec8026686821a83da0dff7f28b44a07591d922571e27a1708c39b641f7cc0a61055f45bf62320578829c080c86b581467c91353598da9a93c9298b8b63d1d0df1c28db843822f6488a169650ad2be6158f5ccbd14a485aa441e686f20f8425a2edcf77a928045c04dcb744338a2c30a50190b6168b60989f4aeb3dbac540f3e691ec280c5d0e8be6f3a8f025847f65b8c79ec088b20ef1f8d68b479c627005d87b8ffb9fc5b4f17f6586075cd3227903555ddd6a1cabac4e18a6c0b615a12a39dfeb8f2108818676325a8ff9e780072b04a31caa4949dbcd451b5df3e217bf1736e8f1d140d05ae9e27ac49158022ac697d948806ee10ce209ccbf9dc8243c9af38fadc0da2a1ada254a17fc3d6b434336213268539e38035dda68d76c4c7a33c5b3bbba14acfb4ae620ce8eab2a692d22aec65f95a8fa592bb844c0975dfc35baaa05f862e021661751230e9d89ab72930e476b7d09053192e565b8aef8684d530ff32dccf488a6f7f4bcd5f2de409eafb892d95b797510a739422c66db24fa0c9d922454643049829d3901d953ff02154b37e4e291e65f7bbf309c2f9f4575e5ad299eadd0c1f9087475159231bbd7e69d8da29cdc11a36599fbb8889a5d38dcab2e9742d0d22a1c070aad7fa8f37b6256a1a40c9e2664eb61c2a012670e497699cfd1922d0d935a2f805ccf9b3bfa3021680875b504226926a3167161afb516bc73ffc0d30f56385ffd0bceb2451047394ada04e5f2753ef745a856989018ea36e88758da3960336434281eb42c09bb4451b6ae3ba17fe66da493d00991ba9252e98761e3efdb7df69e212277d225942db28bee8966adfbdb84b97fe3b27c86f298afef59b15366b4734598a231880ffc12bcf2653c5dfbb651485ea47371e6fe1b3e81bc6196b100dc00655cf29ac1b784e5565c119ce13a4945a6b7dc24948701751eb3992640acc43d26ddea450420db521cadcac122f31b8be1641114a354c77c0bfb463620097d8e6537ce90ca518c4c04f9f39457bb24ab2d30522338b51d0f710e86dbfd999c350e1b36b7241369110691885210efa56b11faa22802147c2fd3c16c654cfd16a38b6ff7393a83349c730c9a48987f513e829f59acba00d928c4b75d6779f15408b1fa2c483aa0bc8f3517efd0ad93f0ebd6ff31e65bbc7d8057b7caf073ce1931f8fd1b7595b6f2e4d4a261ee5bbbd900a2ee639bdf50c17acdc42ce2f674ce33d0be5b3e090b07ea7a1d02f427ce2520379abc7576fec31a7ba44c0a60b841c8755c9dd413a4a40a76e30ac5af5f9e9eb15fa6a6bcb70b844619047ed4cabe6d1133f9fb2fdbf472cbd076363d4ec09f3117139b5503c541d965805c1abbcc73ecbd272a8e3f62b25b0ec5ea2462f0ca433fe47120a6de3c86fcc864a7573f9e60fdc62d0b00fce924d73ed591fd72326976caeb2176988bc2ca7840e2b86637fbb3552bb13875a38f750434c55c1cbe6c2abfce0ad84cc1c77e8cb4cb876cba066ea4ee24a52a0ccfe469e0442cbc0ef6c7f889d153a304548156b5f644a27e2ee39c89127cc4e5deb0af3967531602eed3ceb6fb9d743f4ec5ad37ba56df6a32b951148bd9255488784d9069f79ba4f81254cfe997cd1c9dc32f362ea8ca661a9a9a17a71d25aca543c97da37da23de67b5533f91a7f10f0d8b9068b59611842eebd62ef7a101055f6eccb34730fd2fc26a7740d7994b8dfdad676639c3d121e7594874c1af9092487d6e5114b6dadee2614ff54572e1e1063a317cf17d4092782d5fa36c780f461802798c4336fcaaef3595db939c67fdff59a73fc43b040fa5cf7cad8f4cc560a6131fdefb61c9aeecd25a7ba813964927c7edb8a2a768bbfb8262ea7212c559cf537a53eaa888fa5e56d7083c2239e57433634bf1f39212280211352dd16c7092b3b9f81c0a4d4b2fcc02e9b7606462d17743aaa964745adba69a15c36be0bce92c18e273c4cc7972fa63a3e438bbb26aadddb134bf0799e24eaf7322f6e3bebe47b47e25a2c361512f093a09cbc7ee93ab63a5ba4637cec88caed57874b37d2cb06c73d75ce18dfcef2d2352a4cd0b391d912d1c6aa54f03cfd5c8b0f8df68c6ea78859979f83684b6622f6a652d74d63c3a840023a3bebe683a56dafd85583dbe56ada8ed222dd7c66a41d8cf46b216fe0cef975c0d84c60d8ab6eeea10f1f2eb0ce9891daa3cb0ffdbdc68403669d41bfce815fb81cfedbae101232da89e618e62104824bbb4775b4704654df0c156a2cf5f1e4e0176de33c8cf20e4a60e8e4eed99449df95c522304b4edd242e7986bb108a30f8f273d03125a80dd8c871361d9ae5b2c61e51199bc51fbfb6d1d412db970bb228e48f92d9bbb23df4ef2ab658bb1d0d249bb270a9d81a92ad35b3e37a0363faaaf9e01cb68099919188f07667365cf7f4a529d4989b308ca841a1066295826dcaaf3198875ffbb02a09e1e6c9d37e2a503acc5ebab906faeb1c0bf30d5be12bd2fd7816cfe281946d368cedfd16c53c650ba561174dca13b4fbd66fc5690e38a7c178196ef6103435af50d7bbeea12918c5bada5feb75d450c32d72b4da74eec16f4ddeb3910e5e2b87d0be4ac53fdb44158cf0c7d0cc1ba350ed64201e42ef2806c317d22d9b3899f6f95d57a4136bf0aa71ca9d321fbdcbfefd1eca0c2c098bc01fd32d634591cc5d1ae5db0f9e126cad28f34228a25c165a6886c6374126ad78c7e80dcb9631df689eb9388be3c3971e57076db531ac369a503cdd7cd3e77777412bfeb0111ba16a74b95e305ba0a5e25efb694ec47345aa01f3a4855008417c06e861eb36f686f0ed4e20150773ef95834d927740875a47f17fde8295ca11ed54da888213bcdb0becfe1e01575f0fa037623f85ce0204bc895831d2701fdbab24728779b52973c2bf1f19a21e2f6dd29e8ffaa53d0e0d31ee70b8711315e5c1e2e0d6ade8d249641b62827abd9521d6e7bb31831abb4db135763319cb37a398a014d28e22ca158318f5831f560bfad9e66019fee4228e21654a4380c4bb8dfba3bf04ec6f655b92a030f893f71e40285088ba4a78b8661f210deb9a4084c53805c17bd0c4ea51316d894c83e34ba36ca76371494d353600c5ae5f4f3b5772d91d8acfcdf84f7b86fe5cd7fc63c5d43247f998ddb004057a02c5fb0e8cf2adeb48965440709f5a41b08d71ed54ce18b7ea5fa621c925a503e5f39cfb7a76a7b57e9d2f92abd4307d75111578b76f4ed69c95db2f3848d1771edbba50c26a5bbba0bd9fa5a4151983d57bc648a134f87d08f228b114a01010ac1489aef6ac512a9606ad88721cae2d848ebd97d3ebb85585cdc9759d1b46a875530979b6dd6df85da5b3785ebdeaa97d4923ea5964b39b62ed553d77b78aa855743c7ad54e7fc23b1e1533a014c00cb817dbb31aa4240da57572f5262579735831d34892cd21872fc799df37b37bcfdb5b6de7339bf254235c741ff053f51688ad6e0545d5a9648049bcad88cee579b815140c2b51a6cb934d75f697c69afb49b469daab014c55e3a241cac25aabac6b1282186b0f1a4ee7a3dd0c04b0cd8684ba2600b68bc6273c19983e82af8fb7e6df547c55ff8b236f01e5f4b6fcb1ab660e0ce0c20c5053cd3a600cf35bb807f42db590f8bec8dac82e89f054bca07db34808af126978ff0daa81b48db6e647bb01ce9f75323baee353c09dabf267f7b87a6dee52e018e91b9f32ec940ccd7c2c670a2454ab964be3dbc7f751dd1ef351ceff5b79be934f78d7ea71ff98d2e293497e1df71a0e9eed34b992ac06e6837726ff35c51a7529eb9205a8c68dc878e7a66558188c2d21c073fad452f039dd9129647e5b9847ee90d5b0eb52c3005d4321969e58b214d1b1c9c1f2729147004f713ba3caf38ec502aa6ecc816acf5d963646ad84e8025b971982dd61aa720f6e310d66449585fc7ca6a6ab5a59a66c46d58e1d3fd5b27545ed2dd62702f64614053760d6e8fc5b587a69a6c471f9939b0711b936cd282c225409f3c8b6cf1ce3788a07b67f955196ec18dac6926b79749e393089c866badc0ab3dedaf25669c82594c8c7b6cc3cff5463bfdc0b2596bbd4baffada6145449ca45be81e60660364076022ba4641971cd69b8181fd3aba344ff6512b84096cc24217d3c8a936813e0ec3b29bcb24b218419d8d9bcfdcd43be8c54471c9563e96d811fd68f221400c1e1899c7bc045ef4389b6542b061cc921f3ebe05ec1d00906c90d2ee6b9d4cde811b0957e9409b06f1c1ccecc17a75feecfaa058853b8d5ed3d40d8638df5c8a5a3aa8f2d826d475e75d5e302050bab360c6a4baf0d6e30a1021c5491181a931307eace48a367897d8d0e050d44167f83f743d59ca84df75d879a5f43e937c055516f4341746fb36a069e0f534b05720c415e4e4305214694081743fb475eb2a310527dc46390da6ce8f7b4c430cc71f89ad7b1211cf0f84c5165e01e484d77d9d2ea1d8f44e9a8a526f323b0b26163bc009e94ca36a1e731f915c3e62c15c7a6cbdf55a3e5531ca42c5cfc9a7237bf384dec145844fd0fd2658d1ad6ae1b5f647e32aa1e41fb3dd6e917bc2e7d68ea7cff0080fa9711782a20f82a4f3299ba2b0b42a0dcb0460e817ca70c5f216f246ca28e29cf1089dd64ce3f2e11cefd01f2a2f42c7bd6791339a8eb144a5d4f86475c96fa30751375d129ba2d1f85cf033ec0debc2f51936959bfe0654d9fa38ebb2520218a09a72eb89341c44267b852e5a270a644c51d8cd67753a0d17ef4072ca1e0ea147168edba7c48689e1ba75628f3a113b70bcfa5336816cabe549c914f99dbd25f3a1006bd45794527f00a95feda992c4a7fdc5b5b11f7e26fe383f716738ee3739d1712d11ed9b27d271eb113ed9373ab8e1f239d00f2f4b930b2a805c84b620f1545d9d8b1ba374638d08fd3873aef02400102f57bdc028beb456750b2a55803e98dc0e4ae8a308290edb4246e05e84bd4ba897659087a469e91231596bf8143f33956522f7a1901bd2a108e6cf300eb9ce4ea0ac70c1b30c7c45d51a2e47231945fca58d82fd1a0eeb68073f2683a80aeb7a5310965e1aef6813e62f9238d104831a3e183b706121a711f81a7e1f3e722cd6d6239ae23bf9ab4a4049eeb14c6e48580296daf05e5581116263e37108df2d47803dd4710afed8852ca393e579af26cb5c8e394f5a9745eb254cc2e61b29c0e079ec0e1d9d01b95b700c1b4a4e12b9d54bd6007b0fbf7172c2dc5cb4f286c94bd80c983be49a35661080daca350ed60a5ee4ffd8c596832073fa6b410f3375a6559cbf486668b2b1584a7653dd3bc225088635ccae2bac3eb536ed36baf6ea70af806443b81e59738b41d0b5bb0bcfb49c84f3f27aea834e2ea7f4b525810e3a92b21bcb2ccd58801b200a584618e4c0958d308015e4293d28248a2c7f5c80abd3f7a971ddf07e0f084f9f1bf8cdbc6e59f500857351cd1a131588510fe84539860c3ff206dbf78e75d2f85e48150531e537b32bd00aeb7b9c9b2e80de12805de8d9142dd90d50b0388a1c313a71584624099f80f6f8e0fe4f275d7f9aded82c43dd548967c59d60e5a8e6d92ad95eb411eb19ab7e16b14c6ef2ca8dc6a8860cf7c3a56e4474a3fc61f3974d59a03d377dae8cfab8e08ddd7406eef25d2ebe60a9f3c813bb8554e7b4f6f0c776f9b5c94c6b031ac2b1f110c25d39b36abbed0dde5637eb817af854522f0db8fcc69c10bbef1b25961e62e8bb3f7c11e94c6757298e04e7150c4a597ff24f8095c8e16f07bfb4fd69a83f4cf53e8a1612341753b8108d916d4fe7fa7e8b20e901f5a336656e5ed136ad3aaf6576c0cdb722449493f4d191e72100c9521620d38f37555f80845e891c1378aa8311b205408761d74d4d7ca78a5f9e37eae1cd55a7bf66832776d857463e43706983d0fdf389669cb7168f3546a10a398fdcf4f98a31709d58299cb39c4bd8e853adcb04b7b5d096c192145086e3f4289ce57b059b38c5f562e22b4e7f4854ef2ec95072a89d97ef2682a57f0bbb1aa3cbc8dd41b524461f1fa4001b496774303af550375e25f5e7c794c4837dc1f072c965866d63a8e72cde8bf297ec591cbb3d82afb5640da4712f782de08eef4b9ee74c69af995fb830de2cabff7136d2fbad9012d1d56700153b66e2e2d0e36d2ccdc09b3557a9b95827755e69a10a75c7443a49b147726685febe51d340fa9be6be1345d1d71505cb366c4ff3ae7ec0f3c267f84bef2315512716a1b07c30ba5a2996e4ae92ac88cbd0b1f1a2047e7d461b1d2673233c3e9fd1241d5d9124a4c1869569c2f1aa2c5c95f31c917fe5039906124d704809387ac3265e5f2d63297cb8c682d6b3d4fcd6d66b3fb299b9551fa5395bd83ec55365dba47e95c208c7d0daab3fb3dfd2e78d8a0bf5c759124a09541b26b9291545570615deec32eefa8615ea82cd9c66be8d1a5fd12db4f9d7ebc7acc4edaa245d2e087b035ad98a7b994be3b31bf31f53378a1bac9c5e8fa7e303542d1e2b56566f5f409306fc3a579a9fe46bc0d6c77220fb77b17ee96ac3bff47284aac0ab7477524fd4b74a7afcdcaea3d0d3532ee359ecfad59573cdc1d9969d811852c97c304238b46c233b8bf30cbe9b668672376c12c6681addc3e4e47ec06299f9f898c2efb647c2e29851b98618b734ed34825d44c6077128e904d699699e7ac666ad5774c2517e7649d273ba77bd11b05d3845183d5bb744c54fdaf6f984df81153f60be4f42b68b4f7f0b234bd10238dc0beaddd7720efa0ab2b229785717b785f5a4829dff6569ca307968276ae69e7da4ab534fd1af97f23510eab91a031608cd128271dea932af1fd62b52304b8e4d27ba156b29aa49a8ae81da0b29f6c604eda8f68eb65f4b8129fe54248f3114c45710539f3b943b23fcbf2077051d89bfdc1fbfdcd7b3b0c7eb1835db4fdc7926dc6490f81ceaefe978625d51726c2aa682277f7a29e8381f6643c10eef8bc73d13a7e2cb2b831029441cd521a404d81730ae4403c59d9de8a3ff896d2953476c42d52a5356a301e9b167190cabb8c62ccdfa4100a030cc7517b5f6355317b0890770328ce0fb67e44ee3b206c9f12cfacadadd36ebe406664f383a7dd44ce0a1f185c91f6532f0bc597580d35ffa673b451743c81e35dd3f5f406dcc14aff394c66f279aedd37f577c7ec0eea6935980fb9e72a8303d80be45504882ddff2123cd240386de577f23adfd9ffe89727b50beccb8e445ee84ffa420cc860ed43305913942250eaba19f35487fe8d1f39b10ba1c8349e2a9e0061a433a2baeae223d714fff4090a7cdc9254cb8c6a5326f0987f3a952d8dc79fe1bec36eeb71dd149d915d57846a4b2dee36112d038c6fa3975333d918f973e1c4b8a7eb2b854bb3d7c282699b981a9d1e479a06df73e1e7c63eaabac2ea939d14540e70c3912f3d922623f4e0930a217f4a3226e9531e0f53f1b09440b590872629daa96d91e61f90c0ef33431c5f6f6c1e00cf909c11ac5a8f2ff77aec6f5a0c09bbe3ea5f30315e42dbd06adf38f0bd1386d613ab7cc5d9fbb4911264fed6f43a8198b190b4e47451c58b0449fcbf00176360a38d26ba287685b1980f011761743fc07d5795e8ab1724b6e1990a2b1e0128477d554937a2fd1ae5738c1cd8a354da5163a75dc4fccdfbb5a3086a830099a38fdde0f0cc83d57d57e401bfde97dcb4544411f1a3872729f7453a32c1a400a24a0beedd714cf4834a98162e2e818f4eaa7a30f1c014f632acbee35f817d6cac1961ba48d924f3128d2408421b97c108fe8e76ed3261b68e050f2aad1e398c9bcb27bcf4a43c92db4eea7594898c3e91d0dddbb4b1f640b344c2f2c5e6ace4d62cc30be088cb70fe8c6f2a66c9aaa8a2917e3cf442b52c9815a7279b4f7331f4950d05c040de4dd2b768ed1d110f3f6a23fb72efee01b85bd695558dc60a130979eb4406779de835791a79e9765368af93117e201000a4b6bce28bf76318a22a360898178ab4a3c461fe67ad4cde6add5a3317bb4c207eb5dbf9d138b081a6a8cff92333be99dec36348333918cc1c0cc64b02801cc0d9290baa16ebacaa158e1c3329303ecc0bca37bfefbd9c5a2b7f715dc4b14f046ed962c45205337dbd85a47eeb347256948feffd47fafaf2f4fdaae7dbe5f90fc9a7ea7a95eaac633e42a48a2a6955b36e9db9c1e4b97ddbe0428e93101ca9128ffd56f1e6e8885fc5cfdda17ce2aad2e9e93a49de52f8799ab4662b481278c91f3d5bbc5e29d01f12a46c1e6a894f7abb0548a66e571100ef15b7d19b7ace9ef3de39d5cdc1ef1977679f25d29d742fadff1e3b1ff86d0d5248687d708a8924883827ca36feb6aedf0537506ee40b238a320786910be5af19226f1b6f1c9431f00deb5fa7575d3ada74261861d611c7ef4e442c8dbfe6962ac6f39a97dea3094baa0d9c44effab5ae26c02882850488bf61ba5d23add0ddaee4c579bf5dcf8e72a49bb9dcf1cb116abc2acf0c2a6e1db944c4a36146891e76fc32d1287f2e8927333191e5f155da3e6283857f3b5dd7ff4281ff8f043cc005f99284498848737b5133d16352199784d6b2c93ad606dcb4dfb04089b1824d33c1a9b241a907f69133251e56866415c08f4e892b606754e3e4eee4a55b9afdc1a456b36915a77eafa91a7dc652bdbeaa6225b123947780ee6b6275bda290d3009609bb8ed53e46ffdebf2c44185c8dca1e1e72fb65b2a3af818f2712d99ceecc15ac79f7f1111540ff883c21af80db169ff3e7040806db23b1f60fa32bbde932116add8cb2dc23f88d05f701a1da46a5d493e3ee6cf08ea3750c16fe90351fce136c386b72516a5cc47c3c789d49bbcc05058cc7026f9f539721a735c2bbf5df37e85181ccb8cc39b587551d674d82c6c3bdfc7e023133bdf0a8259384b7dd1e0f850c2fa3ec49a59382dac0b93d1a98a07d1bcb82aa25ed944da0a131709fedcf50b01685a15bd416279340da60c33903153ffa721e5a9b2bc7da34419f0085c67d86ed6a9300953c722774dc5953d3925991c99ea70bca1e636aadb995ecd6f4ff26bc99a077db8438e68523075267d435cbc4f8f1f553aaef5c6278cb529123c927fb51cf40474e32495460b13aba851dfcc35de371c351fe1656d503c7a6e97b32c4c0c45d39ae414c633bd0bb897f2bc9fa0bce9eaaa8154b96a7db073fdf5293e316c5fd9c0fea1fda6cda191965db9d0daf88c5c0a094dacf2265b5a36b6bfab06d4b5abff592d68ee6aa15f0ccbd04acdb5aa8ad5829d1814d32e891f4cfb7bb89848481637ea785fcbb51fdd5d77cb6f90a005e24e210eafd315020c541dcd640b0007670e664e0a95e1023f7e723989ef9a4ad1801124d00d3e57f00f25c387809e87d1c263d763996120fd28cc8c7552027da6423d70d9ba6c7a443b5478c2b7e283d941a8e88c20eee1c8a6dced54ba58844ddf106778c5924943f65ceca4e40c5d6bdfaba4ae8a7dd33f26b0b343ba6ba206a33ecc9cc0ebc7fca33a97f29e7bbf28019847c39eb77c5439a3e0d72974e8231823484a63710556c31aaf5f23b43974a00fc8ef546cebdd1e28d9a540dc9ff6f4c73fd6d1da0e8346e588d826a417e95be74811fb60c171432a1fa3f3b35ee77bb4019ac2c2ae29e39e1e8de34bd0c8e7afa5c0b18ce360421efd878bdebcb0b85bff2e72a90d49e8c402eaaf7d9dda9ba316dd214af250d2574cbf175ea84c6e0f5bcdf94a58343c1bb8e779f154516803dd84ba8ca3645da40406faaf2aea5608f8c387ce0078139d44bf0ae88624e71b17c79d93a7ef03a7f57a0a2d38fca7a178f35440fd83a93db9d0cf8c450b012c55f333f300d0ed882dbdbc10f9fdf62aa92d1a5336d2def90a333a8dfc6cf4bd9b830e2d7ac58af0cc66211188a2395d8a481bcc544e364344b53f00e310a1a900bc7ccfb53c692fb5887998f69be8c5f7b32def194352f9b8c3ebc3c95fd0c71828d960233ba393d6631d9e1a0e9652424a5d4482576f36ceb0a592a85b4990cc474037292f20f3ee9334b0e043b9d0484ba06a9881e3933b484a3a1e748ece4527345e3e44a6179947a2072bfad3f8022da7ab7f105f4baf5bc55aa77684f0a10c4e926ed2cf55c4081c008be39ace4030110a624b2f9875e1206e643be7f0e4578eed37695cf36918fcc7b0055ce020ffa94772efec56a4598038944062e5a0fb89a728e60b4f8d96286a3e9a4eb766d33426c0489be7d0dde38ae8eb804d457b68e9b21a69f26e32e21a6b8c028db0b829fa9323221d191a8ba2eb43163669f31ca18b8e20efddfe620266056afae0bc1b6742842908a1b7c2737cfd7e1ab3828ad8c7141ac2fbcc256e97da3aa9037658ab1b620701552bb104a27cb364dd3302689298bff82bef324847d2654963ce756d47f180bc7f1cc7ba66d49529aab8884b50f2dbd5bd3d7afafc601219ec0ca4007be0d8fd12c144e5204b195ac3d98c26b1a09d642a74883cabb121704914da58d5f466ac382c3426b01982edaeb94d9ed5a10e37d453be930c5045a6f8070915d6b22e305c026cf23c658b20378509cbc1dc79b9854c4db793c5d48d62bdf6f3d172181d7d5353ef3138b9055f9621b0e41058b4f731a292e11f436872a6e15ee8eaf4b9e4677add671d6aaf33268710b23cad0172ed0a6e43df3bf06b9e066a9f2912efa9e3650fbbd002ad384b9f5cfd11c6d907bc34e47b978460f9a7dfad4371cfb39a13cbd33e5614e9db5124f66ff9b50ec2e3e31a859f05f0fc4df8199c8a2001627ab989b93d967201dc9c17d39f9e54075da58bfb98812f6c4d33a86422dda213e80291392cea173c94f44a0005c739cb5080ab590a079eb0e9de4a1b7b4c8ed27eaaec32fc4c54fa4af646b33771d75fc1c30709653e09b4232d659f22d549f5009562aed07be35dadc5c90e411cf199038af148170c731d24685102db4bb3d06b8fd400b9c92dfcc4d73450306c17a9ed426bc2d2584ee12631fd55f5680b0c9b376c03bef5d5a5b40310471e9c34a0bb9d31d3afcf235761286a3e993b8fec50418a0e4cbd9d5fc6386f2d920eae2340d59c377d08292ce7064ee1c59697d8ff8a0dde34ad3dd457d0395eb666dd21001aa54a61d23f57d466cf5685faab20b28410ed58c6014997466ba71f0f234951fa16ef41e5682200c30c9d5b77ad22da14dfb79e9714ca4c16ee95f828c5ab007d9df7fea957494f36aeb65ec96af1c5b8e2bb3b41b780711b664429cd13243b6ae4422b46ee15d1ce8072f796dbb11e5eca9d99e3ab17d9fd04a0b8e355013c0e04ef6fa7d7d7e3562225b08f60bdd85bd994b48deddab41dc170e6fb49ce208029ea3eb89cc790f1dd24b5d862da0ac39b32fcda03196d7f4d80c4392476a219fe5bab10df23fb9e3fcdd3ffb69b70502aff65ffeb0e5e93f9ea0c3263f2a74c00a862458d88274972e6ebde9eda322438f0e10c760ad29cc7d858c9898e818a18ef2dfef9ab653481e5426dabfb086208ba3f298343b90c2dde23b9c7eaa2d36b6bc663e70bab19827f5be8a2e4d9770fb2d98ad349d17b5278a87cf4b3e334e2b9362b3ecabfdf675ee07bb8cc4333ab74f52b8c14bfde1f47efe4d0717a342e2bdfd198b1cf67921cf9a6ed95e35cc14b57d113539cd724cc1d08f3212c53e6cbc3806f69813342eae81c0f7dd90bb2b4dfd8411f34219111ee104f1865addbea2cdd46bff0b2f9a977d3f7da27f84fd8280da7282f503b3736d21c37c24721472941e96a13a681daeb39cdfa307880c5072d721c963d82cf97a0e6e6aeb7813803aa1b58f27ad38b3f51774b85bf359952dfd25b487e317ed57bdde1abed745a05d14a4b31f1eba0bc78ca06df3f51fad82e4d1e98af3f76ed369addb6f78e0028479e2aa4f30b8b039894080d26af287318643cbb4197dd3a17593c56af94145e752ef211dd958bfa506f24db0a3f587fb28fffedbaca0389b22b53d15cdfc1d073114f818011b2a70c044d42d7fcc8402f9834d17a2c0888fe37b0560391b3202a7893c0f1f60d2c9aca0d80ebbdbd4d1f87a8a8da9baef01205523e3d0a2bb6e2098f77082d8c4fdeabceaa83ec885831b1a053caa0c8985192c879c752857d1574b5988766454ad2813c07721c7833dbb04a5047202c938c5291cc9eacc4aa4684da64872d9903099ea23966de89cc5d105887b0e0f9f9a1778375c06153ef861004dfd40fe045e0889c1bcbd1e938951f905f6bd6e83c8e34b6e567df0151a8557cf215dcc0268286e82725a8113c0d223d7af05677642e8fe13baf5fb5e93590ad8bb357f7942931c8521032ae7d08bb3cbeafb8c6b5854236637104841f5c59e0b0caf2ed31ca213bd70c056a23c9f08a86cc38fc871edf0a745e2b41fb124dc378148feff58f42b0cb10188ab5864ad2facc58d75cf45caf4f1360a122756d64cfa8a081955a2e98679b735112ca0a83cd43e86e4f84246fa1556911ac4f44110ae8bd530f5e94b5210b9299f52ee896c62b0eae627bdd2e325b2774827a00838c0bd161c450ea450b1d5fd6c632d21d6ffbd8d2498893816f16425cd1209f604f575afde935160ac67092c173b543c95de5789d00016b7dec66be59fb3d3c4489c3916bd6e3bf23c4b8c464f6231ceedd7d809870f6fa9c2320f82257f70ca0f0ec664f8aa3fe92446b9a0860b65e7377c4e5ec25b85b674009613a8ee148813cfdd68aec83373b10548c90dcf2694bbd6a9a86a3163cc2b3bf9f02a9e08bf15538afbd67b22104795d7d902e8c949770a242fe246f2a433ebc6d3d4450971af99b23b614ac7bc756655d092852ba24f44dbae9dbf62e4aef05a78bee07b14c91fc5637d50651c8a1cdcf69624dcbc1ab1a19f68e70e5fec4a06a4ac9112c2ab307512141c91a4f6123fd97c046c01e3cf2b0b6668f22130b92939a595b1aa02e58fdb2b0e4b70c4f6d7dce861b8991514f6d7de24138a931966a4b0c77b73038320232ffc77cabea23f9c2f17ba7f598be350c51fc18bca6498a127179c86b85ba62ff2033d2aa1cf6a729cbd50f52cb6d133d6f2fdd237e2bf7a64d36005e530926640923a5a8a751b495b60ca91ee50bef30030e9c5c9dc7c862471013afd2caa7a8e6af781fbde88da5daed6c6091df672cc5e8a9c1ee618cbebec70d174062d8a031c78e9d443a628a13cd232137b97b5c75247c773c1d7d7451c21fd9a36ee8a19a34404d459948f73abb00ed1773ad06325ae221797bdf9d3a3283a222e9b8bf74dbbad389c16c0844a916a69b0650719687c9c072b1b8366970ce94b2f48e3580d5934ed5b4540cc219b21187c950318cb8eb56491738c4916360c4cd3c5dfdb477cd10c868fe3548d66c9b2317d991f4bfcb390d0593a100c416c1b83cdc6ff63828013ec483f605ba79d1af7a8ed4c749f8226135e226747eb4ea3518c3bb7cd87d5f4ebd2f3c5f75a556d2532af068f943b3860ff821f65c58d70c4a868eb969b27bb7e5c766d525aa339202c25aed7803092efc23755a51327405d6cbfd3aa0dbc9675e7919df689c9adc239c2981a2a504f12ab8dd78b439dc41de26ca5f7a50a576949eaea10ec9fb1dff7245be45ac81e83d97c733592408c30b908bc79222ce071baf8cb4edc71af6c297a1cd46350f81bdf637f6e45340638903dccef4f342d9b5906843eef687ea327f2a4241d6a7e1fd86cdada31bf3959e1c29f861da0afd83a03a2351d63883b6278d089530e1a7600776c300fee928890d1eb71914a29e4728da2843af091e5a38bf862e425772fa7cfb7d1ba2f257353c0da2ea4a7ab64b0253dcd580a754a5ea3ff72bd5b1748701655672814bc82e3ef6bd9e432c298b4080e468a61c7a73e7d8915fc67f320ad22af8e4e7c8ce51802192dc165ebc4cca81240eecf51f8f8f30e1870a422869fa160c0cbb0a012897ea6fe2db7b4315967d34e1b15e4a4d0388dca45b165374cd3c1dc10381f853b52195d9ff1425b395f18e8d4d2b56622c1d3aefc518e7ce8bcc268826e1de662f6c615a10edf20d75a5af24b041af33667dc48c58c1b69b0fcc3e4616981c91d206fce7f51840361bfaf10ab7e2e847054e3b1ad113575a91c061f406b4e5e38284e215b8beffeac70c3c33d824a2d80fc3265c5695cc0d2ce0564f3d1a716b985e860b21d53951b7884a06242d6dc12c34a90b92a9f261c2500d954b9ebe995ca4492276e7398991791aeda05f9e28375b18c55723333a4d5a23ea6e46fccdeddfba931000e9139b305960522863d12fccfb4b48c756aa01ab4c421b746d08ba8833051a533c43ddfbefcafabbd2042d38092c312c723c31bd30c49c9623b6434717e84bb78e2e64c9763c5dabfaf56b8210908f25114a560a89f1684ba2d17ba7e1d57c715bb90bd9165787da531c983f5b3bbb136b946c490731b04bc7e1cc9dd42a118cd170fee4fcc54b3cb1e4961733926c8dc27550d545bc78b0ab009dd9c9aef4664263bf7d181ff6fc2b99824899e29f5dfc005f4a85f0f5fd1c87663497a3aa64a86dd507be2882bd97c5e4c6aed039662df5721c787f00e343c202c97f48be417dc2d9677c2906a5858193072e997803afb539e2aa8facde3589a104e6942095966bda66db571b2ae30e02ad6f307302d2029c1e7172b42d503af3eb8a0e71405f0c57a0df7143aaa7b04d81bdbd9b20269859173f0364724362fc6c0d713313b7fbbc45066006191e8aabb7659310badf91d8d94a4c9791e20f30c81e0c339e7a60e828bc992aa17a962df8e15309ae8b4a8a9d4e5dafdb6fe4f7dc8a60edfc1671c66060b4db0c6bd7c191acd9e498a56d8becc6c44c2565ddec6b1ee8d2d88b3eec807ca788d24085e81ec13d94498f079c8afd56ea6c16d4f950d8ca9bc3e213d9336d99aa9300f40c1f8b7b7ff2d9a5166b715a2fbd3fea4b15d5e15626a50627e8a15bb20625dda875e0c64cac923ec42f96e6e882b359353ce143fc3370f74bc12d4b7338bc584ceaca7ec81583e83aca7daf0ec9ba08e301d4967b67a9f5cc0c242a81df08a440c2b937f17d3741946cf275915c40e72716a1e9a144754ad3e8418ce6d316ead0c930772e1a3d5b7af3c2fe58d7c8c6e954fae1d8b65ebd4b1fd5038e6ea03d077a3904831832d2cddd7171b44bb2949a50459177e5575fa17fc993a061c8673a4c7a6845d4b98dc6c1afd7d79743b462f134d51f6510d8580a43d5d1fcef68d3da57702db86707caf7db3997ea7ab68efbb751b68b586f67753b5396bbce226296b973be4e0a37fbdda6c8fb57ed97334210422964c3db34e97c459daf1bb5708e39185502272f10a0f9df678a76b784048ad601ba9c838e0a2d28e81bd9514e19482eb1271a28a95a734c2209dac1e78fbe3801476edd10176c4ab2f7d0c41df4a322609d8b7b7d3df4e2d0bff1ba1b297e61bb67429ab3e460a46438804e17ff7865607a2c763b88977591824861f409aaf0484a9a3616a0554c82a021844f34c9651c34a200efd2178ce332a1e5571363dc2fb510c75279eb47a39d8522a3fd939408191ab86672ba2755b826ded4c91e967e88bb90dfd001445403dfa48b7eb8de386850109c24b763416d960828c012763e0794f56245e5094a85db3e6b022b1059f95a808959500b7f391f4228e56b817f6aa1cdc9a6b6374722e54534108569cc761e1ae5f59cba9521693de12b0b2ede6ec42432052d4f0efc7711dadc8b7e34c802165d5040c1b162706ad04501f5a55f7f3ffa4b933cfcef4505b4b9a4a592267b1105bfc45589ac7329be0c4b2f2b2420dc855c68810e1e5a67ba623abc793dead8adb4dc32e6f5c7b675cba8ce863a043056a1889c909a04d7212ad556cae7b7b17b2b229446c65c435126ed3dfad773fd3ea13c4e03c6b0ae4586639e1af0fd92ac8d6d608be72ae3ac09e18d4d2e71815ee28c045a484a7436a05823dda00715cc17fa7ece9d3395a186035f7e66e06b15b31d2aaffa3fabf3204646f9395b90b8fc182bf01435e56e024ee8c3cff5277c06c794aa07b8f53650b016648e8f99bb931b7dbe6cb5b7413ddb45c16b414a3251ad414633b8a5bb9d869fdd0311d2888d400f95b6b2581e9563a6ef0db2b95147bbd0e599b310368733e9b53cc4bc8e751a982c353ff3677b176bab587254f917aa514b49f0e335566a3ca9bb89150e171341f4b8c0080799c95dd3bd5801619a3251d67bccdd91e6ffd54031f3fdcc2f2716a83296d5d8b296ef249b6b65fc6768d068ab4c14b21ae84ac6a10d3b0398a65ca7d0e02c08909d446d806815ed5fa971c3c4aaadce9f11f711d6f5985d616c23c330dd660bdaba2472d80b119c728fc0126945c546c241c36206168527b32bbb23b2f75be434dd98ad0d3db963950471d7ca0a0ffd83348c1dd381d2c8ead2a46c8ceed12b0777951a7be88190288bd270add85901a1db1ac95f30b9a66e184c0e32254be8b0a339565209608c0c2114b2097385371fdb97d20bfaa8ee8808b5c0df7c9f6cfca8015dfb4ba8df3c976f06340619f1d07d17d517d46ac534f2970d2cb239beb129df00f0d32c2c7d701eb850dea5f689f6c8baf94edc4330fae74f434de2bf78d773231008b0eab6c7abdbb7b82e0000ec16bf673e364f9d4801be70cfe4418c634c363af36c0eb5454ef38602c29960d170dc272a5b026fa7432035075db1b4445de5d6219fcb6eb9fe59d6463dbb275afb4b7e6554c16dac9ddd4793060898ac22d44ae52ef303b4ff35eec721d168cd5ebf4b89902d4b4ed98a1f7448a955b0faf3969914d52044c204838a90d739351d97e64d3e3de50ee13214ffccbdfc1b088e6c6db91a94d22a447f83367cf1c2ee998a861914c20ce69c3be236d73bb89efe7bc8a92b4cd0b7432cd7343e296358c026520e0ece866fd95875d13fd4202006fc1ad20068525f4eac4f1cb9c93f395b09a36766de0e0610c5144297ac4a3565e3d9205d6b99d5aaecf5174cccff2fd15b5ad370adc6d6054ae79f3aea2f22b39cb792ec58c6754508f5bb47c42a1044899c9924a9ce63a3cae4d4950c13cbe464730169b2ddd1dd8c18c7febfc0017244dd7c2d5e1dde33a7fac77c0dea5e4ec23af39a4bf49b0ecffc075d0bfa9390ddc99190c0f4520775dd0669265d418f90dfccb5b7b429e1c5f68b62a870be78751d7956fa4331b023b1fdbc3818a89226ad37b5782f65d1adb51520dbf4e40592627ad47ab8733ad0fbf7ce8a63bdd12ead4603a1fd11bdb54badd8e5c31b81bbfa403f443a7f2a7f427e48ed3876a7d81bc969502e2e877d052feaa9d43d14a34a41ed70e2b6b7d26f66a964215f674eab8518f506ad1b6ac0831b60a5e77f3c1edec71fd269ddb35856b3c36b370b31b6d5aa299df948a4e9b10848061a88bcafc711d1e4cfc113562693c1ef8a231e6609726e12a723b9e55b3c76c5459fef3fac4078cf72549fce2843b76e8b89cb9068a566140c33d2c7016a0c5541c3750b90269eeb2db31ed7abdcc8d5866834e552454eeb94931ac253999988bd9cfd156427d397871cf0f9d1b785dfb327a3e23569009e1f02b15f08e4b081735aa2f77d9a72b20adf26461f1a72dfc739faa0359e3d3da799bf7ab54e33880cdaea4ce7e671b985886c9861fbe18f6d43c053797a547ae1b1bf2692e52b1cb7ab609d0d05c0c429c8470a9f1fe6a9e29461ed65592f9419aef3d040865a20a36d25ea4b1b31fcf0facafd8a3053c3caf39aecc79ef0ad091e338c030523b7e0e3be3272579e34e8d636d9f007bb03886949be347ee99884d0e126037cef3abf82d343797e6a7acaa2470ec09013ff1e45b796f99b13370a249a1db1215a3394c27c3468ad65a729c9fb502c1223f525a7648aa774947e93edd2dc2cd70bcbcac6149ae5800fcb5c1a776feb232f48bea45dc1b45e99839345588dc8c842351c6fab629252fb8c45edea1a35e6a21811731918a0ce69f920c3a543fb76fa413f99d3bb8c061c4dac92ad2c3aa33df0ebb8d2d7607ee89e08503c8875972cdda8036b8243867b059949a8c7e2daddb8ce9da19df4418d92c27015bafc4b2c330936adac22e19ebb5a89f96aa95738a92a100b40d470e2e05ce3161d1eed33d75a6372a05c584a75f80a4084a8e7aff3f1724f094ef7c1574c163e3fa8850846b35804c978083d6d117cfd7e873d642fdd2f8a170d42efaba3f0e98f21e85be3e0dfbac614288b7e7e8da77abf591242744692a3dde27da0725a169e4cf81531060a68f2726a9f2e8b8a7d5ccecb72f7df73684b6c1f1245465bbfbf04fc82300bc56abafd6ad3698b47e14544d0c5a24d591900294af2172c7f58bf7951dd19c7d0bed3024383f8f59f1012978378d024c282891c8212f8802f38b5d5aeeda0a1afebde49dce3d72d0a6cefb28c8aa3a2fce6ca4f40e99202522db1505b0788f6a68fc3571f6f4c6c6f73dbb66c39552f08b0f6c943635181589256c23adf74fe731eb529d265ac16992934ca83477e62bc5663b56b33b7147d312ed133ece31d7b058371e2cb00f166a1831287b225075fb16b00acd3b8a8e3742ec71847aa924311caede114a0a2bed8009a951c3a0ba625cfd5f6b6198bd00f39b77122bc92fbadbc01126b65331b561d6609f77d4c9526be7f4e1d584c3becae8255f1411ff5d417aec5317acf4eb85df2bc934f49f29e18e4cafeed7b40f077b21d071e8d7c0931b3ff6ab1dddb846727e3c1c70ec75739031931438765b069b025cd7624dc1a9d9a720bc17cb4cbe442a93feddc2e7aa25c3a0cdd87039fe2bcfbb123a4d732ce6a0dcb7c6afc3d343d7c3110015aec6a57162c30589f0ae27319bae38b4cbab3545b4db27ef69809ef7d0f0c601bf8e6282bbe47047f1c361e8b69e81c187e9f04bf8eee0631eb59804832ec745a11f2386e5b2f9d9af959ef44a12b5efc7d10965595b3339d3390dfb7d7559afa6730a206095e7af74ecf226145f5e28265f02d4280af12bf4a4c0ee1caba2b5d3fa2ff5f697b0e18969a16f7fb6dd50cefce1cf3cd975d262243d0fa7d7b40088d67b7c92869c9cb51539b14cf59ed79091a329e3ca6114692c50bca5013d51a25b0d0ee91713c31bf68255d577dc0547490a6c521a33100283cec63a6528342869e9d9da7c13d7c9fc1be56c3cf24f4b94a2a3273fb6348d62132ac56c29cb14f5b4dc75a5388a7465acf998eb3d038480227b7c842718dc1766d8347d5fe81ec7e8a38646ff29665505f18b9a13eaa139d872449cebda5b311bbd9a71b9ea6049172c92e54c3bdd7e14a9230fc771bcf7441de11643d9fad83d607002fd8602e9fb23b3b4786502b4c55bee00e3a1aa1efb427d6af9ed77f66e161a3f7cde9154695d55bcdf7a49cc8bd124aeba246ca4cf979ac78eb6693937434067e439199049f637bd373af1992735a883d6a7b0f172b9a7d16267ace21b81957b0e99d11237336b29fdbba92469bb9b6c7a9cf7af2d79c802c2e5c1ad8bb5fdc49596b03011c2943fcc1e7c04c349451b760cfe1f319bc131920a4fcba9f13c0efb457dda7c3e0c285f6c621c76ae50de0ca287f75beb09a62c8816cd9d68ab4ca41f5e1567796ee53925f3eb8a90bd922265e669fd9cf695c80c774255f0497f5b376e3601f3debfcdc8e188ec2bf251fb1c007a698822dd22c8a7de8854678291f2e3b466cb62cdf0189a8d94be2d27b94d87719790593a1e48fbe8807ed29b865c3e73fba9dcf4d988ebc8ec762cd770caca0864deef509a9ebeee696f634a6a0a84d608da70b0af658f34245643a26591fe1f363c636aa0b8a4506c92f1b35ed0879c68dd8b22880a20854c41523d191f13da6327c1895eb92b1463833bd15c404ff7490d73edc83954717bc753f771aba697d847005d9d65b6af3230859918b28a1d3b3ad4817ff0db3ab0272b5dc7ad9d4a40abd8dff09b20c748e76a747f7b0fc919463410e59f8a31d7680b009b82ed5f329923975c7e362faec24109257057c7cb66b6189c23d052e2a632b6c42461478c2da467043a79d360a51101b4e7d770439f6c286c7c6ce107cee9a9c1a06e0c4d2510d03567c287cb759975a8d0940696fefafa4db0c84176ea4b8a8ee2008df02a2d493a15b757017fa4026a7954408d0248b8fa8de4cb6dcec5ee66273caf3a96574a43595aee3a66674a773c558da8dc45c9878e315d7b8688f8bf5ac4c5784f4654abc1463086c3acad5839b2c8a5aeb1f4fcd088baf1f112ae4c7a28da4d4f6835f2d5cd7cdf61f8d4d90867550eaa31bb0683ede0c4e338dd10a9804f35cf1f4caa2d0c19ffe11c917bc90eed61b84ca02584f05788ed010e359238bf0a73dea90e4fa931890e767ee85da04f8c8502834874415aedb2b7879e8d37ea0e41aa071075e898a78b1bffebc750cdc2e0d3d205ba9ff89d9f92c80fdb36ab854ed02e0488de0128e6c5c2990b3b62e71c4a4d7393eedf4458acee35c5402582a7430488f90cc6ef0e5d8da947e82267e240aef6e7bd06cc96cb2e724b484587a89e01827b3f94dd83c969aed81b2c428bb322087472934b1af4f7424dadf9a104b9637bb5729b6b067071244cfe854dfc988fbce367bb2ac34c92b0cbf2d8cb8ace0e54c4f97e1dcf60772440d4facb33aaaddd6dc0cd3d7380d629a0fe537b81fe526401b94296e56a847de4f45b08d5e51e1d3408304a14ce55866ad18a96e3262877f189823ffd3089a40f5ed06990b1946b06e26574afbf8132ab6cbcb2f43cffaf2de9e9761cf1ccdfd2c92ce2b7109154a81c2616f00e5d2238c5ceccacf58a5c99813020e27784b92cf72d03d438453e97a5c78369f50df7897f78ee53c34a8c9b72373f3677f6600cc343765c755a02ba12247d2aaba0ae21f208d13decc0c51507071c729708728968a7bab6dc1654349c52811b3f1e02ebb2cdf6f41e43d9d7dd66eab6b2839644bf7a41480794f45ace4e18528a339bed88675951377687a849c34a16fd0b0aac5b2721e10e2c80d6c5cb8ded43fbe5babfb6e04b988edccee9a2b0394ce535365951d8932d91a9f7eb12064ea2ee67af5974f314c1170f9b6e77a88fb316603c1950c0a695be515a2364dfa4ddbd30e264e6abdee142c0a928a375cc3fdc01cba957d1bbd4a79a101426eae5049ee44be0302a85c1d7b940ad95a98c386b193405357f848e599fb25467aec3975a8d9c0aaea4b94065339c4cda89541d979252a253ce1099ed4415501b0d7734686e6f70580dd876ff2bd09ad8418a590058fa10b4eab7359ef13682442a0ef9cc3139b4645558c6b3a4e90aa1feab787dc24020b30e50cecd2c4b2dfd16af6e1d7d925dfa9927a1a4dfbd2da6c2000625788d557992231df1cc2341953d1016090bad985ec244ef75eae84765d289ad3e5ab50e0252629030c8f4445fff0a6eea195cb2c021b4d9b8b8fa9bc326371a3d7ab676e3f5f2835be3c8af3dfe8bd85d1aba519a452a4d3f25830ed0e9abfa7f91267b9c6226f1e7b326ca5db57b9fe9ef788e261ed53fab5eb81505bc27c105baf8b52b1c5229276d5dee969ba52b41cda813cb45e0cb8e70fc767e55d8e45ab0197f96e6a60babcde7d450786396ad1c884c4d2024cda6849cc3549d86a744334d5c5855b7ec75749680fad569b9645614c7ef6c00019bbcd8445beb1cb45ce6d6c3a4aa145122b5d2e601be3b6c43d034c07c99ee7ebe28073e31cb9502fee1a52940c6c80cb2cb13a082eeca1252b5942c632937a106b4774d5e633f32a04c76087446b31a3a2c1f7fc469bafb585811a6f5bfbec0cbc477b5b9702e1767f6d0f6c6347d38966ebe072ed65b89f8d2d33f4110ff30635b4fb0fe412875435482174fe676a5e0abc41c133ae48fc19f468b64e41a81708db23c783da809d8c99fb6acdc04f1f128edf1047f086793a307f4d02c3c8022eb8812433b49a8a1a35314420f1726e8485f45db248a79e5a3bf5166d5e2a2f4971cf17baa914cea53528e5a1ccc0d7badbc1161d0081aa34207c80fdbdb00fd8cfb98a8d63ac7df8002504a24f898204caab2286a5d0712653a195524cc139ae90ca71be7964d46cd03588e0be551888b5d17b29f9d2955809c628f36ff0b4f9ccf356facd9e1ae74549431292838c996830eefc40ff1cfcaf0c6c4577e4dba351fdc9265cc0dc00eb62c3d6a2e2b8ebf13241b800d5ce84693d092067ceaaa4978df7292b492b6e26399b9190166ded16f1f422d10b57f7183d140d4a8249df02fb69d689469b6e164045b8a672b8d82498a5c24b6360e925d132a1e95809eae6fca3e61e77aa2aa8761ab0c5b1c283bfe7c2228ed7fd64ebeae1415d9965400ec6cdfd16b342adccaafd150cbab0a531a306ade2536bba0bb9a5c6217a8ebbe486a00f2230251b96831777d6ab5998823b9871c31f958c4eaba1609c20c87bf288a8414a53b100ea30cd9128bad4797500aaf9c20df54e3dd8f65ce98841f789dc45e20d546c69fbbb9ad0503625a40914f4eee8d08c2112020d23a074a1bc0be40a68d58937804172d68415f72d9881a08b2f0a0d295a33618a41fc2befcceb55da2a09e400d8f578d72444b9869c11109196d14600910f0cbd8fa2963d0f99601f0e7fd3bafae30a138cd09e7a6945fcd24e86dc6863dd43fa07d4ea5caa1d05c7fc5749bd34651ae104915239c60362ed307cd9a47ce087bfe9b3a185e747e5c824d6bae881fea6e2ebff3834a03327082905a0cc1b64ff45245eb05bba16c9f9b9a9fca2f744e3b09e7f0c7850b1d5e22a7d979ae8dcc672a73c02d1f5426bc5b0771932b5f67b9c0f399e99c98580774823db49b49071278301ec897fe818859d06bce4641ff79731a45b4703d7ed30c1e2da3cf6523516c1e8d8a5edf84e1eb58956b4822196c94583c03cdcb92c4aeaeea7642e5e35feb9935f6e3d833995ec8f4eb8640cc2960e863c5f6c4d713309307b076ce24c415b20510c53d33ce252cc199f159926c0365ad14ab437eb31b160b27a58187706bda987d6a229c828f9068f525d76f7493b742ed622acf6f4549259ab2fb910236bad33d4f084d48b5e50a34df1dbcf85e0d51068797e2288434d36ac7c06bd02ad75fab444b9f8c48ac8396214c1bd46ff7f9a7445e8ec984a89258cc0064a1a7118d5c1805d494809f4423d3811ce96346d7cb16132e1a7b63b8723cbdb7e7caa2cd5d4e2a27966b68065d5d8e28ef0177ea6078d556ef041492733574a5abc5e2fd4b1da079180415bba4a9d76b800ec0fe10f250498d35d54fdfdae8ca24f972e07b2b18b1d76140100388668f4ebac6abecc97efd80595cfdf17d46ddbddee8effbfa7ed1ab21be02b246f42c8d504573341b24a760c542d3502cddf718f6fca831eab6bd457a29930d1fe976c3b478f8bd5dba44fe10a55652b841f67aeface80167f17a65de521597d0f23f323ce0d31da29350508dc46bdccfe5b480beb79df5a5ed135f78b22ccb71e03bb78fc5b4fcd88ed6293d704a435262aa6890fbde04b2e564f3894b48a9bbb2b70b7538df706608ed99a32b856700a753f286e15221ef145db69716d3bcdaaf22df2b2188d0d91cef0fd7941576116ffa8e9bfc4a66f29dd42cc4eefc3a2b4824be0946ac2254f84f869344497ba15937fbc68c69843697620f4ce164e3a42958d49a4e9e291de3b9ddcbf58f1a8989826233037b7913c637cf1148d5aa2f32d0ea2d7c84efe1e1a6c6a74868de51ea7ca8c3f74b03860aa4d25375824ee7235176f886a043809d259838dde41e4fbc61334652144b9c5a96507b3849812513583ace022a5627f518b368fb1626317d4fe381fd5ab0befd84bd02d78ee84b466d455cf19ac24a3e55bc5166a9457ad6929646a489f84fb370d9bd78f03414ee1dc756ddf638d8da0ce822e6a9e00fee00e7f76357ecd980267334fd421a048db50997c55727567e779aa17fa59c7add442709052e038aa348e345fc21ed78d490c104b7c68cf9581d0703215e045b05766cbfd01114b9be9c27a529c666ec61e2438c0f327ee68442225d234f79fba58466e482fe852f6f785219738773c639713612bd4be5db822e5139782179d4962ed0f85cf99f1217f0b096f44306732f88fc7ff56aec3f0042b6eb01c9de2adcff10aaff76d2ca185cf7b87618810574964f818913916097a28e12a979ab860b5ac327b6b53e78ab87d6181475ddc16d495ec32ec5e204da2d77d13a297d062d0c5ef1bacb387efcfef8740b7d1e60c3caf376f633182065354c6c6ad4dadb2bf6562cabc0a827608299c939ed112361f267724de21a371326cf412c54ad43ebaa3c38c1c30592f97f074bdb249c824ee49562f26b2021e89ad58c024e3c3a1db5353a372005128f35d657c6e8338f96a39599ac961411769339be90f4c01b8cf4f9909404bdd065e66eb86ef9b49911f637c05431e602627bba6a7aa97611290f98bb692beeb8d74bd60ea5683eeed30553f4c811a2a341787b5351f3ad171a2df4624531ab14497c0a4f9da126868a62a0a02c1f1c26b14e33065bfd7e90756de44aa87895cec4573a44fe62f01623a850940980873da74ccb6424bcb8dc28d949d5f954c914caa7b0f204f19e111b977db7ba7eae9e3f05fde59182d1c090f5cfd821e5ccb38a8c0fcf0f5026e22dddebb5b892def19b165d0c11369029808aa780b00b304374dc7491627258a500222caeaab1383786bee078c2fb67c90425736e7f41bc1697331462680dbe26d6bbadf59ea95687e6280fe2502efffcb4efe1bff8eac1d49e11104f8a0109de8377a60f1d0d954d25d03ad9dd97e95511c4e518d9129069c54ca40818eeb2ae2835b95b850ec01f0d80ad940d35144632658ea3473766e85b9767fa1bee720c5325d416f82517f66013d12664036ea18f84becba6fdf44b66be8f9a110d65d35fe434aeae369a108334af472e884c33d21f11cf34bd847311b827aa8ae0da4559a053aed602b72b662876a747fbb78e211d00ee3a0be13aa30dfe4b0078bfec6c23761c05702485eacfa2cc15922fd0573aa6f43b202e4f02f99f7f51f3ff43cf9a314b7f41fbfbf1c879164097dbdb93bbf87ba19297528a39d4899d3416b0994f126b79acb6af9d4f01d03bfd5a493e84530d041a9e1310a85846b6cfb4950b5cdaa3d70c8190ffe9b927144628123fdbff9449e5045e49dbaa3496bd41c195ce6c6e69be0c3687a7ee148d0466e91ef59f901079d053553c227f81c116df906909eefe8ca85473a40c8cf1b120051c498616c89bb3478dbec6e909cb584a7819aca451a7f5fd2103f5de252bb1410b57dd4b7cedda40a3f6669500bb95b4d829f3da4ef7e7164522dc7996a1adf255b645b72977125983cbe49efe06901ed2a73fa24f4ea61ad72aa90ca06bc08497c49fa388bb34905e26c2baae9a3cfe03ca925001cfdeaea0917c270805068965c937d516ff1528cbfa459a2257ac5ce018987798e0d893d1210ba5bf481154af067c4d0c083104a2b64be5e5f697ce85e8223728d1b9398b4da0449e07a91a84f9cc9999349d1b0a986ecd16fb9d883336d615d69061e9967248b6752b4233268704a5327084e13928302495b28b52490cd6ce744ca181d3de17dee1fd98eaae680e93928e193c10d8f59a1e0ee01c8405091c64a271532b3e5d2060a4442e726eb2887e1c69e2f047976f5929b433612f90c4a60f33cade0ab21180581738c3c444db3f9070ca4ecf13bfbd81decb46f55ea3485ede3371192bcccd5d545ce07a04ef4d7feb138cfa82b0405d54a136e7d3c5ebf1285f979460211ce07ce18d3dda31c445a6d0df1ab068d7ee5678f2447d4e5aeab1a340265bf938d81e95982c5cd8e616af336c709405069885642a0ab826d2ac7e4cc4fa1c9756be8bb0b2d59f386166cbed2dd04425e33ec34f811dbab9127d9342629c3e88c01b5882c776367e2a1a27af421079cc49cb3b53944b71a2695819d3ae1b3f80dac7eeb5e64b19cff778c935914ae7c70d1f19acc245d3a060c2bfa3267637bba777c041789dcdc8a7429efa38261048ab511b681543a0bc6c8269b2766b1222244e202d8d5f2564b71ccd01a8ff6ce03b70c0c32317006168f705d8ac7f76c2ae71a884f194fe7a342b19f79298eacc546ba635d17df7741c758f453be4d70e40ac92348552c429200d0bff5bae5f42ecb72771fdcaa142bd2ced5086c710bc5770a58b459458fbe833a43b75786603feffad524fd1bda741cbee1955c4145cbccb8d0c41dc09dbd62cc276523dea5b04758d8597705dd01729e5b0b3351a523e909941f3a27360a6fd196151591ff70fe39c073b761d7750050bd7abf72c99020086d6ca33a0366b89c85ec1ad92690d0acc5d6041fefdfbef929fc238b846d35fb45013fe03c1146d1259a993c6480fe517c27727a644f9c77bbd8ef41d378406cbc787819e38069c2da96331bf14e5cc6810520d57e64628efae31d79828b669f7477978fefa6c078df66d1b426487a0a22291340e615e92a1058de5ba6acda90eb47534c318ad3c944e50b20ab461dafaca34253f76670fe744643968837065a9cd4c2bb7b3e3b15a04c82ce2451e2e161b5acd31303f41a98563eb457adc0d600bab3743cc842e5bf37d2396ff66133687be798ca15eb291380c76b6a3b8855ce364e5d38e5d1418d28f28fe277b36c8af6834c4dcfe6f8095dc6226d715d63cef15e655fd21c14cd6a5c4fedb3a8869ffc04d35d0d3d19cd41b83134aad01e5c0e57f67533e18af71f30433dad573157895342dc90cf93c9193f1e15367e05e5fdd09a352935175f394b506f0f0462ea6f38a933e8d369be02949de76accf45bef087e51f79753ff745e30cf17f541b3c67c02010ca0698ab2e25574fbb582d50bbf1607e7bc809b6a47f093b65ed2ced5fa7df209e9d0bad713b577dc9ec22d529000b49e85e7882845ea2cb07b935b265311c747ff22ff7ef55a77f580d183fd463eeae352e2b37031df2441415fe769bb282830294608bce41a72255c824ec77aa52bd202ccf66b63554f27d1884b790bd9537348ae26bade699a26380a053a8624dcffd50af2ec7eb2b1176448636873a5fcf8f2a4fef421b0554cffa85387cfacd3a45180f539490f0f21ed20fcebc6c1b9dbd08c56804b334581bb3a0f486aefb8aca4eeccc645204df14c7d26b20a808e8ed6ffa41eac88368bd898a1e98deefa9b252a63d35c88c648a13697f4640556b107bb693577659154398473a7560fa2a83bf5e366be8df3509c7ffc786f938f84ec72badc3a18b3a6d1a536826b85887a474d184785f692bfcf08317e019d65a0dab93080ec863d9ac7997424bf85d252d9ce7781e759d1c7e998299eb7694b0ecbd8e66d0432c30ebe08b6e14dbbc8d9737e565d16cdcdd87f8c6b024f27f89a1581473904407ea3869be690f0fa8e5d6d0b05bd9b783aecba2af3520b70b842f1d0d1f5172c860fb4972ded14921b67485082bb5f999adc624ca49ffc250087137b9f6d67bfd78f45266be650040b84fcd16c22ad3d3bad23369682f45932192148f601d74189031f24edbc7a1583580b4907668e02ef5c80372b365fd7aa44ed726e19edea3e693d1c3dfdeeb604167b4808623a12a42d294bb5ebbfe1ef1d725c04c4d49fbee5b0082f12b1c0776b96a4cbc8d2cbcfe68f20e59a116300cc45c170bb13a06282fbe90403763949dd76edb7502aecf4132c9816594f0d2eec910e9934cdb4db59cff79f89482453c2ec70baa8a99e2adf8f590f75e5b2aaddf80f8caacf7f6e7d1f19e213e40a635c1a7ef04dcb62adc5aa3f618107f6c407cd22cca526a316fe0fe964fd7468c90455add4c7329b8dbcd17552c52de5d3542d0f7e6d5a4775dc5574df9eb9c5b554cdf8c4e1f6ee160e37303f3fb6d0f9503274390aadb3b0299ec2f8f0a5968c1c178d6fab702a7e1d6c007367b49e03f02c193987d0e71cf217a78011fc04615be01dc5c3175d1b13927d1ffeadd0af0a54d0c16e8073887b75c2941579db568be1f173206a29be0b18ac78a0d3cbe3229cb40362a3c5667e34bc5b9c8d69313a886737945d407782a64d2d68393660f5cab692969f20bb038d0583ffdad9e8c286158c278a7c0eb890fdd9f311737d36650cb8b19a901509c9e7cf3d76fece9e8976961722d46cec83393b8497373513aaa54747d8717c9fd1f6df04d1f4011ae089f1ef7bf9a3af3cec5944c857f2e16a21f21f9c1ab3827ed374abe0f982d4adcdd1e154fff083a8f8b1a56a7dc34d0cdfc48abf99a228cde9270a06ebe3f4fc12637654b2ff7a1feffa7277ca70f20597abd97d884cf4df758f2bab5065b03d4a2f2e8ebdd9649173c5a99cdcfac5d306fa6c2ec316b7e8414c25cc835c76dc7fc93d28fb896b2cebdcf60211f2e46f99ec5804d4817f8534037942e6544fa0e737083edb20328900e2748955c67baf5df4c7f98d1f6eba02f4580b404211330ecac3cc953cfd164e9821431cc6793664dacaea447cbcddca24ec1dbf4cba58cd4afa739b393bcd6050d3ea78e9cf6a8a96e5a02f082d445cca818992371b25ed53f4d62da6f2e6aecb024b209b467990389702915ec28e26e3b4f54679387b8edb0b3dfa5a591232b6ffc538152b6dbf7166dc4aa8224bfa2a1377a445403e4787a6df206dee6748b661c9672c34bb8ada1fac99361e27e82f10f7c014383e81ed0373ae2a0234810b6ba2b9a8e90933af24eb0a515f653434e42317cdc26c6c7d3edfffb28a42fab7b404eb7b111539fb6c131e6dabb2387f08b39f33dcaa3e9b86e118b33e89eaba3e2b61c531d14a3bc60236f6a9a51b965d5c60a0c8968d496f3967a518d9bd7bdf8a96ea00bf9a5bbd9c12a87512d1c392fc5cef58f6af0d8f8c0e880fde0b2d14247bc667fdcd8970521eeff4c8ad91821b75e00e86722b4def215085e2390036a8d762ee498f6f101f6c678aec9487270499cd31d783a5f988900aae40d3625d90a22b25346c1246f74c300778c617747ae1c786a9b8bc220f33fdb3f50f7ef552ecdf61c1d6ea3a1a0dcee5c94882cd327a858877aa2f905fc6fc87c908d1063f9a4f895eb5fb49a3d4ee354272350c63c1fdf431e688eee3d6d53733c05c8ddc662c34f4e43741466ca6f52ff96d2320a4985e7f63d264cbf059ff84e1ed5498f27d259a1e1ecd7df2b2d5ef416049bc25ff20837b54859d53524138a707773cebce695a9ae234c23503f7b023af37470e7aab52d97f9d2ee98c40b15ed66ed916ff013df201da55fefc9d3eef4463d1cf36d23eb1ca6f27d1a504e1d395148e1ef3ed042c0a1d1313136092e3ab9d31a46beffa91584f539967d114c9a5202b2efad19ed6e032deb6f9735aeec3eba25574f3382e2b9d160282d8d8909ce42ac060f72a3c7d302391056c2d758ffbccefc338b4c4fe4ed0c2cfe8cf3caf115e0685623370c2f2d1f05ad6e05391434f5df4c6e5374abd7a894b525db3f7c17263016b3c427c5d272b7b24224a697d52bbd95e8593600f933ca2f6bb15f0d29525ec84c9d35b250269e33e073a90e877e8eab58d842e4127de879152e2be08942d36b6e53029385a9c6dd2d8461e7e86346cdb51a546d5e2f4410b4ebb3ea6e2ceb51af35c4df420038b4b08ed8289bdd734ef6c2d4ff01c313e9878041d083a63eee5dfb44ca45c606666c30db000e342ccbca445eb8ddb8cd8f2feecc6bc8aea6b6e915d7f4aa15787216421c016004bd35b1e6e01ee172cb8f90607504a1e53928fd265d01cf8f42baf3e74a9bd6059a1596730c6052e11a097324ec2963dd369754607fa5290848e61920f5d38174f0eb157d061308a9e1466c95d6ab778ac261a4df7d77a0fd1dbd7ff4e21689465f16dae569bfc27163f73b69316df407265da38e96fb004858d426b07f795e9d61255fb47def46b6d432c7e5e8bd9db8f2bd1505c015818ae83d55618507b54562825b18c5e2b6cdb01147edff737cc8c6642db91105666e30039ae2c0eb19b776bec3579002ac60daac03ff841f4c2b21fe30683a11201194af0b4b4e7be8a446baa1ed202e8f7bf07e0265553d16f8eb7a5597770a6858936e3d92d0d3d9dc9f97e59832f82b772e8d4c5037e84bb898aae470ecdcf4b0406cc526c28eeba3e5c98b71fec2de73a72e056369035d2f161fe22eb72be0e95b776fb29693903fcd8e38737b5081a1af3d4a034f663a518cfa35ffe858822631a8e778877a98c5c5e5d6eb5e175c74ccdfa9b879ac4c78f937933e76d9d37d73ff986c9adf10c2d0aefbd05a7caef447e94c75fc1a0743df0701d216693dd126694c05849ec6b21f06e41860635a7d49302aa00d7680bf85dd4f54c64856280e55c5821af961ea31e0e594ddbb47192acbf1da14b737ed69c3d198d08068831f626e840fddbacf536db7317a816e6cbbc6da7be161a9e83d1d26aef098976773d9f96ba393ab2bae65f0ca6ddcaf537a09d3633f1d2c2c4fadf71fc5aed703844a5740b122702a1f2fe58e4ed8237ba579b7dba9c2e9d31376127cab50119a99b1787cb5b4dd1f53cf867cb37b3390788414d486db365617542fdbbb2041f84638bb3ff32a346a7d68e28c2cbcfbcd39ebac29504e3dd45dfb7ae6d0dd7c515f05604e09c31a3503a30986c8c47ce964a54063733976ee4e73a745b3766b407945cc6aa6627bd9a27f34e35a21937f3ac531905afded0052045dcbff588a4a32272357e907dc1be124901934274f6a3b2ba89a4d4dc0337a8aa657f51a9fb14c06ee3deec5d83fe5502f3ab15c2fc838b3a98279302719fa5eb6d1ec1caaa74207dcc3ff02bc6d34a6ef35f57fe1f3c3e5e77cbafb8b56319346e6103201bdd257b4c467a18ed5bff4322a8abcf9ec64d0c15f9a62935496f7f427a4982d30eee7f8ee289089f969e360b1d6af0732ba4e3dada8c4040f152ff014a54b94ca1b7f6f665b4e8306495d749e2b6fffc4cf6fc2b792e3d716ef459fb69c37d1886d338998ae8b07c760aecd7c7d4f1a42344de037e3b83b369160da8567575470005aa92ac83476c8b91200fdde4a7a81e16b3c1d61fc68ea9a54aeed836e56613752ae60909eb35312a0bf847702fa49d6f3b9da4436153265456ba8b0cdde862a0844a45c75340362ecd6c94c0bcbb5b88c865880bf3bf53fd0acb507e6e5a8870b4392ae82b5a1a2c6899e51776cfe29e3eb58df2a3707a60d4d6efe23956d8fa7d3e8721bf426c85ecd0aa7e78346e6d780854435f6682660ace33f51e2dca805047045c79df56ff170543c1b507129d25592692a181310d4305f36d426d996731c4d22244cdcabbfb9c0779f6f9ca99c01360a61ff0c4007210afc5974e34a65297e24bd6ab7f45b242b7183dc1df4ebab5162f59978ba15e06c2c14f8b209cf7f868abb6bb49fdc2772a05b14ee32e3bebdb18000e62bd7b764a78948b6cb168bec1fa913ac187f5ad51ef3895c5</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">您好, 文件正在施工中，暂时无法进入！</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">🥧本文汇总从网上整理的常用算法模板</summary>
    
    
    
    <category term="算法" scheme="https://yanhool.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
    <category term="算法" scheme="https://yanhool.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>c++高级笔记</title>
    <link href="https://yanhool.github.io/posts/20230303d.html"/>
    <id>https://yanhool.github.io/posts/20230303d.html</id>
    <published>2023-03-03T10:19:03.000Z</published>
    <updated>2023-03-25T06:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>对象优化</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Test</span><span class="params">(<span class="type">int</span> a = <span class="number">10</span>)</span></span></span><br><span class="line"><span class="function">        :_ma(a)&#123;</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Test(int)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Test</span>(<span class="type">const</span> Test&amp; t)</span><br><span class="line">        :_ma(t._ma)&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Test(const Test&amp;)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Test</span>()&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;~Test()&quot;</span> &lt;&lt;  std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    Test&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Test &amp;t)&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;operator=()&quot;</span> &lt;&lt;  std::endl;</span><br><span class="line">        _ma = t._ma;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> _ma;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Test t1;</span><br><span class="line">    <span class="function">Test <span class="title">t2</span><span class="params">(t1)</span></span>;</span><br><span class="line">    Test t3 = t1;</span><br><span class="line">    <span class="comment">// Test(20)显示生成划临时对象 生存周期：所在的语句</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">       C++编译器对于对象构造的优化：</span></span><br><span class="line"><span class="comment">       用引临时对象生成新对象的时候，</span></span><br><span class="line"><span class="comment">       临时对象就不产生了，直接构造新对象就可以了</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    Test t4  = <span class="built_in">Test</span>(<span class="number">20</span>);<span class="comment">// 等价于 Test t4(20);</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;-------------&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    t4 = t2;</span><br><span class="line">    <span class="comment">// 显示生成临时对象</span></span><br><span class="line">    t4 = <span class="built_in">Test</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 隐式生成临时对象</span></span><br><span class="line">    t4 = (Test)<span class="number">30</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;-------------&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">// Test *t5 = &amp;Test(300);  &amp;Test(300)在这条语句结束后被析构， t5成了野指针</span></span><br><span class="line">    <span class="type">const</span> Test  &amp;t6 = <span class="built_in">Test</span>(<span class="number">60</span>);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;-------------&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Test(int)</span></span><br><span class="line"><span class="comment">Test(const Test&amp;)</span></span><br><span class="line"><span class="comment">Test(const Test&amp;)</span></span><br><span class="line"><span class="comment">Test(int)</span></span><br><span class="line"><span class="comment">-------------</span></span><br><span class="line"><span class="comment">operator=()</span></span><br><span class="line"><span class="comment">Test(int)</span></span><br><span class="line"><span class="comment">operator=()</span></span><br><span class="line"><span class="comment">~Test()</span></span><br><span class="line"><span class="comment">Test(int)</span></span><br><span class="line"><span class="comment">operator=()</span></span><br><span class="line"><span class="comment">~Test()</span></span><br><span class="line"><span class="comment">-------------</span></span><br><span class="line"><span class="comment">Test(int)</span></span><br><span class="line"><span class="comment">-------------</span></span><br><span class="line"><span class="comment">~Test()</span></span><br><span class="line"><span class="comment">~Test()</span></span><br><span class="line"><span class="comment">~Test()</span></span><br><span class="line"><span class="comment">~Test()</span></span><br><span class="line"><span class="comment">~Test()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Process finished with exit code 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Test</span><span class="params">(<span class="type">int</span> a = <span class="number">10</span>, <span class="type">int</span> b = <span class="number">10</span>)</span></span></span><br><span class="line"><span class="function">        :_ma(a),_mb(b)&#123;</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Test(int, int)&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; _mb &lt;&lt;<span class="string">&quot;)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Test</span>(<span class="type">const</span> Test&amp; t)</span><br><span class="line">        :_ma(t._ma),_mb(t._mb)&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Test(const Test&amp;)&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span>&lt;&lt; _mb  &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Test</span>()&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;~Test()&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; _mb &lt;&lt; <span class="string">&quot;)&quot;</span>  &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    Test&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Test &amp;t)&#123;</span><br><span class="line"></span><br><span class="line">        _ma = t._ma;</span><br><span class="line">        _mb = t._mb;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;operator=()&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; _mb &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> _ma;</span><br><span class="line">    <span class="type">int</span> _mb;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Test <span class="title">t1</span><span class="params">(<span class="number">10</span>,<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Test <span class="title">t2</span><span class="params">(<span class="number">20</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line">    Test t3 = t2;</span><br><span class="line">    <span class="type">static</span> Test t4 = <span class="built_in">Test</span>(<span class="number">30</span>,<span class="number">30</span>);</span><br><span class="line">    t2=<span class="built_in">Test</span>(<span class="number">40</span>,<span class="number">40</span>);</span><br><span class="line">    t2=(Test)(<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">    <span class="comment">//t2 = 60;</span></span><br><span class="line">    Test *p1 = <span class="keyword">new</span> <span class="built_in">Test</span>(<span class="number">70</span>,<span class="number">70</span>);</span><br><span class="line">    Test *p2=<span class="keyword">new</span> Test[<span class="number">2</span>];</span><br><span class="line">    <span class="comment">//Test*p3= &amp;Test(80,80);</span></span><br><span class="line">    <span class="type">const</span> Test &amp;p4 = <span class="built_in">Test</span>(<span class="number">90</span>,<span class="number">90</span>);</span><br><span class="line">    <span class="keyword">delete</span> p1;</span><br><span class="line">    <span class="keyword">delete</span>[]p2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Test <span class="title">t5</span><span class="params">(<span class="number">100</span>,<span class="number">100</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">Test(int, int)(100,100)</span></span><br><span class="line"><span class="comment">Test(int, int)(20,20)</span></span><br><span class="line"><span class="comment">Test(const Test&amp;)(20,20)</span></span><br><span class="line"><span class="comment">Test(int, int)(30,30)</span></span><br><span class="line"><span class="comment">Test(int, int)(40,40)</span></span><br><span class="line"><span class="comment">operator=()(40,40)</span></span><br><span class="line"><span class="comment">~Test()(40,40)</span></span><br><span class="line"><span class="comment">Test(int, int)(50,10)</span></span><br><span class="line"><span class="comment">operator=()(50,10)</span></span><br><span class="line"><span class="comment">~Test()(50,10)</span></span><br><span class="line"><span class="comment">Test(int, int)(70,70)</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">Test(int, int)(90,90)</span></span><br><span class="line"><span class="comment">~Test()(70,70)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">~Test()(90,90)</span></span><br><span class="line"><span class="comment">~Test()(20,20)</span></span><br><span class="line"><span class="comment">~Test()(50,10)</span></span><br><span class="line"><span class="comment">~Test()(30,30)</span></span><br><span class="line"><span class="comment">~Test()(100,100)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Test</span><span class="params">(<span class="type">int</span> a = <span class="number">10</span>, <span class="type">int</span> b = <span class="number">10</span>)</span></span></span><br><span class="line"><span class="function">        :_ma(a),_mb(b)&#123;</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Test(int, int)&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; _mb &lt;&lt;<span class="string">&quot;)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Test</span>(<span class="type">const</span> Test&amp; t)</span><br><span class="line">        :_ma(t._ma),_mb(t._mb)&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Test(const Test&amp;)&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span>&lt;&lt; _mb  &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Test</span>()&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;~Test()&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; _mb &lt;&lt; <span class="string">&quot;)&quot;</span>  &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    Test&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Test &amp;t)&#123;</span><br><span class="line"></span><br><span class="line">        _ma = t._ma;</span><br><span class="line">        _mb = t._mb;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;operator=()&quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; _ma &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; _mb &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getData</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _ma;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> _ma;</span><br><span class="line">    <span class="type">int</span> _mb;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Test <span class="title">getObject</span><span class="params">(Test t)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> value = t.<span class="built_in">getData</span>();</span><br><span class="line">    <span class="function">Test <span class="title">tmp</span><span class="params">(value)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//指向成员方法的指针</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Test t1;</span><br><span class="line">    Test t2 = <span class="built_in">getObject</span>(t1);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;------------&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    Test t3 = <span class="built_in">getObject</span>(<span class="built_in">Test</span>(<span class="number">10</span>,<span class="number">10</span>));</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;------------&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    t2 = <span class="built_in">getObject</span>(t1);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;------------&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">Test(const Test&amp;)(10,10)</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">------------</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">------------</span></span><br><span class="line"><span class="comment">Test(const Test&amp;)(10,10)</span></span><br><span class="line"><span class="comment">Test(int, int)(10,10)</span></span><br><span class="line"><span class="comment">operator=()(10,10)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">------------</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment">~Test()(10,10)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Process finished with exit code 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>综上所述，优化对象需要：</p><p>1.函数参数传递过程中，对象优先按引用传递，不要按值传递</p><p>2.函数返回对象的时候，应该优先返回一个临时对象，而不要返回一个定义过的对象</p><p>3.接收返回值是对象的函数调用的时候，优先按初始化的方式接收，不要按赋值的方式接收</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> &amp;&amp;a = <span class="number">20</span>;    <span class="comment">// 右值引用 没名字（临时量） || 没内存  一个右值引用变量本质是左值</span></span><br><span class="line"><span class="type">int</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> &amp;c = b;    <span class="comment">// 左值引用 有名字 有内存</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> &amp;d = <span class="number">20</span>; <span class="comment">// 等价于 int &amp;&amp;d = 20;</span></span><br><span class="line"></span><br><span class="line">std::<span class="built_in">move</span>() <span class="comment">//将左值强制转换成右值引用</span></span><br><span class="line">std::forward() <span class="comment">// 类型的完美转发</span></span><br></pre></td></tr></table></figure><h1>智能指针</h1><p>不带引用计数的智能指针 推荐使用 unique_ptr</p><p>带引用计数的智能指针 shared_ptr、weak_ptr</p><p>当允许多个智能指针指向同一个资源的时候，<strong>每一个智能指针都会给资源的引用计数加1，当一个智能指针析构时，同样会使资源的引用计数减1，这样最后一个智能指针把资源的引用计数从1减到0时，就说明该资源可以释放了</strong>，由最后一个智能指针的析构函数来处理资源的释放问题，这就是引用计数的概念。</p><p>shared_ptr 强智能指针：可改变资源的用计数</p><p>weak_ptr 弱智能指针：不可以改变资源的用计数</p><p>强智能指针循环引用（交叉引用）是什么问题？什么结果？怎么解决？</p><p>造成new出来的资源无法释放！！！资源泄露问题！</p><p>定义对象的时候，用强智能指针；引用对象的地方，使用弱智能指针</p><p>[]: <a href="https://blog.csdn.net/QIANGWEIYUAN/article/details/88562935?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167738669816782425678728%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;amp;request_id=167738669816782425678728&amp;amp;biz_id=0&amp;amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-5-88562935-null-null.142%5Ev73%5Econtrol,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&amp;amp;utm_term=%E5%A4%A7%E7%A7%A6%E5%9D%91%E7%8E%8B&amp;amp;spm=1018.2226.3001.4187">https://blog.csdn.net/QIANGWEIYUAN/article/details/88562935?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167738669816782425678728%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;amp;request_id=167738669816782425678728&amp;amp;biz_id=0&amp;amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-5-88562935-null-null.142^v73^control,201^v4^add_ask,239^v2^insert_chatgpt&amp;amp;utm_term=大秦坑王&amp;amp;spm=1018.2226.3001.4187</a>“智能指针讲解”</p><h1>绑定器和function函数对象机制</h1><p>绑定器和函数对象operator()</p><p>1.C++ST工中的绑定器</p><p>bindlst:operator()的第一个形参变量绑定成一个确定的值</p><p>bind2nd:operator()的第二个形参变量绑定成一个确定的值</p><p>绑定器+二元函数对象=》一元函数对象</p><hr><p>2.bind和function机制</p><p>绑定器，函数对象，lambda表达式它们只能使用在一条语句中</p><p>函数指针类型：void(*)() 这个表示返回的是指针类型返回值是void，不带形参的函数</p><p>函数类型：void()</p><p>1.用函数类型实例化function</p><p>2.通过function调用operator()函数的时候</p><p>需要根据函数类型传入相应的参数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test1</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">hello</span><span class="params">(std::string str)</span></span>&#123;</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">hello1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;hello1()&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">hello2</span><span class="params">(std::string str)</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;hello2():&quot;</span>&lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; a + b &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::function&lt;<span class="type">void</span>()&gt; func1 = hello1;</span><br><span class="line">    <span class="built_in">func1</span>(); <span class="comment">// func1.operator() =&gt; hello1();</span></span><br><span class="line">    std::function&lt;<span class="type">void</span>(std::string)&gt; func2 = hello2;</span><br><span class="line">    <span class="built_in">func2</span>(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">    std::function&lt;<span class="type">int</span>(<span class="type">int</span>,<span class="type">int</span>)&gt; func3 = add;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">func3</span>(<span class="number">2</span>, <span class="number">5</span>) &lt;&lt; std::endl;</span><br><span class="line">    std::function&lt;<span class="type">int</span>(<span class="type">int</span>,<span class="type">int</span>)&gt; func4 = [](<span class="type">int</span> a, <span class="type">int</span> b)-&gt;<span class="type">int</span>&#123;<span class="keyword">return</span> a + b;&#125;;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">func4</span>(<span class="number">10</span>, <span class="number">5</span>) &lt;&lt; std::endl;</span><br><span class="line">    std::function&lt;<span class="type">void</span>(Test1*, std::string)&gt; func5 = &amp;Test1::hello;</span><br><span class="line">    Test1 t;</span><br><span class="line">    <span class="built_in">func5</span>(&amp;t, <span class="string">&quot;call Test::hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doShowBooks</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;doShowBooks&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doBorrow</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;doBorrow&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doBack</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;doBack&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doQueryBooks</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;doQueryBooks&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doLoginOut</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;doLoginOut&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> choice = <span class="number">0</span>;</span><br><span class="line">    std::map&lt;<span class="type">int</span>, std::function&lt;<span class="type">void</span>()&gt;&gt; m;</span><br><span class="line">    m.<span class="built_in">insert</span>(&#123;<span class="number">1</span>, doShowBooks&#125;);</span><br><span class="line">    m.<span class="built_in">insert</span>(&#123;<span class="number">2</span>, doBorrow&#125;);</span><br><span class="line">    m.<span class="built_in">insert</span>(&#123;<span class="number">3</span>, doBack&#125;);</span><br><span class="line">    m.<span class="built_in">insert</span>(&#123;<span class="number">4</span>, doQueryBooks&#125;);</span><br><span class="line">    m.<span class="built_in">insert</span>(&#123;<span class="number">5</span>, doLoginOut&#125;);</span><br><span class="line">    <span class="keyword">for</span> (;;)&#123;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;-------------------&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;1.查看所有书籍信息&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;2.借书&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;3.还书&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;4.查询书籍&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;5.注销&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;-------------------&quot;</span>&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line">        std::cin &gt;&gt; choice;</span><br><span class="line">        <span class="keyword">auto</span> it = m.<span class="built_in">find</span>(choice);</span><br><span class="line">        <span class="keyword">if</span>(it == m.<span class="built_in">end</span>())&#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;输入数字无效&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            it-&gt;<span class="built_in">second</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>模板的完全特例和非完全（部分）特例化</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下面这个是对指针类型提供的部分特例化版本</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Ty&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span>&lt;Ty*&gt;</span><br></pre></td></tr></table></figure><p><strong>function函数对象的是实现原理</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Ty&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myfunc</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> R, <span class="keyword">typename</span> A1&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myfunc</span>&lt;<span class="built_in">R</span>(A1)&gt;&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> PFUNC = <span class="built_in">R</span>(*)(A1);</span><br><span class="line">    <span class="built_in">myfunc</span>(PFUNC p)</span><br><span class="line">        :_func(p)&#123;&#125;</span><br><span class="line">    <span class="function">R <span class="title">operator</span><span class="params">()</span><span class="params">(A1 arg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _func(arg);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    PFUNC _func;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> R, <span class="keyword">typename</span> A1&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myfunc</span>&lt;<span class="built_in">R</span>(A1, A1)&gt;&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> PFUNC = <span class="built_in">R</span>(*)(A1, A1);</span><br><span class="line">    <span class="built_in">myfunc</span>(PFUNC p)</span><br><span class="line">        :_func(p)&#123;&#125;</span><br><span class="line">    <span class="function">R <span class="title">operator</span><span class="params">()</span><span class="params">(A1 arg1, A1 arg2)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _func(arg1, arg2);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    PFUNC _func;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">hello</span><span class="params">(std::string str)</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">myfunc&lt;<span class="title">void</span><span class="params">(std::string)</span>&gt; <span class="title">f1</span><span class="params">(hello)</span></span>;</span><br><span class="line">    <span class="built_in">f1</span>(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">    <span class="function">myfunc&lt;<span class="title">int</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span>&gt; <span class="title">f2</span><span class="params">(add)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">f2</span>(<span class="number">20</span>, <span class="number">30</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>进化版</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Ty&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myfunc</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> R, <span class="keyword">typename</span>... A&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myfunc</span>&lt;<span class="built_in">R</span>(A...)&gt;&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> PFUNC = <span class="built_in">R</span>(*)(A...);</span><br><span class="line">    <span class="built_in">myfunc</span>(PFUNC p)</span><br><span class="line">        :_func(p)&#123;&#125;</span><br><span class="line">    <span class="function">R <span class="title">operator</span><span class="params">()</span><span class="params">(A... args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _func(args...);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    PFUNC _func;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">hello</span><span class="params">(std::string str)</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">myfunc&lt;<span class="title">void</span><span class="params">(std::string)</span>&gt; <span class="title">f1</span><span class="params">(hello)</span></span>;</span><br><span class="line">    <span class="built_in">f1</span>(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">    <span class="function">myfunc&lt;<span class="title">int</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span>&gt; <span class="title">f2</span><span class="params">(add)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">f2</span>(<span class="number">20</span>, <span class="number">30</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>bind和function实现线程池</p><p>c++11bind绑定器=&gt;返回的结果还是一个函数对象</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="type">void</span> <span class="title">hello</span><span class="params">(std::string str)</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test1</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//bind是函数模板可以自动推演模板类型参数</span></span><br><span class="line">    std::<span class="built_in">bind</span>(hello,<span class="string">&quot;hello bind!&quot;</span>)();</span><br><span class="line">    std::cout&lt;&lt;std::<span class="built_in">bind</span>(add,<span class="number">10</span>,<span class="number">20</span>)()&lt;&lt;std::endl;</span><br><span class="line">    Test1 t1;</span><br><span class="line">    std::cout&lt;&lt;std::<span class="built_in">bind</span>(&amp;Test1::sum,t1,<span class="number">10</span>,<span class="number">20</span>)()&lt;&lt;std::endl; <span class="comment">// 类的成员方法一定要取地址，全局函数可取可不取</span></span><br><span class="line">    <span class="comment">//参数占位符</span></span><br><span class="line">    <span class="built_in">bind</span>(hello,std::placeholders::_1)(<span class="string">&quot;hello bind 2!&quot;</span>);</span><br><span class="line">    std::cout&lt;&lt;<span class="built_in">bind</span>(add,std::placeholders::_1, std::placeholders::_2)(<span class="number">200</span>,<span class="number">300</span>)&lt;&lt;std::endl;</span><br><span class="line">    </span><br><span class="line">    std::function&lt;<span class="type">void</span>(std::string)&gt; func1 = <span class="built_in">bind</span>(hello, std::placeholders::_1);</span><br><span class="line">    <span class="built_in">func1</span>(<span class="string">&quot;hello function bind1.&quot;</span>);</span><br><span class="line">    <span class="built_in">func1</span>(<span class="string">&quot;hello function bind2.&quot;</span>);</span><br><span class="line">    <span class="built_in">func1</span>(<span class="string">&quot;hello function bind3.&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Thread</span>(std::function&lt;<span class="built_in">void</span>()&gt; func)</span><br><span class="line">        :_func(func)&#123;&#125;</span><br><span class="line">    <span class="function">std::thread <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="function">std::thread <span class="title">t1</span><span class="params">(_func)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> t1;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">        std::function&lt;<span class="type">void</span>()&gt; _func;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThreadPool</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ThreadPool</span>()&#123;&#125;</span><br><span class="line">    ~<span class="built_in">ThreadPool</span>()&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; _pool.<span class="built_in">size</span>(); ++i)&#123;</span><br><span class="line">            <span class="keyword">delete</span> _pool[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">startPool</span><span class="params">(<span class="type">int</span> size)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i)&#123;</span><br><span class="line">            _pool.<span class="built_in">push_back</span>(<span class="keyword">new</span> <span class="built_in">Thread</span>(</span><br><span class="line">                std::<span class="built_in">bind</span>(&amp;ThreadPool::runInThread, <span class="keyword">this</span>, i)</span><br><span class="line">                ));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i)&#123;</span><br><span class="line">            _handler.<span class="built_in">push_back</span>(_pool[i]-&gt;<span class="built_in">start</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(std::thread &amp;t : _handler)&#123;</span><br><span class="line">            t.<span class="built_in">join</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::vector&lt;Thread*&gt; _pool;</span><br><span class="line">    std::vector&lt;std::thread&gt; _handler;</span><br><span class="line">    <span class="comment">// 用runInThread成员方法充当线程函数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">runInThread</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;call runInThread! id:&quot;</span> &lt;&lt; id &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    ThreadPool pool;</span><br><span class="line">    pool.<span class="built_in">startPool</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>3.lambda表达式</p><p>lambda:表达式的语法：</p><p>[捕获外部变量]（形参列表）-&gt;返回值{操作代码}；</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> func1 =[]()-&gt;<span class="type">void</span> &#123;std::cout &lt;&lt;<span class="string">&quot;hello world!&quot;</span>&lt;&lt;std::endl;&#125;;</span><br><span class="line">    <span class="built_in">func1</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[捕获外部变量]</span><br><span class="line"></span><br><span class="line">[]：表示不捕获任何外部变量</span><br><span class="line"></span><br><span class="line">[=]：以传值的方式捕获外部的所有变量</span><br><span class="line"></span><br><span class="line">[&amp;]：以传引用的方式捕获外部的所有变量</span><br><span class="line"></span><br><span class="line">[<span class="keyword">this</span>]: 捕获外部的<span class="keyword">this</span>指针</span><br><span class="line"></span><br><span class="line">[=,&amp;a]：以传值的方式捕获外部的所有变量，但是a变量以传引用的方式捕获</span><br><span class="line"></span><br><span class="line">[a,b]: 以值传递的方式捕获外部变量a和b</span><br><span class="line">[a,&amp;b]: a以值传递捕获，b以传引用的方式捕获</span><br></pre></td></tr></table></figure><h1>总结</h1><p>一、关键字和语法</p><p>auto：可以根据右值推导出右值的类型，然后左边变量的类型也就已知了</p><p>nullptr：给指针专用（能够和整数进行区别）#define NULL 0</p><p>foreach遍历 =》 底层就是通过指针或者迭代器来实现的</p><p>右值引用：move移动语义函数和forward类型完美转发函数</p><p>模板的一个新特性：typename.·,A表示可变参(类型参数)</p><p>二、绑定器和函数对象</p><p>function:函数对象</p><p>bind:绑定器     bind1st和bind2nd+二元函数对象=》一元函数对象</p><p>lambda表达式</p><p>三、智能指针</p><p>shared_ptr和weak_ptr</p><p>四、容器</p><p>set和map:红黑树O(lgn)</p><p>unordered seti和unordered map:哈希表O(1)</p><p>五、C++语言级别支持的多线程编程 =》 代码可以跨平台</p><p>createThread</p><p>pthread create</p><p>clone</p><p>thread/mutex/condition_variable</p><p>lock_quard/unique_lock</p><p>atomic原子类型基于CAS操作的原子类型线程安全的</p><p>sleep_for</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">handlerA</span><span class="params">(<span class="type">int</span> time)</span></span>&#123;</span><br><span class="line">    <span class="comment">//让子线程睡眠 time s</span></span><br><span class="line">    std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">seconds</span>(time));</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;hello threadA&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建了一个线程对象传入一个线程函数,新线程就开始运行了</span></span><br><span class="line">    <span class="function">std::thread <span class="title">t1</span><span class="params">(handlerA,<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="comment">//主线程等待子线程结束,主线程继续往下运行</span></span><br><span class="line">    t1.<span class="built_in">join</span>(); <span class="comment">// t1.detach(); 将子线程设置为分离线程</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;main thread done&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>线程内容：</p><p>一、怎么创建启动一个线程</p><p>std::thread定义一个线程对象，传入线程所需要的线程函数和参数，线程自动开启</p><p>二、子线程如何结束</p><p>子线程函数运行完成，线程就结束了</p><p>三、主线程如何处理子线程</p><p>t.join()：等待t线程结束，当前线程继续往下运行</p><p>t.detach()：把t线程设置为分离线程，主线程结束，整个进程结束，所有子线程都自动结束</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">std::mutex mtx;</span><br><span class="line"><span class="type">int</span> tcount = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sell</span><span class="params">(<span class="type">int</span> index)</span></span>&#123;</span><br><span class="line">    <span class="comment">//让子线程睡眠 2s</span></span><br><span class="line">    <span class="keyword">while</span>(tcount &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        mtx.<span class="built_in">lock</span>();</span><br><span class="line">        <span class="keyword">if</span>(tcount &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            tcount--;</span><br><span class="line">            std::cout&lt;&lt;<span class="string">&quot;窗口&quot;</span>&lt;&lt;index&lt;&lt;<span class="string">&quot;：卖出1张票,还剩&quot;</span>&lt;&lt; tcount &lt;&lt; <span class="string">&quot;张票。&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">        &#125;</span><br><span class="line">        mtx.<span class="built_in">unlock</span>();</span><br><span class="line">        std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">100</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建了一个线程对象传入一个线程函数,新线程就开始运行了</span></span><br><span class="line">    std::list&lt;std::thread&gt; l;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; ++i)&#123;</span><br><span class="line">        l.<span class="built_in">push_back</span>(std::<span class="built_in">thread</span>(sell, i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(std::thread &amp;t : l)&#123;</span><br><span class="line">        t.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;所有窗口卖票结束&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C++多线程编程-线程间的同步通信机制</p><p>多线程编程两个问题：</p><p>1.线程间的互斥</p><p>竞态条件=》临界区代码段=》保证原子操作 互斥锁mute× 轻量级的无锁实现CAS</p><p>strace ./a.out mutex =pthread_mutex_t</p><p>2.线程间的同步通信</p><p>生产者，消费者线程模型</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">std::condition_variable cv; <span class="comment">//定义条件变量，做线程间的同步通信操作</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">put</span><span class="params">(<span class="type">int</span> val)</span></span>&#123;</span><br><span class="line">        <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lck</span><span class="params">(mtx)</span></span>;</span><br><span class="line">        <span class="keyword">while</span>(!que.<span class="built_in">empty</span>())&#123;</span><br><span class="line">            <span class="comment">// que不为空，生产者应该通知消费者去消费，消费完了，再继续生产</span></span><br><span class="line">            <span class="comment">//生产者线程应该进入阻塞状态并且把mtx互斥锁释放掉</span></span><br><span class="line"></span><br><span class="line">            cv.<span class="built_in">wait</span>(lck);</span><br><span class="line">        &#125;</span><br><span class="line">        que.<span class="built_in">push</span>(val);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * notify_all 通知所有线程</span></span><br><span class="line"><span class="comment">         * notify_one 通知另外的一个线程</span></span><br><span class="line"><span class="comment">         * 通知其它所有的线程，我生产了一个物品，你们赶紧消费吧</span></span><br><span class="line"><span class="comment">         * 其它线程得到该通知，就会从等待状态=》阻塞状态=》获取互斥锁才能继续执行</span></span><br><span class="line"><span class="comment">         * */</span></span><br><span class="line">        cv.<span class="built_in">notify_all</span>();</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;生产者 生产：&quot;</span> &lt;&lt; val &lt;&lt; <span class="string">&quot;号物品&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lck</span><span class="params">(mtx)</span></span>;</span><br><span class="line">        <span class="keyword">while</span>(que.<span class="built_in">empty</span>())&#123;</span><br><span class="line"></span><br><span class="line">            cv.<span class="built_in">wait</span>(lck);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> val = que.<span class="built_in">front</span>();</span><br><span class="line">        que.<span class="built_in">pop</span>();</span><br><span class="line">        cv.<span class="built_in">notify_all</span>();</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;消费者 消费：&quot;</span> &lt;&lt; val &lt;&lt; <span class="string">&quot;号物品&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> val;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::queue&lt;<span class="type">int</span>&gt; que;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">producer</span><span class="params">(Queue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; ++i)&#123;</span><br><span class="line">        q-&gt;<span class="built_in">put</span>(i);</span><br><span class="line">        std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">100</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">consumer</span><span class="params">(Queue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; ++i)&#123;</span><br><span class="line">        q-&gt;<span class="built_in">get</span>();</span><br><span class="line">        std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">100</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    Queue q;</span><br><span class="line">    <span class="function">std::thread <span class="title">t1</span><span class="params">(producer,&amp;q)</span></span>;</span><br><span class="line">    <span class="function">std::thread <span class="title">t2</span><span class="params">(consumer,&amp;q)</span></span>;</span><br><span class="line"></span><br><span class="line">    t1.<span class="built_in">join</span>();</span><br><span class="line">    t2.<span class="built_in">join</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>基于CAS操作的atomic原子类型</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">volatile</span> std::atomic_bool isReady = <span class="literal">false</span>; <span class="comment">// volatile防止多线程对变量进行缓存</span></span><br><span class="line"><span class="keyword">volatile</span> std::atomic_int count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">task</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (!isReady)&#123;</span><br><span class="line">        std::this_thread::<span class="built_in">yield</span>();  <span class="comment">// 线程出让当前的cPU时间片，等待下一次调度</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i)&#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::list&lt;std::thread&gt; tlist;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)&#123;</span><br><span class="line">        tlist.<span class="built_in">push_back</span>(std::<span class="built_in">thread</span>(task));</span><br><span class="line">    &#125;</span><br><span class="line">    std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">seconds</span>(<span class="number">3</span>));</span><br><span class="line">    isReady = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(std::thread &amp;t : tlist)&#123;</span><br><span class="line">        t.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; count &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>面试题</h1><h1>技术面试过程中回答问题应该注意的事项</h1><p>1.当面试官提问问题后，不要着急作答，应该适当停一下，整理一下逻辑思路</p><p>2对于简单问题的回答，尽量不要照本宣科，找准问题回答的角度/层次，争取简单问题回答的比较有亮点</p><p>3对于相对复杂的问题，比较难以阐述的问题，思考上要花一些时间，整理好逻辑思路，以及问题大致描述的顺序。如果是现场面试，最好用纸笔边画边讲：如果是电话面试，回答问题的过程中，需要和面试官经常沟通，不要自顾自的滔滔不绝。</p><p>问题：C++this指针干什么用的？</p><blockquote><p>一个类型=》很多对象=》私有成员变量，共享一套成员方法tes0=&gt;test(&amp;t)</p></blockquote><p>问题：C++的new和delete,什么时候用new[]申请，可以用delete释放？</p><blockquote><p>如果是自定义类型，而目提供了析构函数，那么用new[]就一定需要四配delete []ptr</p></blockquote><p>问题：C++的static关键字的作用（我从elf结构，链接过程来回答）？</p><blockquote><p><strong>从面相过程</strong>：static可以修饰全变量、函数、局部变量。但被修饰的全局变量和函数只能在当前文件中可见，在符号表中，符号作用域就从globa变成local。staticxiu’shi如果初始化就0或未初始化入<code>.bss</code>段，初始化不为0放入<code>.data</code>段</p><p><strong>从面相对象</strong>：static可以修饰成员变量，修饰成员方法（不再产生this指针了）</p></blockquote><p>问题：C++的继承？</p><blockquote><p>组织类和类之间的关系，常用方法由继承和组合。继承的好处：1.代码复用。2.通过继承，在基类里面给所有派生类可以保留统一的纯虚函数接口，等待派生类进行重写，通过使用多态可以通过基类的指针访问不同派生类的同名覆盖方法</p></blockquote><p>问题：C++的继承多态，空间配置器，vector和ist的区别，map,多重map?</p><blockquote><p>多态：静(编译时期)多态：函数重载和模板和动（运行时期）多态：虚函数指游针/引用指向派生类对象</p><p>空间配置器allocato:给容器使用的，主要作用把对象的内存开辟和对象构造分开，把对象析构和内存释放分开</p><p>vector和Iist的区别：数组和链表，随机访问多（优先级队列基于vector）,Iist适合增加删除多</p><p>map(不允许key重复的)：映射表[key-vue],底层实现红黑树，multimap(允许key重复的)</p><p>红黑树：5个性质，插入3种情况（最多旋转2次），删除（最多旋转3次）4种情况</p></blockquote><p>问题：C++如何防止内存泄露？智能指针详述？</p><blockquote><p>内存泄漏：分配的堆内存（没有名字，只能用指针来指向）没有释放</p><p><a href="https://blog.csdn.net/QIANGWEIYUAN/article/details/88562935?spm=1001.2014.3001.5502">https://blog.csdn.net/QIANGWEIYUAN/article/details/88562935?spm=1001.2014.3001.5502</a></p></blockquote><p>问题：C++如何调用C语言语句？</p><blockquote><p>C和C++生成符号的方式不同，C和C++语言之间的API接口是无法直接调用的，C语言的函数声明必须扩在extern “C”{}</p></blockquote><p>问题：C++什么时候会出现访问越界？</p><blockquote><p>1.访问数组元素越界了</p><p>2.vector容器访问vector<int>vec;vec[2]:</p><p>3.string str;str[2]</p><p>4.array</p><p>5.字符串处理，没有添加八0’字符，导致访问字符串的时候越界了</p><p>6.使用类型强转，让一个大类型（派生类）的指针指向一块小内存（基类对象）了，然后指针蟹引用，访问的内存就越界了！</p></blockquote><p>问题：C++中类的初始化列表？</p><blockquote><p>可以指定对象成员变量的初始化方式，尤其是指定成员对象的构造方式；</p></blockquote><p>问题：C和C++的区别？C和C++的内存分布有什么区别？</p><blockquote><p>1.引用</p><p>2.函数重载</p><p>3.new/delete malloc/free</p><p>4.cons其，nline,带默认值参数的函数</p><p>5.模板</p><p>6.类和对象OOP=》设计模式了</p><p>7.STL</p><p>8.异常</p><p>9.智能指针</p><p>10.运算符重载</p><hr><p>没什么区别</p></blockquote><p>问题：int<em>const p和const int</em>p区别？</p><blockquote><p>前者p不可以修改 *p可以修改</p><p>后者p可以修改 *p不能修改</p></blockquote><p>问题：malloci和new区别？</p><blockquote><ol><li>malloc按字节开辟内存new底层也是通过malloc开辟内存，但是还可以提供初始化</li></ol><p>2.malloc开辟内存失败nullpt女new开辟失败，抛出bad alloc类型的异常</p></blockquote><p>问题：map&amp;set容器的实现原理？</p><blockquote><p>set集合，只存储key;map映射表，存储[key,value]键值对，底层数据结构都是红黑树</p></blockquote><p>问题：shared_ptri引用计数存在哪里？</p><blockquote></blockquote><p>问题：STL、map底层、deque底层、vector里的empty0和size()的区别、函数对象？</p><blockquote><p>标准容器=》顺序容器(vector,deque,list),容器话器stack,queue,priority._queue),关联容器（有序和无序）</p><p>近容器数组，string,bitset</p><p>迭代器</p><p>泛型算法</p><p>函数对象operator()test();test.operator()():sort find_if priority-.queue set map</p></blockquote><p>问题：STL中的迭代器失效的问题？</p><blockquote><p>迭代器是不允许一边读一遍修改的</p><p>当通过迭代器插入一个元素，所有迭代器就都失效了</p><p>当通过迭代器删除一个元素，当前删除位置都后面所有的元素的迭代器就都失效了</p><p>当通过迭代器更新容器元素以后，要及时对迭代器进行更新，insert/erase方法都会返回新位置的迭代器</p></blockquote><p>问题：STL中哪些底层由红黑树实现？</p><blockquote><p>set multiset map multimap</p></blockquote><p>问题：structi和class的区别？</p><blockquote><p>1.默认的继承访问权。class默认的是private,strcut默认的是public。 2.默认访问权限：struct作为数据结构的实现体，它默认的数据访问控制是public的，而class作为对象的实现体，它默认的成员变量访问控制是private的。 3.“class”这个关键字还用于定义模板参数，就像“typename”。但关键字“struct”不用于定义模板参数</p></blockquote><p>问题：vector和list的区别，还有map的底层实现？</p><blockquote></blockquote><p>问题：vector和数组的区别，STL的容器分类，各容器底层实现？</p><blockquote></blockquote><p>问题：编译链接全过程？</p><blockquote><p>预编译、编译、汇编=》二进制可重定向0bj文件*.0</p><p>链接：1.合并段，符号解析2.符号的重定向=&gt;可执行文件</p></blockquote><p>问题：初始化全局变量和未初始化全局变量有什么区别？</p><blockquote><p>.data(初始化，且初始值不为0)  .bss(未初始化，初始化为0)</p></blockquote><p>问题：堆和栈的区别？</p><blockquote><p>堆内存的大小&gt;栈内存</p><p>堆：低地址到高地址</p><p>栈：高地址到低地址， 函数的运行，函数的局部变量都要压栈</p></blockquote><p>问题：构造函数和析构函数可不可以是虚函数，为什么？</p><blockquote><p>虚函数：基类指针指向派生类对象，调用方法时指向的是派生类方法而不是基类方法</p><p>构造函数不能，析构可以</p><p>虚函数必须把函数地址放到虚函数表里面，vfptr存放虚函数表的地址，但vfptr必须初始化对象后才能得到</p></blockquote><p>问题：构造函数和析构函数中能不能抛出异常，为什么？</p><blockquote><p>构造函数不能抛异常，对象创建失败，就不会调用对象的析构函数了</p><p>析构函数不能抛异常，后面的代码就无法得到执行了</p><p>一般把堆内存用智能指针来替代</p></blockquote><p>问题：宏和内联函数的区别？</p><blockquote><p>#define   .inline</p><p>#define 预编译阶段进行  只是做字符串替换  宏没法调试</p><p>.inline  编译阶段 在函数调用点，通过函数的实参把函数代码展开调用，节省函数调用开销</p><p>#define 可以定义常量、代码块、函数块</p><p>.inline 只是修饰函数</p></blockquote><p>问题：局部变量存在哪里？</p><blockquote><p>存放在栈上 通过ebp指针偏移来访问，不产生符号， .text指令</p></blockquote><p>问题：拷贝构造函数，为什么传引用而不传值？</p><blockquote><p>传值，实参需要拷贝构造形参，这里操作又会触发拷贝操作，从而无限套娃</p></blockquote><p>问题：内联函数和普通函数的区别（从反汇编角度来回答）？</p><blockquote><p>核心：函数的调用开销</p><p>函数调用要对实参进行压栈</p><p>push ebp</p><p>Mov ebp,esp</p><p>Sub esp,4Ch</p></blockquote><p>问题：如何实现一个不可以被继承的类？</p><blockquote><p>派生类的初始化过程：基类构造=》派生类构造</p><p>方法：基类的构造函数私有化</p></blockquote><p>问题：什么是纯虚函数：为什么要有纯虚函数：虚函数表放在哪里的？</p><blockquote><p>纯虚函数：virtual void func() = 0; 抽象类（不能实例化对象的，可以定义指针和引用）</p><p>一般定义在基类面，基类不代表任何实体，它的主要作用之一就是给所有的派生类保留统一的纯虚函数接口，让派生类进行重写，方便使用多态。</p><p>虚函数表在编译阶段产生！运行时，加载到 <code>.rodata</code>段（只读数据段）</p></blockquote><p>问题：手写单例模式</p><blockquote></blockquote><p>问题：说一下C++中的cons其，const.与static的区别？</p><blockquote><p>const定义的叫常量，它的编译方式是：编译过程中，把出现常量名字的地方，用常量的值进行替换</p><p>consti和static的区别</p><p>面向过程 const:全局变量，局部变量，形参变量    static:全局变量，局部变量</p><p>const:不能修饰函数static：可以修饰函数</p><p>面向对象：</p><p>const:常方法/成员变量  Test*this=&gt;const Test *this依赖对象</p><p>static:静态方法/成员变量Test*this=&gt;没有了！不依赖于对象通过类作用域访问</p></blockquote><p>问题：四种强制类型转换？</p><blockquote><p>const cast</p><p>static cast</p><p>reinterpret_cast:C风格的类型转换</p><p>ynamic_cast:支持RTT信息识别的类型转换</p></blockquote><p>问题：详细解释deque的底层原理</p><blockquote></blockquote><p>问题：虚函数，多态</p><blockquote><p>一个类=》虚函数=》编译阶段=》该类产生一张虚函数表=》运行时，加载到.rodata</p><p>用指针或者引用=》调用虚函数=》指针访问对象的头四个字节vfptr=》tble中取虚函数的地址，进行动态绑定调用</p><p>多态：设计函数接口的时候，可以都是用基类的指针或者引用来接收不同的派生类对象，功能增加，删除；设计模式</p></blockquote><p>问题：虚析构函数、智能指针</p><blockquote><p>Base *p = new Derive();</p><p>delete p;析构函数的调用，动态绑定</p></blockquote><p>问题：一个类，写了一个构造函数，还写了一个虚构造函数，可不可以，会发生什么？</p><blockquote><p>构造函数不可以写成虚函数</p></blockquote><p>问题：异常机制怎么回事儿？</p><blockquote></blockquote><p>问题：早绑定和晚绑定？</p><blockquote><p>早绑定(静态绑定)：普通函数的调用，用对象调用虚函数cl编译阶段已经知道调用哪个函数</p><p>晚绑定（动态绑定）：用指针/引用调用虚函数的时候，都是动态绑定p-&gt;vfptr-&gt;vftable-&gt;virtual addr=&gt;call eax(寄存器)</p></blockquote><p>问题：指针和引用的区别（反汇编分析）</p><blockquote><p>指针：可以不初始化，可以有多级指针</p><p>引用：必须初始化，只能有一级引用</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span> *p = &amp;a; <span class="comment">// lea eax,[a]mov dword ptr[ebp-8],eax</span></span><br><span class="line"><span class="type">int</span> &amp;b = a; <span class="comment">// lea eax,[a]mov dword ptr[ebp-0Ch],eax    </span></span><br><span class="line"><span class="comment">// 2、3行汇编代码一模一样，都是先把a的内存地址放到寄存器，再把寄存器的值放到底层4字节变量里面</span></span><br><span class="line"></span><br><span class="line">*p = <span class="number">20</span>;    <span class="comment">//  // mov eax, dword ptr[ebp-8]  mov dword ptr[eax],14H</span></span><br><span class="line">b = <span class="number">20</span>;    <span class="comment">// mov eax, dword ptr[ebp-0Ch]  mov dword ptr[eax],14H</span></span><br><span class="line"><span class="comment">// 这两行汇编也一样</span></span><br></pre></td></tr></table></figure><p>问题：智能指针交叉引用问题怎么解决？</p><blockquote><p>定义对象的时候用强智能指针shared_ptr，而引用对象的时候用弱智能指针weak_ptr,</p><p>当通过weak_ptri访问对象成员时，需要先调用weak_ptr的lock提升方法，把weak_ptr提升成shared _ptr强智能指针，再进行对象成员调用。</p></blockquote><p>问题：重载的底层实现，虚函数的底层实现</p><blockquote><p>重载，因为C++生成函数符号，是依赖函数名字+参数列表</p><p>编译到函数调用点时，根据函数名字和传入的实参（个数和类型），和某一个函数重载匹配的话，那么就直接调用相应的函数重载版本（静态的多态都是在编译阶段处理的！）</p></blockquote><p>问题：讲一下map的底层实现，avl和rbtree有什么区别？</p><p>问题：你常用哪些STL容器？</p><p>问题：假如map的键是类类型，那么map底层是如何调整的？</p><p>问题：内存泄漏你会怎么处理？</p><p>问题：讲讲智能指针</p><p>问题：如果让你实现一个内存池，要求获取资源和插入资源时间花费0(1)，你会怎么设计？</p><p>问题：编写一个C/C++程序你个人感觉需要注意一些什么？</p><p>问题：讲一下红黑树以及它的特性</p><p>问题：设计模式知道哪些？具体讲一下</p><p>问题：C++设计模式-工厂模式</p><p>问题：讲一下智能指针</p><p>问题：C++中vector和Iist的区别，stack和queue的底层实现，智能指针，C+11特性，迭代器失效的原因以及如何解决？</p><p>问题：输出单例模式工</p><p>问题：智能指针</p><p>问题：解释动多态？</p><p>问题：为什么析构函数要是现成虚析构函数？</p><p>问题：如果构造函数里面抛出异常会发生什么？内存泄漏？怎么解决？</p><p>1、程序的内存布局。从下往上code，rodata，data,bss,堆，栈内核空间</p><p>2、堆和栈的区别</p><p>内存中：堆内存是用户手动开辟和释放的，栈是系统自动开辟和释放的</p><p>数据结构中：堆是一个二叉树。栈是线性表先进后出</p><p>3、函数调用用参数是怎么传递的？</p><p>用汇编行为分析</p><p>4、函数调用的参数什么顺序压栈的？</p><p>从右往左压栈</p><p>5、为什么函数调用的参数要从右往左压栈？</p><p>c++要支持可变参函数,右往左压栈直接ebp+4直接访问变量a</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a, ...)</span></span>&#123;&#125;</span><br><span class="line"><span class="built_in">func</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>);</span><br></pre></td></tr></table></figure><p>6、有一个函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">fun</span><span class="params">(string s1,string s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string tmp s1+s2:</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主函数里面通过：Istring s=fun(s1,s2);调用，依照代码执行顺序分析一下调用了什么构造函数和顺序以及析构函数的调用顺序。</p><p>拷贝构造s2,s1然后拷贝构造tmp，tmp直接拷贝构造s。析构和构造顺序相反tmp、s1、s2。mian函数结束后析构s。</p><p>如果用临时对象拷贝构造新对象，那么临时对象就不产生了，直接构造新对象就行了</p><p>比如：string s1 = string(“hello world”); == string s1(“hello world”);</p><p>如果我fun函数内写成return s1+s2有什么区别？</p><p>省略了tmp的拷贝和析构</p><p>纯虚函数怎么实现</p><p>virtual void func = 0;纯虚函数一般作用于基类-》抽象类</p>]]></content>
    
    
    <summary type="html">🥧本文讲解c++知识</summary>
    
    
    
    <category term="c++" scheme="https://yanhool.github.io/categories/c/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
  </entry>
  
  <entry>
    <title>c++基础知识笔记</title>
    <link href="https://yanhool.github.io/posts/20230301d.html"/>
    <id>https://yanhool.github.io/posts/20230301d.html</id>
    <published>2023-03-01T10:19:03.000Z</published>
    <updated>2023-03-26T05:28:44.206Z</updated>
    
    <content type="html"><![CDATA[<h1>基础知识</h1><h2 id="1-虚拟地址空间的布局">1. 虚拟地址空间的布局</h2><p>程序的指令都存放在虚拟内存的代码段(<code>.text</code>)</p><p>常量字符串存放在只读数据段(<code>.rodata</code>)</p><p>数据放在数据段(<code>.data</code>和<code>.bss</code>)，其中 <code>.data</code> 存放初始化不为0的数据， <code>.bss</code>存放未初始化或初始化为0的数据</p><p>全局变量产生符号，放在<code>.data</code>和<code>.bss</code>；普通局部变量不是符号，而是指令，运行时在<code>stack</code>上分配弓箭，放在<code>.text</code>；静态局部变量也产生符号</p><p><img src="https://s1.vika.cn/space/2023/03/25/4d6575ef452e4386ae751fb83aa0af50" alt=""></p><p>每一个进程的<strong>用户空间是私有</strong>的，但<strong>内核空间是共享</strong>的！！！进程通信的匿名管道通信，就是在内核空间中开辟一块内存，这样这几个进程都能看见。</p><hr><h2 id="2-函数调用堆栈过程">2. 函数调用堆栈过程</h2><p><img src="https://s1.vika.cn/space/2023/03/25/fc5e9853b65442dc9420ccd36782ef2b" alt=""></p><p>esp存放当前栈帧栈顶的地址，ebp存放栈底的地址 。</p><p>函数压栈时，形参时从右往左压，因为这样第一个形参的肯定是位于栈顶的，能方便的获取第一个形参</p><p>call sum：干两件事情 1.把这行指令的下一行指令的地址压栈 0x08124458（因为sum函数执行完后得知道接下来执行什么）2.调用sum函数</p><p>在调用函数的一开始，会把ebp的地址0x0018ff40压入栈顶</p><p>函数结束之后：ebp的地址赋给esp ，然后对出栈且把值赋给ebp，这样ebp又重新指向main函数栈底</p><hr><h2 id="3-C-的编译和链接原理">3. C++的编译和链接原理</h2><p><img src="https://s1.vika.cn/space/2023/03/25/1d590851346640f8909cb408bb121518" alt=""></p><p><code>#pragma lib</code>：指定在在程序运行时需要链接的库，因此是在链接阶段执行</p><p><code>#pragma link</code>：设置入口函数，<code>main</code>函数是程序默认入口函数。</p><p>除此之外的 <code>#</code>靠头都在预编译阶段处理</p><p>汇编：把程序代码转为特定平台的机器码</p><p><code>*.o</code>文件格式<img src="https://s1.vika.cn/space/2023/03/25/625dca047e5e48008168b461b6d6e1fe" alt=""></p><p><code>.text</code>:已编译程序的机器代码。<br><code>.rodata</code>：只读数据，比如<code>printf</code>语句中的格式串和开关语句的跳转表。<br><code>.data</code>：已初始化的全局C变量gy局部C变量在运行时保存在栈中，既不出现在，<code>.data</code>节中，也不出现在<code>.bss</code>节中。<br><code>.bss</code>：未初始化的全局C变量。在目标文件中这个节不占据实际的空间，它仅仅是一个占位符。目标文件格式区分初始化和未初始化变量是为了空间效率：在目标文件中，未初始化变量不需要占据任何实际的磁盘空间。</p><p><code>.symtab</code>:一个符号表，它存放在程序中定义和引用的函数和全局变量的信息。一些程序员错误地认为必须通过-g选项来编译程序才能得到符号表信息。实际上，每个可重定位目标文件在，<code>.symtab</code>中都有一张符号表。然而，和编译器中的符号表不同，<code>.symtab</code>符号表不包含局部变量的条目。</p><p>编译过程中，符号是不分配虚拟地址的。而是在链接过程中。因为，编译过程中有些符号编译器都不知道在哪，更无从谈起分配了。</p><hr><p>使用<code>gcc -c main.cpp sum.cpp</code>生成<code>main.o sum.o</code>二进制可重定向文件</p><p>符号表：可以用<code>objdump -t main.o</code>查看</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> gdata;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;</span><br><span class="line"><span class="type">int</span> data = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> a = gdata;</span><br><span class="line"><span class="type">int</span> b = data;</span><br><span class="line"><span class="type">int</span> ret = <span class="built_in">sum</span>(a, b);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">main.o:     file format elf64-x86-64</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">SYMBOL TABLE:</span></span><br><span class="line"><span class="comment">0000000000000000 l    df *ABS*0000000000000000 main.cpp</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .text0000000000000000 .text</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .data0000000000000000 .data</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .bss0000000000000000 .bss</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .note.GNU-stack0000000000000000 .note.GNU-stack</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .eh_frame0000000000000000 .eh_frame</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .comment0000000000000000 .comment</span></span><br><span class="line"><span class="comment">0000000000000000 g     O .data0000000000000004 data</span></span><br><span class="line"><span class="comment">0000000000000000 g     F .text0000000000000033 main</span></span><br><span class="line"><span class="comment">0000000000000000         *UND*0000000000000000 gdata</span></span><br><span class="line"><span class="comment">0000000000000000         *UND*0000000000000000 _GLOBAL_OFFSET_TABLE_</span></span><br><span class="line"><span class="comment">0000000000000000         *UND*0000000000000000 _Z3sumii</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">解释：其中l是local，g是global，在链接阶段，编译器只能看见g字段。静态变量都是l，普通变量都是g</span></span><br><span class="line"><span class="comment">所以可以在多个文件定义变量名相同的静态变量</span></span><br><span class="line"><span class="comment">*UND*：gdata和sum都产生符号（gdata、_Z3sumii），使用了它们但不知道怎么定义的就标识为*UND*，是符号的引用</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// sum.cpp</span></span><br><span class="line"><span class="type">int</span> gdata = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">sum.o:     file format elf64-x86-64</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">SYMBOL TABLE:</span></span><br><span class="line"><span class="comment">0000000000000000 l    df *ABS*0000000000000000 sum.cpp</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .text0000000000000000 .text</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .data0000000000000000 .data</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .bss0000000000000000 .bss</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .note.GNU-stack0000000000000000 .note.GNU-stack</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .eh_frame0000000000000000 .eh_frame</span></span><br><span class="line"><span class="comment">0000000000000000 l    d  .comment0000000000000000 .comment</span></span><br><span class="line"><span class="comment">0000000000000000 g     O .data0000000000000004 gdata</span></span><br><span class="line"><span class="comment">0000000000000000 g     F .text0000000000000014 _Z3sumii</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><code>g++ -c main.cpp -g</code> + <code>objdump -S main.o</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">main.o:     file format elf64-x86-64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">0000000000000000 &lt;main&gt;:</span><br><span class="line"></span><br><span class="line">extern int gdata;</span><br><span class="line">int sum(int, int);</span><br><span class="line">int data = 20;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">   0:55                   push   %rbp</span><br><span class="line">   1:48 89 e5             mov    %rsp,%rbp</span><br><span class="line">   4:48 83 ec 10          sub    $0x10,%rsp</span><br><span class="line">int a = gdata;</span><br><span class="line">   8:8b 05 00 00 00 00    mov    0x0(%rip),%eax        # e &lt;main+0xe&gt;</span><br><span class="line">   e:89 45 f4             mov    %eax,-0xc(%rbp)</span><br><span class="line">int b = data;</span><br><span class="line">  11:8b 05 00 00 00 00    mov    0x0(%rip),%eax        # 17 &lt;main+0x17&gt;</span><br><span class="line">  17:89 45 f8             mov    %eax,-0x8(%rbp)</span><br><span class="line">int ret = sum(a, b);</span><br><span class="line">  1a:8b 55 f8             mov    -0x8(%rbp),%edx</span><br><span class="line">  1d:8b 45 f4             mov    -0xc(%rbp),%eax</span><br><span class="line">  20:89 d6                mov    %edx,%esi</span><br><span class="line">  22:89 c7                mov    %eax,%edi</span><br><span class="line">  24:e8 00 00 00 00       callq  29 &lt;main+0x29&gt;</span><br><span class="line">  29:89 45 fc             mov    %eax,-0x4(%rbp)</span><br><span class="line">return 0;</span><br><span class="line">  2c:b8 00 00 00 00       mov    $0x0,%eax</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">  31:c9                   leaveq </span><br><span class="line">  32:c3                   retq</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">自己定义的全局变量data，和引用其他文件的gdata，符号的地址都为0</span>      </span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">      </span><br><span class="line"> sum.o:     file format elf64-x86-64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">0000000000000000 &lt;_Z3sumii&gt;:</span><br><span class="line">int gdata = 10;</span><br><span class="line">int sum(int a, int b)&#123;</span><br><span class="line">   0:55                   push   %rbp</span><br><span class="line">   1:48 89 e5             mov    %rsp,%rbp</span><br><span class="line">   4:89 7d fc             mov    %edi,-0x4(%rbp)</span><br><span class="line">   7:89 75 f8             mov    %esi,-0x8(%rbp)</span><br><span class="line"></span><br><span class="line">return a + b;</span><br><span class="line">   a:8b 55 fc             mov    -0x4(%rbp),%edx</span><br><span class="line">   d:8b 45 f8             mov    -0x8(%rbp),%eax</span><br><span class="line">  10:01 d0                add    %edx,%eax</span><br><span class="line">&#125;</span><br><span class="line">  12:5d                   pop    %rbp</span><br><span class="line">  13:c3                   retq</span><br><span class="line">      </span><br><span class="line">     </span><br></pre></td></tr></table></figure><hr><p><strong>链接过程</strong></p><ol><li>所有.o文件段的合并符号表合并后，进行符号解析。符号表合并:<code>.text</code>&lt;=&gt;<code>.text</code> <code>.data</code> &lt;=&gt;<code>.data</code> <code>.bss</code> &lt;=&gt;<code>.bss</code>。 符号解析：所有对符号的引用（*UND*）都要找到该符号定义的地方。解析成功后就给所有符号分配虚拟地址</li><li>符号的重定位：在之前编译阶段，对于符号的引用都是给0地址，现在每个符号都有虚拟地址了，就需要给这些0地址替换</li></ol><p>要求：独立说出 c/c++编译链接原理</p><hr><h2 id="4-基础知识">4.基础知识</h2><p>形参带默认值的函数，默认值只能从右向左给。</p><p><strong>inline内联函数</strong></p><p>直接把内联函数代码在调用处展开，即不会产生函数调用，效率更高了。</p><p>​但不是所有inline都会被编译器视为内联函数，如递归</p><hr><p><strong>函数重载</strong></p><p>1.C++为什么支持函数重载，C语言不支持函数重载</p><ul><li><p>C++代码产生函数符号的时候，函数名+参数列表类型组成的！</p></li><li><p>C代码产生函数符号的时候，函数名来决定！</p></li></ul><p>2.函数重载需要注意些什么？</p><p>一组函数要称得上重载，一定先是处在同一个作用域当中的。 返回值相不相同不影响重载</p><p>3.C++和c语言代码之间如何互相调用</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Const 的用法</strong></p><p>const 怎么理解？</p><p>const 修饰的变量不能够再作为左值！！！初始化完成后，值不能被修改！！！</p><p>c++的 const 必须初始化的，叫常量</p><p>c和c++中const的区别是什么？<br>const的编译方式不同，c中，const就是当作一个变量来编译生成指令的。<br>C++中，所有出现const常量名字的地方，都被常量的初始化替换了！！！</p><p><img src="https://s1.vika.cn/space/2023/03/25/6e21f41e86064157a09c5aec27ab0a13" alt=""></p><p><strong>指针和引用的区别</strong></p><p>引用是一个更安全的指针</p><p>1.引用必须初始化，指针可以不初始化 （引用初始化时，右边必须是一个可以取地址的变量，即 int &amp;b = 0;是非法的）</p><p>2.引用只有一级引用没有多级引用；指针有多级指针</p><p>3.定义一个用变量，和定义一个指针变量，其编指令是一模一样的；通过用变量修改所引用内存的值，和通过指针解引用修改指针指向的内存的值，其底层指令也是一模一样的</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;&#125;;</span><br><span class="line"><span class="type">int</span> *p = a;</span><br><span class="line"><span class="comment">// int &amp;q = a;  引用错误的写法</span></span><br><span class="line"><span class="built_in">int</span> (&amp;q)[<span class="number">5</span>] = a;</span><br><span class="line">std::cout &lt;&lt; <span class="built_in">sizeof</span>(p) &lt;&lt; std::endl; <span class="comment">// 8</span></span><br><span class="line">std::cout &lt;&lt; <span class="built_in">sizeof</span>(q) &lt;&lt; std::endl; <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><p><strong>左值引用和右值引用</strong></p><p>左值，有内存，有名字，值可以修改</p><p>右值，没内存，没名字</p><p>右值引用：Int &amp;&amp;c = 20; 和 const int &amp;c = 20;汇编代码完全一样</p><p>但&amp;&amp;c可以修改引用的值而const无法修改</p><p>右值引用变量只能引用右值，一个右值引用变量本身是一个左值</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> &amp;&amp;c = <span class="number">20</span>; <span class="comment">// 专门用来引用右值类型，在指令上，可以自动产生临时变量，然后直接引用临时变量</span></span><br><span class="line"><span class="type">int</span> &amp;&amp;e = c; <span class="comment">// 错误的 </span></span><br><span class="line"><span class="comment">//右值引用变量只能引用右值，一个右值引用变量本身是一个左值</span></span><br></pre></td></tr></table></figure><p><strong>const、一级指针、引用的结合使用</strong></p><p>const修饰的量常出现儿的错误是：<br>1.常量不能再作为左值《= 直接修改常量的值<br>2.不能把常量的地址泄露给一个普通的指针或者普通的引用变量《=可以间接修改常量的值</p><p>const修饰离他最近的类型</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span>*p = &amp;a; =&gt; *p=<span class="number">20</span> p=&amp;b</span><br><span class="line"><span class="comment">//可以任意指向不同的int类型的内存，但是不能通过指针间接修改指向的内存的值</span></span><br><span class="line"><span class="type">int</span> <span class="type">const</span>* p;<span class="comment">//和上面等价，因为*不是类型，所以const还是修饰int</span></span><br><span class="line"><span class="type">int</span> *<span class="type">const</span> p = &amp;a; =&gt;p = &amp;b *p = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//这个指针现在是常量，不能再指向其它内存，但是可以通过指针解引用修改指向的内存的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//总结const和指针的类型转换公式：</span></span><br><span class="line"><span class="type">int</span>*      &lt;=     <span class="type">const</span> <span class="type">int</span>*      <span class="comment">//是错误的！</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span>*   &lt;=    <span class="type">int</span>*          <span class="comment">//是可以的！</span></span><br><span class="line"><span class="comment">//在二级指针中是错误的</span></span><br><span class="line"><span class="type">int</span>** &lt;=  <span class="type">const</span> <span class="type">int</span>** <span class="comment">//是错误的！</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span>**  &lt;=   <span class="type">int</span>** <span class="comment">//是错误的！</span></span><br><span class="line"><span class="comment">//下面是const和一级指针的结合 （看const的右 侧）</span></span><br><span class="line"><span class="type">int</span>**   &lt;=   <span class="type">int</span>*<span class="type">const</span>*  <span class="comment">//是错误的！</span></span><br><span class="line"><span class="type">int</span>*<span class="type">const</span>*  &lt;=   <span class="type">int</span>**  <span class="comment">//是可以的创</span></span><br></pre></td></tr></table></figure><p>const如果右边没有指针*的话，const是不参与类型的，即<code>int* const == int*</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在内存0x0018ff44处写一个4字节的10</span></span><br><span class="line"><span class="type">int</span> *&amp;&amp;p = (<span class="type">int</span>*)<span class="number">0x0018ff44</span> <span class="comment">//0x0018ff44 是常量也就是说是右值</span></span><br><span class="line">p = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">🥧本文讲解c++基础知识</summary>
    
    
    
    <category term="c++" scheme="https://yanhool.github.io/categories/c/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
  </entry>
  
  <entry>
    <title>c++OOP笔记</title>
    <link href="https://yanhool.github.io/posts/20230302d.html"/>
    <id>https://yanhool.github.io/posts/20230302d.html</id>
    <published>2023-03-01T10:19:03.000Z</published>
    <updated>2023-03-25T06:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>c++OOP基础知识</h1><p><strong>OOP四大特性</strong></p><ul><li><p>抽象</p></li><li><p>封装/隐藏：通过<strong>访问限定符</strong>体现 public protected private</p></li><li><p>继承</p></li><li><p>多态</p></li></ul><hr><p>this指针</p><p>类有很多对象，所有对象都共用一套成员方法，所以对象调用成员方法时会默认传入this指针</p><hr><p>构造函数：自动调用；可以重载</p><p>析构函数：不带参数；不能重载</p><p>数据段.data对象程序启动时构造，程序结束时析构</p><p>heap上：new时构造，delete析构</p><p>stack：进入函数时到定义处构造，函数结束时析构</p><hr><p><strong>深拷贝浅拷贝</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SeqStack <span class="title">s1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">SeqStack s2 = s1; <span class="comment">// 拷贝构造函数，直接内存拷贝</span></span><br></pre></td></tr></table></figure><hr><p>类的各种成员 - 成员方法/变量</p><p>普通的成员方法 =&gt; 编译器会添加一个this形参变量</p><p>1.属于类的作用域</p><p>2.调用该方法时，需要依赖一个对象</p><p>3.可以任意访问对象的私有成员 protected继承 public private</p><p>static静态成员方法 =&gt; 不会生成this形参</p><p>1.属于类的作用域</p><p>2.用类名作用域来调用方法</p><p>3.可以任意访问对象的私有成员，仪限于不依赖对象的成员（只能调用其它的stātic静态成员）</p><p>const常成员方法 =&gt; const CGoods *this</p><p>1.属于类的作用域</p><p>2.调用依赖一个对象，普通对象或者常对象都可以</p><p>3.可以任意访问对象的私有成员，但只能读不能写</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line"><span class="comment">//这两个show属于重载关系</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="comment">// 常成员方法 只要是只读操作的成员方法一律实现成const常成员方法</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span> <span class="type">const</span></span>&#123;&#125; <span class="comment">// 这个会默认对this指针加const修饰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>指向类成员（成员变量和成员方法）的指针</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span>&#123;cout &lt;&lt;<span class="string">&quot;call &#x27;Test:func&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="type">static</span> <span class="title">func</span><span class="params">()</span></span>&#123;cout &lt;&lt;<span class="string">&quot;Test:static func&quot;</span>&lt;&lt;endl;&#125;</span><br><span class="line"><span class="type">int</span> ma;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> mb;</span><br><span class="line">&#125;；</span><br><span class="line"><span class="type">int</span> Test::mb; <span class="comment">// 静态成员变量必须要在类中初始化</span></span><br><span class="line"><span class="comment">// 指向成员变量的指针</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Test t1;</span><br><span class="line">    Test *t2 = <span class="keyword">new</span> <span class="built_in">Test</span> ();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//inta=10;int*p=&amp;a;*p=30;</span></span><br><span class="line">    <span class="comment">//无法从&quot;int Test::*&quot; 转换为 &quot;int*&quot;</span></span><br><span class="line">    <span class="type">int</span> Test:*p &amp;Test::ma;</span><br><span class="line">    t1.*p=<span class="number">20</span>;</span><br><span class="line">    cout &lt;&lt; t1.*p &lt;&lt;endl;</span><br><span class="line">    t2-&gt;*p=<span class="number">30</span>;</span><br><span class="line">    cout &lt;&lt; t2-&gt;*p &lt;&lt;endl;</span><br><span class="line">    <span class="type">int</span> *p1=&amp;Test::mb;</span><br><span class="line">    *p1=<span class="number">40</span>;</span><br><span class="line">    cout &lt;&lt;*p1&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">delete</span> t2;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//指向成员方法的指针</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Test t1;</span><br><span class="line">    Test *t2 = <span class="keyword">new</span> <span class="built_in">Test</span>();</span><br><span class="line">    <span class="comment">// 指向成员方法的指针</span></span><br><span class="line">    <span class="built_in">void</span> (Test::*pfunc)() = &amp;Test::func;</span><br><span class="line">    (t1.*pfunc)();</span><br><span class="line">    (t2-&gt;*pfunc)();</span><br><span class="line">    <span class="comment">// 指向静态成员方法的指针</span></span><br><span class="line">    <span class="built_in">void</span> (*p1)() = &amp;Test::static_func;</span><br><span class="line">    (*p1)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>运算重载符</h1><p>operator++()前置++</p><p>operator++(int)后置++</p><hr><p><strong>迭代器</strong></p><p>提供一种统一的方式来透明的遍历容器</p><p>迭代器失效</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt;vec;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;++i)</span><br><span class="line">&#123;</span><br><span class="line">vec.<span class="function">push <span class="title">back</span><span class="params">(rand()号<span class="number">100</span>+<span class="number">1</span>)</span>；</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//给vec容器中所有的偶数前面添加一个小于偶数值1的数字</span></span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> it vec.<span class="title">begin</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">for</span> (it !vec.<span class="built_in">end</span>();++it)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(*it%<span class="number">2</span>==<span class="number">0</span>)》</span><br><span class="line"><span class="comment">//这里的迭代器在第一次insert之后，iterator就失效了</span></span><br><span class="line">vec.<span class="built_in">insert</span>(it,*it<span class="number">-1</span>);</span><br><span class="line"><span class="comment">//break;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//把vec容器中所有的偶数全部删除</span></span><br><span class="line"><span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">for</span>(;it！= vec.<span class="built_in">end</span>();++it)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(*it%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//迭代器失效的问题，第一次调用erasel以后，迭代器it就失效，</span></span><br><span class="line">        vec.<span class="built_in">erase</span>(it);<span class="comment">//insert (it,val)</span></span><br><span class="line">        <span class="built_in">erase</span>(it)</span><br><span class="line">        <span class="comment">//break;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>迭代器的失效问题？</p><p>1.迭代器为什么会失效？</p><p><strong>a</strong>:当容器调用erase方法后，当前位置到容器末尾元素的所有的迭代器全部失效了</p><p><strong>b</strong>:当容器调用insert方法后，当前位置到容器末尾元素的所有的迭代器全部失效了</p><p>迭代器依然有效            迭代器全部失效</p><p>首元素 -&gt; 插入点/删除点 -&gt; 末尾元素</p><p><strong>c</strong>:insert来说，如果引起容器内存扩容</p><p>原来容器的所有的迭代器就全部失效了</p><p>首元素 -&gt; 插入点/删除点 -&gt; 末尾元素</p><p><strong>d</strong>:不同容器的迭代器是不能进行比较运算的</p><p>2.迭代器失效了以后，问题该怎么解决？</p><p>对 插入/删除点的迭代器进行更新操作</p><hr><p><strong>深入理解new和delete操作</strong></p><p>new和delete</p><p>1.malloc和new的区别？</p><p>a.mallco按字节开辟内存的；new开辟内存时需要指定类型new int[10]</p><p>所以malloc开辟内存返回的都是void* ,      operator new-&gt;int*</p><p>b.malloc只负责开辟空间，new不仅仅有malloc的功能，可以进行数据的初始化</p><p><code>new int (20); new int [20]() ;int()</code></p><p>c.malloc开辟内存失败返回<strong>nullptr指针</strong>：new抛出的是bad_malloc类型的<strong>异常</strong></p><p>2.free和deletel的区别？</p><p>delete:先调用析构函数然后再free§;</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span>* <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="type">size_t</span> size)</span></span>&#123;</span><br><span class="line">    <span class="type">void</span> *p = <span class="built_in">malloc</span>(size);</span><br><span class="line">    <span class="keyword">if</span>(p == <span class="literal">nullptr</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="built_in">bad_alloc</span>();</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//delete p;调用p指向对象的析构函数、再调用operator delete释放内存空间</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="type">void</span> *ptr)</span></span>&#123;</span><br><span class="line">    <span class="built_in">free</span>(ptr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>new和delete能混用吗？c++为什么区分单个元素和数组的内存分配和释放呢?</p><p>最好不要，内置类型可以。</p><p><img src="https://s1.vika.cn/space/2023/03/25/41aacf57c0da4884bb605356e51a135e" alt=""></p><p>自定义的类类型，有析构函数，为了调用正确的析构函数，那么开辟对象数组的时候会多开辟4个字节，记录对象的个数</p><h1>继承与多态</h1><p>继承的本质：a.代码的复用 b.</p><p>class B : public A 的意思是A派生了B， B继承了A</p><p>A 基类/父类  B派生类/子类</p><p>两个类之间的关系可以是</p><p>组合： a part of</p><p>继承:：a kind of</p><p><img src="https://s1.vika.cn/space/2023/03/25/6fb21c5658fe4b47a62c054e75e537a8" alt=""></p><p>总结：</p><p>1.外部只能访问对象p   ublic的成员，protected和privatel的成员无法直接访问</p><p>2.在继承结构中，派生类从基类可以继承过来privatel的成员，但是派生类却无法直接访问</p><p>3.protected和private的区别？</p><p>在基类中定义的成员，想被派生类访问，但是不想被外部访问那么在基类中，把相关成员定义成protected保护的；</p><p>如果派生类和外部都不打算访问，那么在基类中，就把相关成员定义成private私有的。</p><p>默认的继承方式是什么？</p><p>要看派生类是用class定义的，还是struct定义的？</p><p>class定义派生类，默认继承方式就是private私有的</p><p>struct定义派生类，默认继承方式就是public私有的</p><hr><p>1.派生类从继承可以继承来所有的成员（变量和方法），除过构造函数和析构函数</p><p>派生类怎么初始化从基类继承来的成员变量呢？</p><p>解答：通过调用基类相应的构造函数来初始化</p><p>派生类的构造函数和析构函数，负责初始化和清理派生类部分</p><p>派生类从基类继承来的成员的初始化和清理由基类的构造和析构函数来负责</p><p>派生类对象构造和析构的过程是：</p><p>1.派生类调用基类的构造函数，初始化从基类继承来的成员</p><p>2.调用派生类自己的构造函数，初始化派生类自己特有的成员</p><p>…派生类对象的作用域到期了</p><p>3.调用派生类的析构函数，释放派生类成员可能占用的外部资源（堆内存，文件）</p><p>4.调用基类的析构函数，释放派生类内存中，从基类继承来的成员可能占用的外部资源（堆内存，文件）</p><hr><p><strong>重载、隐藏和覆盖</strong></p><p>1.重载关系</p><p>组函数要重载，必须处在同一个作用域当中；而且函数名字相同，参数列表不同</p><p>2.隐藏（作用域的隐藏）的关系</p><p>在继承结构当中，派生类的同名成员，把基类的同名成员给隐藏调用了</p><hr><p>1.把继承结构，也说成从上（基）到下（派生类）的结构</p><ol start="2"><li></li></ol><p>基类对象-&gt;派生类对象                  Y</p><p>派生类对象-&gt;基类对象                  N</p><p>基类指针（引用）-&gt;派生类对象    Y</p><p>派生类指针（引用）-&gt;基类对象    N</p><hr><p><strong>虚函数，静态绑定和动态绑定</strong></p><p>一个类添加虚函数对类的影响</p><p>总结一：</p><p>一个类里面定义了虚函数，那么编译阶段，编译器给这个类类型产生一个唯一的vftabl  e虚函数表，虚函数表中主要存储的内容就是TTI指针和虚函数的地址。当程序运行时，每一张虚函数表都会加载到内存的.rodata区。</p><p><img src="https://s1.vika.cn/space/2023/03/25/e26a79363216492d8ca45a87f92b192b" alt=""></p><p>总结二：</p><p>一个类里面定义了函数数，那么这个类定义的对象1其运行时，内存中开始部分，多存储一个vfptr虚函数指针，指向相应类型的虚函数表vftable。一个类型定义的n个对象，它们的额vfptr指向的都是同一张虚函数表</p><p>总结三：</p><p>个类里面虚函数的个数，不影响对象内存大小(vfptr)，影响的是虚函数表的大小</p><p>总结四：</p><p>如果派生类中的方法，和基类继承来的某个方法，返回值、函数名、参数列表都相同，而且基类的方法是virtual虚函数，那么派生类的这个方法，自动处理成虚函数</p><p>静态绑定和动态绑定</p><p>pb-&gt;Base Base::show  如果发现show是普通函数，编译时期就进行静态绑定 call Base::show</p><p>pb-&gt;Base Base::show  如果发现show是虚函数，运行时期就进行动态绑定</p><p>mov eax,dword ptr[pb]      // 先把vfptr指针存储寄存器</p><p>mov ecx,dword ptr[eax]    // 在虚函数表中找到虚函数地址并给ecx寄存器</p><p>call ecx</p><hr><p>Derive d; Base *pb = &amp;d;</p><p>pb的类型：Base-&gt;有没有虚函数</p><p>如果Base没有虚函数，*pb识别的就是编译时期的类型 *pb&lt;=&gt;Base类型</p><p>如果Base有虚函数，*pb识别的就是运行时期的类型RTTI类型</p><p>pb-&gt;d(vfptr)-&gt;Derive vftable</p><p>class Derive</p><hr><p>问题一：哪些函数不能实现成虚函数？</p><p>虚函数依赖：</p><p>1.虚函数能产生地址，存储在vftable当中：</p><p>2.对象必须存在(vfptr-&gt;vftable-&gt;虚函数地址)</p><p>构造函数</p><p>1.virtual+构造函数No!</p><p>2.构造函数中（调用的任何函数，都是静态绑定的）调用虚函数，也不会发生静态绑定派生类对象构造过程1.先调用的是基类的构造函数2.才调用派生类的构造函数</p><p>static静态成员方法No!</p><p>问题二：虚析构函数</p><p>什么时候把基类的析构函数必须实现成虚函数？</p><p>基类的指针（引用）指向堆上new出来的派生类对象的时候，delete pb(基类的指针)，它调用析构函数的时候，必须发生动态绑定，否则会导致派生类的析构函数无法调用</p><p>虚函数和动态绑定问题：是不是虚函数的调用一定就是动态绑定？肯定不是的！</p><p>在类的构造函数当中，调用虚函数，也是静态绑定（构造函数中调用其它函数（虚），不会发生动态绑定</p><p>静态绑定用对象本身调用虚函数，是静态绑定</p><p>动态绑定（必须由指针调用虚函数）</p><hr><p><strong>多态到底是什么</strong></p><p>如何解释多态？</p><p>静态（编译时期）的多态：函数重载、模板（函数模板和类模板）</p><p>动态（运行时期）的多态：</p><p>在继承结构中，基类指针（引用）指向派生类对象，通过该指针（引用）调用同名覆盖方法（虚函数），基类指针指向哪个派生类对象，就会调用哪个派生类对象的同名覆盖方法，称为多态</p><p>多态底层是通过动态绑定来实现的，pbase-》访问谁的vfptr-》继续访问谁的vftable =》当然调用的是对应的派生类对象的方法了</p><hr><p><strong>抽象类和普通类</strong></p><p>拥有纯虚函数的类叫抽象类</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">bark</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>抽象类不能再实例化对象了，但是可以定义指针和引用变量</p><hr><p><strong>虚基类和虚继承</strong></p><p>Class B: virtual public A   则A是虚基类</p><p>多重继承</p><p>菱形继承问题</p><p><img src="https://s1.vika.cn/space/2023/03/25/84e616c4169d4425839d4c4de8070027" alt=""></p><p>虚基类来解决菱形继承的问题</p><hr><p><strong>c++的四种类型转换</strong></p><p>const_cast：去掉常量属性的一个类型转换</p><p>static_cast：提供编译器认为安全的类型转换</p><p>reinterpret_cast：类似于C风格的强制类型转换</p><p>dynamic_cast：主要用在继承结构中，可以支持RTTI类型识别的上下转换</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> a <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *pl = (<span class="type">int</span>*)&amp;a;</span><br><span class="line"><span class="type">int</span> *p2 = <span class="built_in">const_cast</span>&lt;<span class="type">int</span>*&gt;(&amp;a);</span><br></pre></td></tr></table></figure><p>dynamic_cast:如果有需求要求某个特定类型必须调用特定方法可以用dynamic_cast转换</p>]]></content>
    
    
    <summary type="html">🥧本文讲解c++OOP基础知识</summary>
    
    
    
    <category term="c++" scheme="https://yanhool.github.io/categories/c/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
  </entry>
  
  <entry>
    <title>Markdown语法与外挂标签写法汇总</title>
    <link href="https://yanhool.github.io/posts/20131023d.html"/>
    <id>https://yanhool.github.io/posts/20131023d.html</id>
    <published>2022-08-09T10:19:03.000Z</published>
    <updated>2022-10-23T14:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>1.Markdown语法自带格式</h1><div class="note info flat"><p>参考：<a href="https://blog.csdn.net/u014061630/article/details/81359144">Markdown语法图文全面详解(10分钟学会)</a></p></div><div class="note warning flat"><p>注意：此页面偶尔会存在CSS冲突问题!</p></div><h2 id="1-1-代码块">1.1 代码块</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\```shell</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCode终端</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmder终端</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br><span class="line">\```</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCode终端</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmder终端</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-2-多级标题">1.2 多级标题</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># H1</span></span><br><span class="line"><span class="section">## H2</span></span><br><span class="line"><span class="section">### H3</span></span><br><span class="line"><span class="section">#### H4</span></span><br><span class="line"><span class="section">##### H5</span></span><br><span class="line"><span class="section">###### H6</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>见本文章标题!</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-3-文字样式">1.3 文字样式</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>下划线演示<span class="language-xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">文字<span class="strong">**加粗**</span>演示</span><br><span class="line"></span><br><span class="line">文字<span class="emphasis">*斜体*</span>演示</span><br><span class="line"></span><br><span class="line">文本<span class="code">`高亮`</span>演示</span><br><span class="line"></span><br><span class="line">文本~~删除~~线演示</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span> = <span class="string">5</span>&gt;</span></span>5号字<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;黑体&quot;</span>&gt;</span></span>黑体<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">blue</span>&gt;</span></span>蓝色<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">td</span> <span class="attr">bgcolor</span>=<span class="string">MistyRose</span>&gt;</span></span>这里的背景色是：MistyRosen，此处输入任意想输入的内容<span class="language-xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p><u>下划线演示</u></p><p>文字<strong>加粗</strong>演示</p><p>文字<em>斜体</em>演示</p><p>文本<code>高亮</code>演示</p><p>文本<s>删除</s>线演示</p><p><font size = 5>5号字</font><br><font face="黑体">黑体</font><br><font color=blue>蓝色</font></p><table><tr><td bgcolor=MistyRose>这里的背景色是：MistyRosen，此处输入任意想输入的内容</td></tr></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note info flat"><p>上述要点可参考:<a href="https://blog.csdn.net/qq_43732429/article/details/108034518">【Markdown语法】字体颜色大小及文字底色设置</a></p></div><h2 id="1-4-引用">1.4 引用</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt;  Java</span></span><br><span class="line"><span class="quote">&gt; 二级引用演示</span></span><br><span class="line"><span class="quote">&gt; MySQL</span></span><br><span class="line"><span class="quote">&gt; &gt;外键</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;事务</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;<span class="strong">**行级锁**</span>(引用内部一样可以用格式)</span></span><br><span class="line"><span class="quote">&gt; </span></span><br><span class="line"><span class="quote">&gt; ....</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><blockquote><p>Java<br>二级引用演示<br>MySQL</p><blockquote><p>外键</p><p>事务</p><p><strong>行级锁</strong>(引用内部一样可以用格式)</p></blockquote><p>…</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-5-分割线">1.5 分割线</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><hr><hr><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-6-列表-跟空格都可以">1.6 列表(*,+,-跟空格都可以)</h2><h3 id="1-6-1-无序列表">1.6.1 无序列表</h3><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> Java</span><br><span class="line"><span class="bullet">*</span> Python</span><br><span class="line"><span class="bullet">*</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">+</span> Java</span><br><span class="line"><span class="bullet">+</span> Python</span><br><span class="line"><span class="bullet">+</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> Java</span><br><span class="line"><span class="bullet">-</span> Python</span><br><span class="line"><span class="bullet">-</span> ...</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ul><li>Java</li><li>Python</li><li>…</li></ul><ul><li>Java</li><li>Python</li><li>…</li></ul><ul><li>Java</li><li>Python</li><li>…</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="1-6-2-有序列表">1.6.2 有序列表</h3><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 注意后面有空格</span></span><br><span class="line"><span class="bullet">1.</span> </span><br><span class="line"><span class="bullet">2.</span> </span><br><span class="line"><span class="bullet">3.</span> </span><br><span class="line"><span class="bullet">4.</span> </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li></li><li></li><li></li><li></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-7-图片">1.7 图片</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 本地图片</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/assets/pusheencode.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;示例图片&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:50%;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="section"># 在线图片</span></span><br><span class="line">![<span class="string">code</span>](<span class="link">https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>本地图片:<br><img src="/assets/pusheencode.webp" alt="示例图片" style="zoom:50%;" /><br>在线图片:<br><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png" alt="code"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-8-表格">1.8 表格</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| 项目标号 | 资金     | 备注 |</span><br><span class="line">| -------- | -------- | ---- |</span><br><span class="line">| 1        | 100，000 | 无   |</span><br><span class="line">| 2        | 200，000 | 无   |</span><br><span class="line">| 3        | 300,600  | 重要 |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><table><thead><tr><th>项目标号</th><th>资金</th><th>备注</th></tr></thead><tbody><tr><td>1</td><td>100，000</td><td>无</td></tr><tr><td>2</td><td>200，000</td><td>无</td></tr><tr><td>3</td><td>300,600</td><td>重要</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-9-公式">1.9 公式</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\Gamma(z)=\int<span class="emphasis">_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt.</span></span><br><span class="line"><span class="emphasis">$$</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>$$<br>\Gamma(z)=\int_0^\infty t^{z-1}e^{-t}dt.<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1>2.Butterfly外挂标签</h1><div class="note info flat"><p>这部分参考安知鱼:<a href="https://anzhiy.cn/posts/7d58.html">基于Butterfly的外挂标签引入</a></p></div><h2 id="2-1-行内文本样式-text">2.1 行内文本样式 text</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% u 文本内容 %&#125;</span><br><span class="line">&#123;% emp 文本内容 %&#125;</span><br><span class="line">&#123;% wavy 文本内容 %&#125;</span><br><span class="line">&#123;% del 文本内容 %&#125;</span><br><span class="line">&#123;% kbd 文本内容 %&#125;</span><br><span class="line">&#123;% psw 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 带 &#123;% u 下划线 %&#125; 的文本</span><br><span class="line"><span class="bullet">2.</span> 带 &#123;% emp 着重号 %&#125; 的文本</span><br><span class="line"><span class="bullet">3.</span> 带 &#123;% wavy 波浪线 %&#125; 的文本</span><br><span class="line"><span class="bullet">4.</span> 带 &#123;% del 删除线 %&#125; 的文本</span><br><span class="line"><span class="bullet">5.</span> 键盘样式的文本 &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line"><span class="bullet">6.</span> 密码样式的文本：&#123;% psw 这里没有验证码 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><ol><li>带 <u>下划线</u> 的文本</li><li>带 <emp>着重号</emp> 的文本</li><li>带 <wavy>波浪线</wavy> 的文本</li><li>带 <del>删除线</del> 的文本</li><li>键盘样式的文本 <kbd>command</kbd> + <kbd>D</kbd></li><li>密码样式的文本：<psw>这里没有验证码</psw></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-2-行内文本-span">2.2 行内文本 span</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>字体</code>: logo, code</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>大小</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>对齐方向</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% span red, 红色 %&#125;、&#123;% span yellow, 黄色 %&#125;、&#123;% span green, 绿色 %&#125;、&#123;% span cyan, 青色 %&#125;、&#123;% span blue, 蓝色 %&#125;、&#123;% span gray, 灰色 %&#125;。</span><br><span class="line"><span class="bullet">-</span> 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<span class='p red'>红色</span>、<span class='p yellow'>黄色</span>、<span class='p green'>绿色</span>、<span class='p cyan'>青色</span>、<span class='p blue'>蓝色</span>、<span class='p gray'>灰色</span>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。<br><span class='p center logo large'>Volantis</span><br><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-3-段落文本-p">2.3 段落文本 p</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% p 样式参数(参数以空格划分), 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>字体</code>: logo, code</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>大小</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>对齐方向</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> 彩色文字</span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% p red, 红色 %&#125;、&#123;% p yellow, 黄色 %&#125;、&#123;% p green, 绿色 %&#125;、&#123;% p cyan, 青色 %&#125;、&#123;% p blue, 蓝色 %&#125;、&#123;% p gray, 灰色 %&#125;。</span><br><span class="line"><span class="bullet">-</span> 超大号文字</span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line">&#123;% p center logo large, Volantis %&#125;</span><br><span class="line">&#123;% p center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><ul><li>彩色文字<br>在一段话中方便插入各种颜色的标签，包括：<p class='p red'>红色</p>、<p class='p yellow'>黄色</p>、<p class='p green'>绿色</p>、<p class='p cyan'>青色</p>、<p class='p blue'>蓝色</p>、<p class='p gray'>灰色</p>。</li><li>超大号文字<br>文档「开始」页面中的标题部分就是超大号文字。</li></ul><p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-4-引用note">2.4 引用note</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">通用配置</button></li><li class="tab"><button type="button" data-href="#分栏-2">语法格式</button></li><li class="tab"><button type="button" data-href="#分栏-3">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-4">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-5">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line">  border<span class="emphasis">_radius: 3</span></span><br><span class="line"><span class="emphasis">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line"><span class="emphasis">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="emphasis">  light_</span>bg<span class="emphasis">_offset: 0</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 自带icon</span></span><br><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"><span class="section"># 外部icon</span></span><br><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.自带icon</p><table><thead><tr><th>参数</th><th style="text-align:center">用法</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">【可选】标识，不同的标识有不同的配色 （ default / primary / success / info / warning / danger ）</td></tr><tr><td>no-icon</td><td style="text-align:center">【可选】不显示 icon</td></tr><tr><td>style</td><td style="text-align:center">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table><p>2.外部icon</p><table><thead><tr><th>参数</th><th style="text-align:center">用法</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">【可选】标识，不同的标识有不同的配色 （ default / blue / pink / red / purple / orange / green ）</td></tr><tr><td>no-icon</td><td style="text-align:center">【可选】可配置自定义 icon (只支持 fontawesome 图标, 也可以配置 no-icon )</td></tr><tr><td>style</td><td style="text-align:center">【可选】可以覆盖配置中的 style （simple/modern/flat/disabled）</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><details class="folding-tag" blue><summary> 1.自带icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note flat %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note disabled %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger no-icon %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" blue><summary> 2.外部icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>样式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue no-icon %&#125;2021年快到了....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink no-icon %&#125;小心开车 安全至上&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red no-icon %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple no-icon %&#125;剪刀石头布&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green no-icon %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-5"><details class="folding-tag" blue><summary> 1.自带icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div>2.`modern`样式<div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div><p>3.<code>flat</code>样式</p><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div><p>4.<code>disabled</code>样式</p><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div><p>5.<code>no-icon</code>样式</p><div class="note no-icon flat"><p>默认 提示块标签</p></div><div class="note default no-icon flat"><p>default 提示块标签</p></div><div class="note primary no-icon flat"><p>primary 提示块标签</p></div><div class="note success no-icon flat"><p>success 提示块标签</p></div><div class="note info no-icon flat"><p>info 提示块标签</p></div><div class="note warning no-icon flat"><p>warning 提示块标签</p></div><div class="note danger no-icon flat"><p>danger 提示块标签</p></div>              </div>            </details><details class="folding-tag" blue><summary> 2.外部icon </summary>              <div class='content'>              <p>1.<code>simple</code>样式</p><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>2.<code>modern</code>样式</p><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>3.<code>flat</code>样式</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>4.<code>disabled</code>样式</p><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><p>5.<code>no-icon</code>样式</p><div class="note no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue no-icon flat"><p>2021年快到了…</p></div><div class="note pink no-icon flat"><p>小心开车 安全至上</p></div><div class="note red no-icon flat"><p>这是三片呢？还是四片？</p></div><div class="note orange no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple no-icon flat"><p>剪刀石头布</p></div><div class="note green no-icon flat"><p>前端最讨厌的浏览器</p></div>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-5-上标标签-tip">2.5 上标标签 tip</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [参数，可选] %&#125;文本内容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>样式</code>: success,error,warning,bolt,ban,home,sync,cogs,key,bell</li><li><code>自定义图标</code>: 支持fontawesome。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip %&#125;default&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip info %&#125;info&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;自定义font awesome图标&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="tip "><p>default</p></div><div class="tip info"><p>info</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>自定义font awesome图标</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-6-动态标签-anima">2.6 动态标签 anima</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [参数，可选] %&#125;文本内容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><div class="note info flat"><ol><li>将所需的CSS类添加到图标（或DOM中的任何元素）。</li><li>对于父级悬停样式，需要给目标元素添加指定CSS类，同时还要给目标元素的父级元素添加CSS类<code>faa-parent animated-hover</code>。（详情见示例及示例源码）<br>You can regulate the speed of the animation by adding the CSS class or . faa-fastfaa-slow</li><li>可以通过给目标元素添加CSS类<code>faa-fast</code>或<code>faa-slow</code>来控制动画快慢。</li></ol></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.On DOM load（当页面加载时显示动画）</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>2.调整动画速度</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>3.On hover（当鼠标悬停时显示动画）</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>4.On parent hover（当鼠标悬停在父级元素时显示动画）</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-horizontal&quot;</span>&gt;</span></span>warning<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-flash&quot;</span>&gt;</span></span>ban<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.On DOM load（当页面加载时显示动画）</p><div class="tip warning faa-horizontal animated"><p>warning</p></div><div class="tip ban faa-flash animated"><p>ban</p></div>2.调整动画速度<div class="tip warning faa-horizontal animated faa-fast"><p>warning</p></div><div class="tip ban faa-flash animated faa-slow"><p>ban</p></div>3.On hover（当鼠标悬停时显示动画）<div class="tip warning faa-horizontal animated-hover"><p>warning</p></div><div class="tip ban faa-flash animated-hover"><p>ban</p></div>4.On parent hover（当鼠标悬停在父级元素时显示动画）<div class="tip warning faa-parent animated-hover"><p class="faa-horizontal">warning</p></div><div class="tip ban faa-parent animated-hover"><p class="faa-flash">ban</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-7-复选列表-checkbox">2.7 复选列表 checkbox</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>样式</code>: plus, minus, times</li><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>选中状态</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 纯文本测试 %&#125;</span><br><span class="line">&#123;% checkbox checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% checkbox red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% checkbox green checked, 绿色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, 黄色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, 青色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox blue checked, 蓝色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, 增加 %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, 减少 %&#125;</span><br><span class="line">&#123;% checkbox times red checked, 叉 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-8-单选列表-radio">2.8 单选列表 radio</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>颜色</code>: red,yellow,green,cyan,blue,gray</li><li><code>选中状态</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 纯文本测试 %&#125;</span><br><span class="line">&#123;% radio checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% radio red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% radio green, 绿色 %&#125;</span><br><span class="line">&#123;% radio yellow, 黄色 %&#125;</span><br><span class="line">&#123;% radio cyan, 青色 %&#125;</span><br><span class="line">&#123;% radio blue, 蓝色 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-9-时间轴-timeline">2.9 时间轴 timeline</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间线标题（可选）[,color] %&#125;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>title</code>:标题/时间线</li><li><code>color</code>:<code>timeline</code>颜色:default(留空) / blue / pink / red / purple / orange / green</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间轴样式,blue %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 如果有 <span class="code">`hexo-lazyload-image`</span> 插件，需要删除并重新安装最新版本，设置 <span class="code">`lazyload.isSPA: true`</span>。</span><br><span class="line"><span class="bullet">2.</span> 2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <span class="code">`use_cdn: true`</span> 则需要删除。</span><br><span class="line"><span class="bullet">3.</span> 2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</span><br><span class="line"><span class="bullet">4.</span> 2.x 版本的置顶 <span class="code">`top: true`</span> 改为了 <span class="code">`pin: true`</span>，并且同样适用于 <span class="code">`layout: page`</span> 的页面。</span><br><span class="line"><span class="bullet">5.</span> 如果使用了 <span class="code">`hexo-offline`</span> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) --&gt;</span><br><span class="line"></span><br><span class="line">不需要额外处理。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 全局搜索 <span class="code">`seotitle`</span> 并替换为 <span class="code">`seo_title`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的索引规则有变，使用 group 组件的文章内，<span class="code">`group: group_name`</span> 对应的组件名必须是 <span class="code">`group_name`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的列表名优先显示文章的 <span class="code">`short_title`</span> 其次是 <span class="code">`title`</span>。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>不需要额外处理。</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-10-链接卡片-link">2.10 链接卡片 link</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 标题, 链接, 图片链接（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 糖果屋教程贴, https://akilar.top/posts/615e2dec/, https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class="tag link"><a class="link-card" title="糖果屋教程贴" href="https://akilar.top/posts/615e2dec/"><div class="left"><img src="https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico"/></div><div class="right"><p class="text">糖果屋教程贴</p><p class="url">https://akilar.top/posts/615e2dec/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-11-按钮-btns">2.11 按钮 btns</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns 样式参数 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li>圆角样式：rounded, circle</li><li>增加文字样式：可以在容器内增加 <code>&lt;b&gt;</code>标题<code>&lt;/b&gt;</code>和<code>&lt;p&gt;</code>描述文字<code>&lt;/p&gt;</code></li><li>布局方式：<br>默认为自动宽度，适合视野内只有一两个的情况。</li></ol><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>wide</td><td>宽一点的按钮</td></tr><tr><td>fill</td><td>填充布局，自动铺满至少一行，多了会换行</td></tr><tr><td>center</td><td>居中，按钮之间是固定间距</td></tr><tr><td>around</td><td>居中分散</td></tr><tr><td>grid2</td><td>等宽最多2列，屏幕变窄会适当减少列数</td></tr><tr><td>grid3</td><td>等宽最多3列，屏幕变窄会适当减少列数</td></tr><tr><td>grid4</td><td>等宽最多4列，屏幕变窄会适当减少列数</td></tr><tr><td>grid5</td><td>等宽最多5列，屏幕变窄会适当减少列数</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.如果需要显示类似「团队成员」之类的一组含有头像的链接</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle grid5 %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>2.或者含有图标的按钮</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell 下载源码, /, fas fa-download %&#125;</span><br><span class="line">&#123;% cell 查看文档, /, fas fa-book-open %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>3.圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle center grid5 %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p red, 专业版 %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p green, 免费版 %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.如果需要显示类似「团队成员」之类的一组含有头像的链接</p><div class="btns circle grid5">            <a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a>          </div>2.或者含有图标的按钮<div class="btns rounded grid5">            <a class="button" href='/' title='下载源码'><i class='fas fa-download'></i>下载源码</a><a class="button" href='/' title='查看文档'><i class='fas fa-book-open'></i>查看文档</a>          </div>3.圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中<div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p red'>专业版</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p green'>免费版</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png'></a>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-12-github卡片-ghcard">2.12 github卡片 ghcard</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% ghcard 用户名, 其它参数（可选） %&#125;</span><br><span class="line">&#123;% ghcard 用户名/仓库, 其它参数（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><p>使用<code>,</code>分割各个参数。写法为：<code>参数名=参数值</code><br>以下只写几个常用参数值。</p><table><thead><tr><th><strong>参数名</strong></th><th>取值</th><th>释义</th></tr></thead><tbody><tr><td>hide</td><td>stars,commits,prs,issues,contribs</td><td>隐藏指定统计</td></tr><tr><td>count_private</td><td>true</td><td>将私人项目贡献添加到总提交计数中</td></tr><tr><td>show_icons</td><td>true</td><td>显示图标</td></tr><tr><td>theme</td><td>查阅:<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/themes/README.md">Available Themes</a></td><td>主题</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.用户信息卡片</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard fomalhaut1998 %&#125; | &#123;% ghcard fomalhaut1998, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=buefy %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=onedark %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=algolia %&#125; | &#123;% ghcard fomalhaut1998, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><p>2.仓库信息卡片</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=buefy %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=onedark %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=algolia %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.用户信息卡片</p><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=calm&show_owner=true"/></a></td></tr></tbody></table><p>2.仓库信息卡片</p><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true"/></a></td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-13-github徽标-ghbdage">2.13 github徽标 ghbdage</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage [right],[left],[logo]||[color],[link],[title]||[option] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>left</code>：徽标左边的信息，必选参数。</li><li><code>right</code>: 徽标右边的信息，必选参数，</li><li><code>logo</code>：徽标图标，图标名称详见<a href="https://simpleicons.org/">simpleicons</a>，可选参数。</li><li><code>color</code>：徽标右边的颜色，可选参数。</li><li><code>link</code>：指向的链接，可选参数。</li><li><code>title</code>：徽标的额外信息，可选参数。主要用于优化SEO，但<code>object</code>标签不会像<code>a</code>标签一样在鼠标悬停显示<code>title</code>信息。</li><li><code>option</code>：自定义参数，支持<a href="https://shields.io/">shields.io</a>的全部API参数支持，具体参数可以参看上文中的拓展写法示例。形式为<code>name1=value2&amp;name2=value2</code>。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.基本参数,定义徽标左右文字和图标</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Theme,Butterfly %&#125;</span><br><span class="line">&#123;% bdage Frame,Hexo,hexo %&#125;</span><br></pre></td></tr></table></figure><p>2.信息参数，定义徽标右侧内容背景色，指向链接</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage CDN,JsDelivr,jsDelivr||abcdef,https://metroui.org.ua/index.html,本站使用JsDelivr为静态资源提供CDN加速 %&#125;</span><br><span class="line">//如果是跨顺序省略可选参数，仍然需要写个逗号,用作分割</span><br><span class="line">&#123;% bdage Source,GitHub,GitHub||,https://github.com/ %&#125;</span><br></pre></td></tr></table></figure><p>3.拓展参数，支持shields的API的全部参数内容</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Hosted,Vercel,Vercel||brightgreen,https://vercel.com/,本站采用双线部署，默认线路托管于Vercel||style=social&amp;logoWidth=20 %&#125;</span><br><span class="line">//如果是跨顺序省略可选参数组，仍然需要写双竖线||用作分割</span><br><span class="line">&#123;% bdage Hosted,Vercel,Vercel||||style=social&amp;logoWidth=20&amp;logoColor=violet %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.基本参数,定义徽标左右文字和图标</p><p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Butterfly-Theme-orange?logo=&color=orange&link=&"></object><br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Hexo-Frame-orange?logo=hexo&color=orange&link=&"></object></p><p>2.信息参数，定义徽标右侧内容背景色，指向链接</p><p><object class="ghbdage" style="margin-inline:5px" title="本站使用JsDelivr为静态资源提供CDN加速" standby="loading..." data="https://img.shields.io/badge/JsDelivr-CDN-orange?logo=jsDelivr&color=abcdef&link=https://metroui.org.ua/index.html&"></object><br>//如果是跨顺序省略可选参数，仍然需要写个逗号,用作分割<br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/GitHub-Source-orange?logo=GitHub&color=orange&link=https://github.com/&"></object></p><p>3.拓展参数，支持shields的API的全部参数内容</p><p><object class="ghbdage" style="margin-inline:5px" title="本站采用双线部署，默认线路托管于Vercel" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=brightgreen&link=https://vercel.com/&style=social&logoWidth=20"></object><br>//如果是跨顺序省略可选参数组，仍然需要写双竖线||用作分割<br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=orange&link=&style=social&logoWidth=20&logoColor=violet"></object></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-14-网站卡片-sites">2.14 网站卡片 sites</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png, description=简约风格 %&#125;</span><br><span class="line">&#123;% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class="site-card-group"><a class="site-card" href="https://fomalhaut1998.com"><div class="img"><img src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png"/><span class="title">fomalhaut1998</span><span class="desc">简约风格</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg"/><span class="title">inkss</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-15-行内图片-inlineimage">2.15 行内图片 inlineimage</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineimage 图片链接, height=高度（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>高度</code>：height=20px</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif %&#125; 一段话。</span><br><span class="line"></span><br><span class="line">这又是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif, height=40px %&#125; 一段话。</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>这是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> 一段话。</p><p>这又是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> 一段话。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-16-单张图片-image">2.16 单张图片 image</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image 链接, width=宽度（可选）, height=高度（可选）, alt=描述（可选）, bg=占位颜色（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li>图片宽度高度：width=300px, height=32px</li><li>图片描述：alt=图片描述（butterfly需要在主题配置文件中开启图片描述）</li><li>占位背景色：bg=#f2f2f2</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.添加描述：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br></pre></td></tr></table></figure><p>2.指定宽度</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px %&#125;</span><br></pre></td></tr></table></figure><p>3.指定宽度并添加描述：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br></pre></td></tr></table></figure><p>4.设置占位背景色：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, bg=#1D0C04, alt=优化不同宽度浏览的观感 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.添加描述：</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div>2..指定宽度<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" style="width:400px;"/></div></div>3.指定宽度并添加描述：<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="每天下课回宿舍的路，没有什么故事。" style="width:400px;"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div>4.设置占位背景色：<div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="优化不同宽度浏览的观感" style="width:400px;"/></div><span class="image-caption">优化不同宽度浏览的观感</span></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-17-音频-audio">2.17 音频 audio</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio 音频链接 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-18-视频-video">2.18 视频 video</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video 视频链接 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>对齐方向</code>：left, center, right</li><li><code>列数</code>：逗号后面直接写列数，支持 1 ～ 4 列。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.100%宽度</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure><p>2.50%宽度</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 2 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><p>3.25%宽度</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 4 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.100%宽度</p><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div>2.50%宽度<div class="videos" col='2'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div>3.25%宽度<div class="videos" col='4'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-19-相册-gallery">2.19 相册 gallery</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><p>1.gallerygroup 相册图库</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery 相册</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 圖片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ul><li>gallerygroup 相册图库</li></ul><table><thead><tr><th>参数名</th><th>释义</th></tr></thead><tbody><tr><td>name</td><td>图库名字</td></tr><tr><td>description</td><td>图库描述</td></tr><tr><td>link</td><td>链接到对应相册的地址</td></tr><tr><td>img-url</td><td>图库封面</td></tr></tbody></table><ul><li><p>gallery 相册</p><p>区别于旧版的Gallery相册,新的Gallery相册会自动根据图片长度进行排版，书写也更加方便，与markdown格式一样。可根据需要插入到相应的md。无需再自己配置长宽。<strong>建议在粘贴时故意使用长短、大小、横竖不一的图片</strong>，会有更好的效果。（尺寸完全相同的图片只会平铺输出，效果很糟糕）</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.gallerygroup 相册图库</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup MC 在Rikkaの六花服务器里留下的足迹 &#x27;/gallery/MC/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup Gundam 哦咧哇gundam哒！ &#x27;/gallery/Gundam/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png %&#125;</span><br><span class="line">&#123;% galleryGroup I-am-Akilar 某种意义上也算自拍吧 &#x27;/gallery/I-am-Akilar/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery 相册</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg</span>)</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.gallerygroup 相册图库</p><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">MC</div>  <p>在Rikkaの六花服务器里留下的足迹</p>  <a href='/gallery/MC/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Gundam</div>  <p>哦咧哇gundam哒！</p>  <a href='/gallery/Gundam/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">I-am-Akilar</div>  <p>某种意义上也算自拍吧</p>  <a href='/gallery/I-am-Akilar/'></a>  </figcaption>  </figure></div>2.gallery 相册<div class="fj-gallery"><p><img src="https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg" alt=""></p>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-20-折叠框-folding">2.20 折叠框 folding</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><p>1.gallerygroup 相册图库</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 参数（可选）, 标题 %&#125;</span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><!-- tab 参数配置 --><ol><li><p><code>颜色</code>：blue, cyan, green, yellow, red</p></li><li><p><code>状态</code>：状态填写 open 代表默认打开。</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 查看图片测试 %&#125;</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, 查看默认打开的折叠框 %&#125;</span><br><span class="line"></span><br><span class="line">这是一个默认打开的折叠框。</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, 查看代码测试 %&#125;</span><br><span class="line">假装这里有代码块（代码块没法嵌套代码块）</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, 查看列表测试 %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> haha</span><br><span class="line"><span class="bullet">-</span> hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, 查看嵌套测试 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, 查看嵌套测试2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding 查看嵌套测试3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><details class="folding-tag" ><summary> 查看图片测试 </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" alt=""></p>              </div>            </details><details class="folding-tag" cyan open><summary> 查看默认打开的折叠框 </summary>              <div class='content'>              <p>这是一个默认打开的折叠框。</p>              </div>            </details><details class="folding-tag" green><summary> 查看代码测试 </summary>              <div class='content'>              <p>假装这里有代码块（代码块没法嵌套代码块）</p>              </div>            </details><details class="folding-tag" yellow><summary> 查看列表测试 </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details class="folding-tag" red><summary> 查看嵌套测试 </summary>              <div class='content'>              <details class="folding-tag" blue><summary> 查看嵌套测试2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> 查看嵌套测试3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-21-分栏-tab">2.21 分栏 tab</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">配置参数</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><p>Unique name :</p><ul><li><p>选项卡块标签的唯一名称，不带逗号。</p></li><li><p>将在#id中用作每个标签及其索引号的前缀。</p></li><li><p>如果名称中包含空格，则对于生成#id，所有空格将由破折号代替。</p></li><li><p>仅当前帖子/页面的URL必须是唯一的！</p></li></ul></li><li><p>[index]:</p><ul><li><p>活动选项卡的索引号。</p></li><li><p>如果未指定，将选择第一个标签（1）。</p></li><li><p>如果index为-1，则不会选择任何选项卡。</p></li><li><p>可选参数。</p></li></ul></li><li><p>[Tab caption]:</p><ul><li><p>当前选项卡的标题。</p></li><li><p>如果未指定标题，则带有制表符索引后缀的唯一名称将用作制表符的标题。</p></li><li><p>如果未指定标题，但指定了图标，则标题将为空。</p></li><li><p>可选参数。</p></li></ul></li><li><p>[@icon]:</p><ul><li><p>FontAwesome图标名称（全名，看起来像“ fas fa-font”）</p></li><li><p>可以指定带空格或不带空格；</p></li><li><p>例如’Tab caption @icon’ 和 ‘Tab caption@icon’.</p></li><li><p>可选参数。</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.Demo 1 - 预设选择第一个【默认】</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>2.Demo 2 - 预设选择tabs</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>3.Demo 3 - 没有预设值</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>4.Demo 4 - 自定义Tab名 + 只有icon + icon和Tab名</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.Demo 1 - 预设选择第一个【默认】</p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>2.Demo 2 - 预设选择tabs</p><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>3.Demo 3 - 没有预设值</p><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>4.Demo 4 - 自定义Tab名 + 只有icon + icon和Tab名</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-22-诗词标签-poem">2.22 诗词标签 poem</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-2">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-3">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><ol><li><code>title</code>：诗词标题</li><li><code>author</code>：作者，可以不写</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem 水调歌头,苏轼 %&#125;</span><br><span class="line">丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。</span><br><span class="line">明月几时有？把酒问青天。</span><br><span class="line">不知天上宫阙，今夕是何年？</span><br><span class="line">我欲乘风归去，又恐琼楼玉宇，高处不胜寒。</span><br><span class="line">起舞弄清影，何似在人间？</span><br><span class="line"></span><br><span class="line">转朱阁，低绮户，照无眠。</span><br><span class="line">不应有恨，何事长向别时圆？</span><br><span class="line">人有悲欢离合，月有阴晴圆缺，此事古难全。</span><br><span class="line">但愿人长久，千里共婵娟。</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><div class='poem'><div class='poem-title'>水调歌头</div><div class='poem-author'>苏轼</div><p>丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。<br>明月几时有？把酒问青天。<br>不知天上宫阙，今夕是何年？<br>我欲乘风归去，又恐琼楼玉宇，高处不胜寒。<br>起舞弄清影，何似在人间？</p><p>转朱阁，低绮户，照无眠。<br>不应有恨，何事长向别时圆？<br>人有悲欢离合，月有阴晴圆缺，此事古难全。<br>但愿人长久，千里共婵娟。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-23-阿里图标-icon">2.23 阿里图标 icon</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon [icon-xxxx],[font-size] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>icon-xxxx</code>：表示图标<code>font-class</code>,可以在自己的阿里矢量图标库项目的<code>font-class</code>引用方案内查询并复制。</li><li><code>font-size</code>：表示图标大小，直接填写数字即可，单位为<code>em</code>。图标大小默认值为<code>1em</code>。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon icon-rat<span class="emphasis">_zi %&#125;&#123;% icon icon-rat,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-ox_</span>chou,3 %&#125;&#123;% icon icon-ox,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-tiger<span class="emphasis">_yin,5 %&#125;&#123;% icon icon-tiger,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rabbit_</span>mao,1 %&#125;&#123;% icon icon-rabbit,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dragon<span class="emphasis">_chen,3 %&#125;&#123;% icon icon-dragon,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-snake_</span>si,5 %&#125;&#123;% icon icon-snake,6 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-horse<span class="emphasis">_wu %&#125;&#123;% icon icon-horse,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-goat_</span>wei,3 %&#125;&#123;% icon icon-goat,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-monkey<span class="emphasis">_shen,5 %&#125;&#123;% icon icon-monkey,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rooster_</span>you %&#125;&#123;% icon icon-rooster,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dog<span class="emphasis">_xu,3 %&#125;&#123;% icon icon-dog,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-boar_</span>hai,5 %&#125;&#123;% icon icon-boar,6 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rat_zi"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rat"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-ox_chou"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-ox"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-tiger_yin"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-tiger"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rabbit_mao"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rabbit"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dragon_chen"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dragon"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-snake_si"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-snake"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-horse_wu"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-horse"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-goat_wei"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-goat"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-monkey_shen"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-monkey"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rooster_you"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rooster"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dog_xu"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dog"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-boar_hai"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-boar"></use></svg></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-24-特效标签wow">2.24 特效标签wow</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-2">渲染演示</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow [animete],[duration],[delay],[offset],[iteration] %&#125;</span><br><span class="line">内容</span><br><span class="line">&#123;% endwow %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>animate</code>: 动画样式，效果详见<a href="https://animate.style/">animate.css参考文档</a></li><li><code>duration</code>: 选填项，动画持续时间，单位可以是<code>ms</code>也可以是<code>s</code>。例如<code>3s</code>，<code>700ms</code>。</li><li><code>delay</code>: 选填项，动画开始的延迟时间，单位可以是<code>ms</code>也可以是<code>s</code>。例如<code>3s</code>，<code>700ms</code>。</li><li><code>offset</code>: 选填项，开始动画的距离（相对浏览器底部）</li><li><code>iteration</code>: 选填项，动画重复的次数</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><p>1.flip动画效果。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`动画效果，持续`5s`，延时`5s`，离底部`100`距离时启动，重复`10`次</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>2.zoomIn动画效果，持续5s，延时5s，离底部100距离时启动，重复10次</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`动画效果，持续`5s`，延时`5s`，离底部`100`距离时启动，重复`10`次</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>3.slideInRight动画效果，持续5s，延时5s</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__slideInRight,5s,5s %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note orange &#x27;fas fa-car&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`slideInRight`动画效果，持续`5s`，延时`5s`。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>4.heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__heartBeat,,5s,,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note red &#x27;fas fa-battery-half&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`heartBeat`动画效果，延时`5s`，重复`10`次。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>1.flip动画效果。</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>动画效果，持续<code>5s</code>，延时<code>5s</code>，离底部<code>100</code>距离时启动，重复<code>10</code>次</p></div></div><p>2.zoomIn动画效果，持续5s，延时5s，离底部100距离时启动，重复10次</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>动画效果，持续<code>5s</code>，延时<code>5s</code>，离底部<code>100</code>距离时启动，重复<code>10</code>次</p></div></div><p>3.slideInRight动画效果，持续5s，延时5s</p><div class='wow animate__slideInRight' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-car"></i><p><code>slideInRight</code>动画效果，持续<code>5s</code>，延时<code>5s</code>。</p></div></div><p>4.heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔。</p><div class='wow animate__heartBeat' data-wow-duration='' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='10' ><div class="note red icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p><code>heartBeat</code>动画效果，延时<code>5s</code>，重复<code>10</code>次。</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-25-进度条-progress">2.25  进度条 progress</h2><div class="note info flat"><p>进度条标签参考<a href="https://rongbuqiu.com/jdt.html">沂佰孜猫-给HEXO文章添加彩色进度条</a>。<br>源样式提取自<a href="https://zwying0814.gitbook.io/cuteen/">Cuteen</a>主题。</p></div><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-2">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress [width] [color] [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>width</code>: 0到100的阿拉伯数字</li><li><code>color</code>: 颜色，取值有red,yellow,green,cyan,blue,gray</li><li><code>text</code>:进度条上的文字内容</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress 10 red 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 30 yellow 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 50 green 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 70 cyan 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 90 blue 进度条样式预览 %&#125;</span><br><span class="line">&#123;% progress 100 gray 进度条样式预览 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-26-注释-notation">2.26 注释 notation</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota [label] , [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><p><code>label</code>: 注释词汇</p></li><li><p><code>text</code>: 悬停显示的注解内容</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota 把鼠标移动到我上面试试 ,可以看到注解内容出现在顶栏 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p><span class='nota' data-nota='可以看到注解内容出现在顶栏'>把鼠标移动到我上面试试</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-27-气泡注释-bubble">2.27 气泡注释 bubble</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bubble [content] , [notation] ,[background-color] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>content</code>: 注释词汇</li><li><code>notation</code>: 悬停显示的注解内容</li><li><code>background-color</code>: 可选，气泡背景色。默认为“#71a4e3”</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的&#123;% bubble 兄弟相邻选择器,&quot;例如 h1 + p &#123;margin-top:50px;&#125;&quot; %&#125;，&#123;% bubble flex布局,&quot;Flex 是 Flexible Box 的缩写，意为&quot;弹性布局&quot;，用来为盒状模型提供最大的灵活性&quot;,&quot;#ec5830&quot; %&#125;，&#123;% bubble transform变换,&quot;transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。&quot;,&quot;#1db675&quot; %&#125;，animation的&#123;% bubble 贝塞尔速度曲线,&quot;贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋&quot;,&quot;#de4489&quot; %&#125;写法，还有今天刚看到的&#123;% bubble clip-path,&quot;clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。&quot;,&quot;#868fd7&quot; %&#125;属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>最近我学到了不少新玩意儿（虽然对很多大佬来说这些已经是旧技术了），比如CSS的<span class="bubble-content">兄弟相邻选择器</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">例如 h1 + p {margin-top:50px;}</span></span>，<span class="bubble-content">flex布局</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#ec5830;">Flex 是 Flexible Box 的缩写，意为弹性布局&quot;，用来为盒状模型提供最大的灵活性&quot;</span></span>，<span class="bubble-content">transform变换</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#1db675;">transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。</span></span>，animation的<span class="bubble-content">贝塞尔速度曲线</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#de4489;">贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝兹曲线由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋</span></span>写法，还有今天刚看到的<span class="bubble-content">clip-path</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#868fd7;">clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。</span></span>属性。这些对我来说很新颖的概念狠狠的冲击着我以前积累起来的设计思路。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-28-引用文献-reference">2.28 引用文献 reference</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% referto [id] , [literature] %&#125;</span><br><span class="line">&#123;% referfrom [id] , [literature] , [url] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><p>referto 引用上标</p><ul><li><p><code>id</code>: 上标序号内容，需与referfrom标签的id对应才能实现跳转</p></li><li><p><code>literature</code>: 引用的参考文献名称</p></li></ul></li><li><p>referfrom 引用出处</p><ul><li><p><code>id</code>: 序号内容，需与referto标签的id对应才能实现 跳转</p></li><li><p><code>literature</code>: 引用的参考文献名称</p></li><li><p><code>url</code>: 引用的参考文献链接，可省略</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Akilarの糖果屋(akilar.top)是一个私人性质的博客&#123;% referto &#x27;[1]&#x27;,&#x27;Akilarの糖果屋群聊简介&#x27; %&#125;，从各类教程至生活点滴，无话不谈。建群的目的是提供一个闲聊的场所。博客采用Hexo框架&#123;% referto &#x27;[2]&#x27;,&#x27;Hexo中文文档&#x27; %&#125;，Butterfly主题&#123;% referto &#x27;[3]&#x27;,&#x27;Butterfly 安装文档(一) 快速开始&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">本项目参考了Volantis&#123;% referto &#x27;[4]&#x27;,&#x27;hexo-theme-volantis 标签插件&#x27; %&#125;的标签样式。引入<span class="code">`[tag].js`</span>，并针对<span class="code">`butterfly`</span>主题修改了相应的<span class="code">`[tag].styl`</span>。在此鸣谢<span class="code">`Volantis`</span>主题众开发者。</span><br><span class="line">主要参考内容包括各个volantis的内置标签插件文档&#123;% referto &#x27;[5]&#x27;,&#x27;Volantis文档:内置标签插件&#x27; %&#125;</span><br><span class="line">Butterfly主题的各个衍生魔改&#123;% referto &#x27;[6]&#x27;,&#x27;Butterfly 安装文档:标签外挂（Tag Plugins&#x27; %&#125;&#123;% referto &#x27;[7]&#x27;,&#x27;小弋の生活馆全样式预览&#x27; %&#125;&#123;% referto &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27; %&#125;&#123;% referto &#x27;[9]&#x27;,&#x27;小康的butterfly主题使用文档&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% referfrom &#x27;[1]&#x27;,&#x27;Akilarの糖果屋群聊简介&#x27;,&#x27;https://jq.qq.com/?<span class="emphasis">_wv=1027&amp;k=pGLB2C0N&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[2]&#x27;,&#x27;Hexo中文文档&#x27;,&#x27;https://hexo.io/zh-cn/docs/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[3]&#x27;,&#x27;Butterfly 安装文档(一) 快速开始&#x27;,&#x27;https://butterfly.js.org/posts/21cfbf15/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[4]&#x27;,&#x27;hexo-theme-volantis 标签插件&#x27;,&#x27;https://volantis.js.org/v5/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[5]&#x27;,&#x27;Volantis文档:内置标签插件&#x27;,&#x27;https://volantis.js.org/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[6]&#x27;,&#x27;Butterfly 安装文档:标签外挂（Tag Plugins&#x27;,&#x27;https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[7]&#x27;,&#x27;小弋の生活馆全样式预览&#x27;,&#x27;https://lovelijunyi.gitee.io/posts/c898.html&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27;,&#x27;https://github.com/l-lin/font-awesome-animation&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[9]&#x27;,&#x27;小康的butterfly主题使用文档&#x27;,&#x27;https://www.antmoe.com/posts/3b43914f/&#x27; %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>Akilarの糖果屋(akilar.top)是一个私人性质的博客<span class="hidden-anchor" id="referto_[1]"></span><sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Akilarの糖果屋群聊简介</span><span class="reference-title">参考资料</span></span></span>，从各类教程至生活点滴，无话不谈。建群的目的是提供一个闲聊的场所。博客采用Hexo框架<span class="hidden-anchor" id="referto_[2]"></span><sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Hexo中文文档</span><span class="reference-title">参考资料</span></span></span>，Butterfly主题<span class="hidden-anchor" id="referto_[3]"></span><sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly 安装文档(一) 快速开始</span><span class="reference-title">参考资料</span></span></span></p><p>本项目参考了Volantis<span class="hidden-anchor" id="referto_[4]"></span><sup class="reference"><a href="#referfrom_[4]">[4]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hexo-theme-volantis 标签插件</span><span class="reference-title">参考资料</span></span></span>的标签样式。引入<code>[tag].js</code>，并针对<code>butterfly</code>主题修改了相应的<code>[tag].styl</code>。在此鸣谢<code>Volantis</code>主题众开发者。<br>主要参考内容包括各个volantis的内置标签插件文档<span class="hidden-anchor" id="referto_[5]"></span><sup class="reference"><a href="#referfrom_[5]">[5]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Volantis文档:内置标签插件</span><span class="reference-title">参考资料</span></span></span><br>Butterfly主题的各个衍生魔改<span class="hidden-anchor" id="referto_[6]"></span><sup class="reference"><a href="#referfrom_[6]">[6]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly 安装文档:标签外挂（Tag Plugins</span><span class="reference-title">参考资料</span></span></span><span class="hidden-anchor" id="referto_[7]"></span><sup class="reference"><a href="#referfrom_[7]">[7]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">小弋の生活馆全样式预览</span><span class="reference-title">参考资料</span></span></span><span class="hidden-anchor" id="referto_[8]"></span><sup class="reference"><a href="#referfrom_[8]">[8]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">l-lin-font-awesome-animation</span><span class="reference-title">参考资料</span></span></span><span class="hidden-anchor" id="referto_[9]"></span><sup class="reference"><a href="#referfrom_[9]">[9]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">小康的butterfly主题使用文档</span><span class="reference-title">参考资料</span></span></span></p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://jq.qq.com/?_wv=1027&k=pGLB2C0N">Akilarの糖果屋群聊简介</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://hexo.io/zh-cn/docs/">Hexo中文文档</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 安装文档(一) 快速开始</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[4]"></span><a class="reference-anchor" href="#referto_[4]">[4]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/v5/tag-plugins/">hexo-theme-volantis 标签插件</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[5]"></span><a class="reference-anchor" href="#referto_[5]">[5]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/tag-plugins/">Volantis文档:内置标签插件</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[6]"></span><a class="reference-anchor" href="#referto_[6]">[6]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">Butterfly 安装文档:标签外挂（Tag Plugins</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[7]"></span><a class="reference-anchor" href="#referto_[7]">[7]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://lovelijunyi.gitee.io/posts/c898.html">小弋の生活馆全样式预览</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[8]"></span><a class="reference-anchor" href="#referto_[8]">[8]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://github.com/l-lin/font-awesome-animation">l-lin-font-awesome-animation</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[9]"></span><a class="reference-anchor" href="#referto_[9]">[9]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.antmoe.com/posts/3b43914f/">小康的butterfly主题使用文档</a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-29-PDF展示">2.29 PDF展示</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf 文件路径 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li><code>文件路径</code>: 可以是相对路径或者是在线链接</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.本地文件:在md文件路径下创建一个同名文件夹，其内放pdf文件名为xxx.pdf的文件</span></span><br><span class="line">&#123;% pdf xxx.pdf %&#125;</span><br><span class="line"><span class="section"># 2.在线链接</span></span><br><span class="line">&#123;% pdf https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/小作文讲义.pdf %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><p>2.在线链接(要放到最外层才能起作用)</p><pre><code>&lt;div class=&quot;row&quot;&gt;&lt;embed src=&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/小作文讲义.pdf&quot; width=&quot;100%&quot; height=&quot;550&quot; type=&quot;application/pdf&quot;&gt;&lt;/div&gt;</code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-30-Hexo-tag-map-插件">2.30 Hexo-tag-map 插件</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% + 标签值 + 经度 + 纬度 + 文本 + 缩放等级 + 宽 + 高 + 默认图层 + %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><table><thead><tr><th style="text-align:center">地图名</th><th style="text-align:center">标签值 &lt;必填&gt;</th><th style="text-align:center">宽 (默认 100%) / 高 (默认 360px)</th><th style="text-align:center">缩放等级 (默认 14)</th><th style="text-align:center">宽 (默认 100%) / 高 (默认 360px)</th><th style="text-align:center">默认图层 (默认 1)</th></tr></thead><tbody><tr><td style="text-align:center">混合地图</td><td style="text-align:center">map</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 3~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~7</td></tr><tr><td style="text-align:center">谷歌地图</td><td style="text-align:center">googleMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~20</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~3</td></tr><tr><td style="text-align:center">高德地图</td><td style="text-align:center">gaodeMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 3~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~3</td></tr><tr><td style="text-align:center">百度地图</td><td style="text-align:center">baiduMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 4~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~2</td></tr><tr><td style="text-align:center">Geoq 地图</td><td style="text-align:center">geoqMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~5</td></tr><tr><td style="text-align:center">openstreet 地图</td><td style="text-align:center">openstreetMap</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">取值 1~18</td><td style="text-align:center">百分数或具体值 (100% 或 360px)</td><td style="text-align:center">不支持此参数</td></tr></tbody></table><ol><li>参数之间，用英文逗号相隔</li><li>参数必须按上述事例顺序输入，不得为空</li><li>同一个页面，同一组经纬度值，只能插入一个相同标签值的地图 (若有需要，可以将第二个地图上，经度或纬度末尾删除一两个数)</li><li>参数取值必须在上述范围内</li><li>默认图层：即地图叠加层的值，默认常规地图还是卫星地图，可按地图显示顺序取值</li><li>缩放等级，数字越大，地图比例尺越小，显示的越精细</li><li>除标签值外，其他参数选填，但 每个参数的左边的参数必填</li><li>谷歌地图需要外网才能加载查看</li></ol><p>坐标获取：<a href="https://lbs.amap.com/tools/picker">高德地图坐标拾取系统</a> 、<a href="https://api.map.baidu.com/lbsapi/getpoint/index.html">百度地图坐标拾取系统</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% map 120.101101,30.239119 %&#125;</span><br><span class="line">&#123;% googleMap 120.101101,30.239119, 这里是西湖灵隐寺，据说求姻缘很灵验哦！ %&#125;</span><br><span class="line">&#123;% geoqMap 120.101101,30.239119, 这里是西湖灵隐寺，据说求姻缘很灵验哦！, 13, 90%, 320px, 3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div class="map-box"><div id="map-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div></div><script type="text/javascript">var normalm=L.tileLayer.chinaProvider('GaoDe.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imgm=L.tileLayer.chinaProvider('GaoDe.Satellite.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imga=L.tileLayer.chinaProvider('GaoDe.Satellite.Annotion',{maxZoom:20,minZoom:1,attribution:'Amap'});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'});routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1,attribution:'Google Maps'});var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:21,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm]),image=L.layerGroup([imgm,imga]);var baseLayers={"高德地图":normal,"智图地图":normalm1,"谷歌地图":normalMap,"高德卫星地图":imgm,"谷歌卫星地图":satelliteMap,"高德卫星标注":image,"谷歌卫星标注":routeMap};var mymap=L.map('map-120.101101-30.239119',{center:[30.239119,120.101101],zoom:14,layers:[normal],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);</script><br><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="googleMap-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:22,minZoom:1,attribution:'Google Maps'});var baseLayers={"谷歌地图":normalMap,"谷歌卫星图":satelliteMap,"谷歌卫星标注": routeMap};var overlayLayers={};var mymap=L.map("googleMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:14,layers:[normalMap],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("这里是西湖灵隐寺，据说求姻缘很灵验哦！").openPopup();</script><br><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="geoqMap-120.101101-30.239119" style="max-width:90%; height:320px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm2=L.tileLayer.chinaProvider('Geoq.Normal.PurplishBlue',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm3=L.tileLayer.chinaProvider('Geoq.Normal.Gray',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm4=L.tileLayer.chinaProvider('Geoq.Normal.Warm',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm5=L.tileLayer.chinaProvider('Geoq.Theme.Hydro',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm1,normalm2,normalm3,normalm4,normalm5]);var baseLayers={"智图地图":normalm1,"午夜蓝":normalm2,"灰色":normalm3,"暖色":normalm4,"水系":normalm5};var mymap=L.map("geoqMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:13,layers:[normalm3],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("这里是西湖灵隐寺，据说求姻缘很灵验哦！").openPopup();</script><br><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-31-隐藏块">2.31 隐藏块</h2><div class="tabs" id="分栏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#分栏-1">标签语法</button></li><li class="tab"><button type="button" data-href="#分栏-2">参数配置</button></li><li class="tab"><button type="button" data-href="#分栏-3">示例源码</button></li><li class="tab"><button type="button" data-href="#分栏-4">渲染演示</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="分栏-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-2"><ol><li>content：要隐藏的内容</li><li>display：展示前按钮显示的文字（可选）</li><li>bg：按钮的背景颜色（可选）</li><li>color：按钮显示的文字的颜色（可选）</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock 点我预览, blue %&#125;</span><br><span class="line">这里有张图片：</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image (1)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:67%;&quot;</span> /&gt;</span></span></span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="分栏-4"><div class="hide-block"><button type="button" class="hide-button" style="background-color:  blue;">点我预览    </button><div class="hide-content"><p>这里有张图片：<br><img src="https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb" alt="image (1)" style="zoom:67%;" /></p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
    
    
    <summary type="html">🥧本文汇总Markdown格式以及外挂标签在网页端的渲染效果，可作为文档进行查询</summary>
    
    
    
    <category term="杂项" scheme="https://yanhool.github.io/categories/%E6%9D%82%E9%A1%B9/"/>
    
    
    <category term="Markdown" scheme="https://yanhool.github.io/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>动态规划</title>
    <link href="https://yanhool.github.io/posts/20221023d.html"/>
    <id>https://yanhool.github.io/posts/20221023d.html</id>
    <published>2022-08-09T10:19:03.000Z</published>
    <updated>2023-03-13T13:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>动态规划</h1><h2 id="1-背包问题">1. 背包问题</h2><p>背包问题：有 $N$ 个物品和一个容量为 $V$ 的背包，已知第 $i$ 个物品的价值为 $w_i$ 体积为 $v_i(i∈1$~$N)$，问怎么装在能使背包的总价值最大</p><img src="https://s1.vika.cn/space/2023/03/12/bc5ebe6ab01e4f5db6f8e891bfec7120" style="zoom:100%;" /><h3 id="1-1-01背包问题">1.1 01背包问题</h3><p>01背包问题：每件物品只有1个所以最多只能用1次</p><blockquote><p>有 $N$件物品和一个容量是 $V$ 的背包。每件物品只能使用一次。<br>第 i 件物品的体积是 $v_i$，价值是 $w_i$。<br>求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];    <span class="comment">//f(i, j)前i个物品且体积不超过j的最大价值</span></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> w[N], v[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(j &lt; v[i]) f[i][j] = f[i - <span class="number">1</span>][j]; <span class="comment">// 如果第i个物品塞不进背包</span></span><br><span class="line">            <span class="keyword">else</span> f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j], f[i - <span class="number">1</span>][j - v[i]] + w[i]); <span class="comment">// 决策：是装第i个物品的价值最大还是不装第i个物品的价值最大  </span></span><br><span class="line">            <span class="comment">//f[i - 1][j - v[i]] + w[i] 是同时减去第i个物品,最大的依旧是最大值</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>优化</strong></p><p>首先要提到一个==<strong>滚动数组</strong>==的概念。</p><p>一维数组：</p><p>比如斐波那契数列$f(n)=f(n-1)+f(n-2)$,一般我们可以拿一个一维数组来存，但我们可以发现当我们求一个斐波那契数时只需要知道他前面两个数即可无需知道所有，因此我们可以用来个变量来代替数组。</p><p>二维数组：</p><p>假设<code>dp[0][0] = 1</code></p><p><code>dp[i][j] = dp[i-1][j] + dp[i][j-1]</code>，我们可以看下表</p><table><thead><tr><th>1</th><th>1</th><th>1</th><th>1</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td></tr><tr><td>1</td><td></td><td></td><td></td></tr><tr><td>1</td><td></td><td></td><td></td></tr></tbody></table><p>我们现在从第3行开始计算1+2=3，此时2就不再需要了可以删掉，以此类推</p><p><img src="https://s1.vika.cn/space/2023/03/12/909010b5f4064f8188559be75b5453d1" alt=""></p><p>因此我们的二维数组可以优化为1维数组，这样就减少了空间复杂度。</p><p>通过观察我们发现<code>f[i][j] = max(f[i - 1][j], f[i - 1][j - v[i]] + w[i]);</code></p><p><code>f[i]</code>只需要计算<code>f[i-1]</code></p><p>将状态<code>f[i][j]</code>优化到一维<code>f[j]</code>，实际上只需要做一个等价变形。</p><p><code>f[j]</code>:有 $N$ 个物品，背包容量 $j$ 下的最优解。</p><p>先给出代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N];    </span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> w[N], v[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= v[i]; j --)&#123; <span class="comment">// 逆序</span></span><br><span class="line">            <span class="comment">// 优化前 if(j &lt; v[i]) f[i][j] = f[i - 1][j];  </span></span><br><span class="line">          <span class="comment">//  f[j] = f[j];            // 优化后，该行自动成立，可省略。</span></span><br><span class="line">       <span class="comment">// else    </span></span><br><span class="line">            <span class="comment">// 优化前 f[i][j] = max(f[i - 1][j], f[i - 1][j - v[i]] + w[i]);  </span></span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们的状态转移方程为<code>f[j] = max(f[j], f[j - v[i]] + w[i]);</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = v[i]; j &lt;= m; j ++)&#123;</span><br><span class="line">f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>j-v[i]</code>严格小于<code>j</code>的，且<code>j</code>是越来越大的，所以<code>j-v[i]</code>也越来越大，但<code>f[j-v[i]]</code>还是在<code>f[j]</code>之前先算出来的就是说<code>f[j-v[i]]</code>更新过了（按照循环顺序，小的先计算），所以此时的<code>f[j-v[i]]</code>是第 $i$ 层算出来的（即<code>f[i-1][j]</code>被更新成<code>f[i][j]</code>），那么<code>f[j] = max(f[j], f[j - v[i]] + w[i])</code>就成了<code>f[i][j] = max(f[i][j], f[i][j - v[i]] + w[i])</code>可正确的应该是<code> f[i - 1][j - v[i]]</code>(应为我们这一项算的是包含第i个物品的最大价值)。如果我们逆序的话，<code>j-v[i]</code>首先还是小于<code>j</code>,但我们这是逆序意思就是还没被更新过，存的就是上一层的<code>j-v[i]</code>，所以是现算<code>f[j]</code>后算<code>f[j-v[i]]</code>此时<code>f[j - v[i]]</code>等价于二维的<code>f[i - 1][j - v[i]</code></p><p><strong>第二种理解方式</strong></p><p>在二维情况下，状态<code>f[i][j]</code>是由上一轮 $i-1$ 的状态得来的，<code>f[i][j]</code>与<code>f[i - 1][j]</code>是独立的。而优化到一维后，如果我们还是正序，则有==f[较小体积]更新到f[较大体积]==，则有可能本应该用第$i-1$轮的状态却用的是第$i$轮的状态。</p><p>例如，一维状态第$i$轮对体积为 3 的物品进行决策，则<code>f[7]</code>由<code>f[4]</code>更新而来，这里的<code>f[4]</code>正确应该是<code>f[i - 1][4]</code>，但从小到大枚举$j$这里的<code>f[4]</code>在第i轮计算却变成了<code>f[i][4]</code>。当逆序枚举背包容量j时，我们求<code>f[7]</code>同样由<code>f[4]</code>更新，但由于是逆序，这里的<code>f[4]</code>还没有在第i轮计算，所以此时实际计算的<code>f[4]</code>仍然是<code>f[i - 1][4]</code>。</p><p>简单来说，一维情况正序更新状态f[j]需要用到前面计算的状态已经被「污染」，逆序则不会有这样的问题。</p><h3 id="1-2-完全背包问题">1.2 完全背包问题</h3><p>完全背包问题：每件物品有无限个且可用无限次</p><blockquote><p>有 $N$ 种物品和一个容量是 $V$ 的背包，每种物品都有无限件可用。</p><p>第 $i$ 种物品的体积是 $v_i$，价值是 $w_i$。</p><p>求解将哪些物品装入背包，可使这些物品的总体积不超过背包容量，且总价值最大。<br>输出最大价值。</p></blockquote><p>此时我们的$f(i,j)$可划分为</p><p><img src="https://s1.vika.cn/space/2023/03/12/5a6c5443e0a74e0a95d5b29bc3a06e6d" alt=""></p><p>因此状态转移方程为$f(i,j)=max(f(i-1,j),f(i-1,j-k<em>v[i])+k</em>w[i])$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> w[N], v[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k * v[i] &lt;= j; k ++)&#123;</span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - k * v[i]] + k * w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>优化一</strong></p><p>我们不妨把式子展开</p><p>$f(i,j)=max(f(i-1,j),f(i-1,j-v_i)+w_i,f(i-1,j-2v_i)+2w_i,…)$</p><p>$f(i,j-v_i)=max(f(i-1,j-v_i),f(i-1,j-2v_i)+w_i,…)$</p><p>由此可知$f(i,j-v_i)+w$等于$f(i,j)$后半段,最后得</p><p>$f(i,j)=max(f(i-1,j),f(i-1,j-v_i)+w)$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> w[N], v[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)&#123;</span><br><span class="line">                f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">                <span class="keyword">if</span>(j &gt;= v[i]) f[i][j] = <span class="built_in">max</span>(f[i][j], f[i][j-v[i]] + w[i]);</span><br><span class="line">                </span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>接着优化</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"><span class="type">int</span> w[N], v[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = v[i]; j &lt;= m; j ++)&#123;</span><br><span class="line">                <span class="comment">// f[j] = f[j];等价消去</span></span><br><span class="line">            <span class="comment">// if(j&gt;=v[i]) 我们可以直接让j从v[i]开始</span></span><br><span class="line">            <span class="comment">// f[i][j] = max(f[i][j], f[i][j-v[i]] + w[i]);</span></span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j-v[i]] + w[i]);</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">            右边的f[j]是上一行的f[j]已经更新了所以是f[i][j],且j-v[i] &lt; j所以f[j-v[i]]在f[j]之前就更新了所以是f[i][j-v[i]],符合上式</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">                </span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-3-多重背包问题">1.3 多重背包问题</h3><p>多重背包问题：每个物品数量为$s_i$个</p><blockquote><p>有 N 种物品和一个容量是 $V$ 的背包。</p><p>第 i 种物品最多有 $s_i$ 件，每件体积是 $v_i$，价值是 $w_i$ 。</p><p>求解将哪些物品装入背包，可使物品体积总和不超过背包容量，且价值总和最大。<br>输出最大价值。</p></blockquote><p>和完全背包问题可以一样的分析，这里就直接贴代码了</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> v[N], w[N], s[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; s[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt;= s[i] &amp;&amp; k * v[i] &lt;= j; k ++)&#123;</span><br><span class="line">                f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - v[i] * k] + w[i] * k);</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; f[n][m] &lt;&lt; endl; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>优化</strong></p><p>我们先来看看它是否能和完全背包问题一样进行优化。</p><p>状态转移方程$f[i][j] = max(f[i][j], f[i - 1][j - v[i] * k] + w[i] * k)$</p><p>$f[i][j] = max(f[i-1][j],f[i-1][j-v[i]]+w[i],f[i-1][j-2<em>v[i]]+2</em>w[i],…,f[i-1][j-s[i]*v[i]]+s[i]*w[i])$</p><p>$f[i][j-v[i]] = max(f[i-1][j-v[i]],f[i-1][j-2<em>v[i]]+w[i],f[i-1][j-3</em>v[i]]+2*w[i],…,f[i-1][j-(s[i]+1)*v[i]]+s[i]*w[i])$</p><p>我们发现不仅多了$w[i]$,更要命的是多了$f[i-1][j-(s[i]+1)*v[i]]+s[i]*w[i]$,所以我们不能要上面那样优化。</p><p><strong>二进制优化</strong></p><p>比如我有 $s=1023$ 个物品，其实我们不需要遍历所有，可以先分成几组，比如第一组有 $1$ 个物品，第二组  $2$ 个物品，第三组  $4$ 个物品，最后一组  $512$ 个物品，$1,2,4,8,16,…,512$，然后$1,2$ 组成 $0-3$ , $3$ 和 $4$ 可以组成 $0-7$ ，所以我们就把 $1023$ 个物品映射到了 $10$ 组当中。因为每个组只能选一次，我们就可以把问题看成 $01$ 背包问题</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">12010</span>, M = <span class="number">2010</span>;    <span class="comment">// N = 1000 * log2000</span></span><br><span class="line"><span class="type">int</span> f[M];</span><br><span class="line"><span class="type">int</span> v[N], w[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n; i ++)&#123;</span><br><span class="line">        <span class="type">int</span> a, b, s;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; s;</span><br><span class="line">        <span class="type">int</span> k = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(k &lt;= s)&#123;</span><br><span class="line">            cnt ++;</span><br><span class="line">            v[cnt] = a * k;</span><br><span class="line">            w[cnt] = b * k;</span><br><span class="line">            s -= k;</span><br><span class="line">            k *= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            cnt ++ ;</span><br><span class="line">            v[cnt] = a * s;</span><br><span class="line">            w[cnt] = b * s;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    n = cnt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= v[i]; j -- )</span><br><span class="line">            f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-4-分组背包问题">1.4 分组背包问题</h3><p>分组背包问题：有N组(比如水果组(苹果、橘子)，蔬菜组(小白菜、黄瓜))，每组物品有若干个，且每一组只能选一个物品。</p><p>完全背包问题是==<strong>第 $i$ 个</strong>物品选几个==</p><p>分组背包问题是==<strong>第 $i$ 组</strong>物品哪个==</p><p>状态计算：$f(i,j)$可以划分为第 i 个组选 0, 1, 2, …, n 个，第 i 组不选表示为 $f(i-1,j)$ ，选第 k 个表示为 $f(i-1,j-v[i,k])+w[i,k]$</p><blockquote><p>有 $N$ 组物品和一个容量是 $V$ 的背包。</p><p>每组物品有若干个，同一组内的物品最多只能选一个。<br>每件物品的体积是 $v_{ij}$，价值是 $w_{ij}$，其中 $i$ 是组号，$j$ 是组内编号。</p><p>求解将哪些物品装入背包，可使物品总体积不超过背包容量，且总价值最大。</p><p>输出最大价值。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"><span class="type">int</span> v[N][N], w[N][N], s[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        cin &gt;&gt; s[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; s[i]; k ++)&#123;</span><br><span class="line">            cin &gt;&gt; v[i][k] &gt;&gt; w[i][k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = m; j &gt;= <span class="number">0</span>; j --)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; s[i]; k ++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (v[i][k] &lt;= j) f[j] = <span class="built_in">max</span>(f[j], f[j - v[i][k]] + w[i][k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="2-线性DP">2. 线性DP</h2><h3 id="2-1-数字三角形">2.1 数字三角形</h3><blockquote><p>给定一个如下图所示的数字三角形，从顶部出发，在每一结点可以选择移动至其左下方的结点或移动至其右下方的结点，一直走到底层，要求找出一条路径，使路径上的数字的和最大。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     <span class="attribute">7</span></span><br><span class="line">   <span class="attribute">3</span>   <span class="number">8</span></span><br><span class="line"> <span class="attribute">8</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line"><span class="attribute">2</span>   <span class="number">7</span>   <span class="number">4</span>   <span class="number">4</span></span><br><span class="line"><span class="attribute">4</span>   <span class="number">5</span>   <span class="number">2</span>   <span class="number">6</span>   <span class="number">5</span></span><br></pre></td></tr></table></figure></blockquote><p><img src="https://s1.vika.cn/space/2023/03/12/389114b18e984b6f9d5c6ae2cd3c5301" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">510</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> a[N][N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= n; j ++)&#123;</span><br><span class="line">            f[i][j] = -INF;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    f[<span class="number">1</span>][<span class="number">1</span>] = a[<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++)&#123;</span><br><span class="line">            f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j - <span class="number">1</span>] + a[i][j], f[i - <span class="number">1</span>][j] + a[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="type">int</span> res = -INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) res = <span class="built_in">max</span>(res, f[n][i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-2-最长上升子序列">2.2 最长上升子序列</h3><blockquote><p>给定一个长度为 $N$ 的数列，求数值严格单调递增的子序列的长度最长是多少。</p></blockquote><p><img src="https://s1.vika.cn/space/2023/03/12/4a3427823c614c5c975adef4843ffd63" alt=""></p><p>其中 $f(i)$ 的划分，为 $0$ 时，也就是 $i$ 的最长子序列就是其本身长度 $1$ ，为 $1$ 时就是 $0$ ~ $i-1$ 的某个数的为倒数第二个 ，以此类推。</p><p>$f(i)=max(f(j)+1),a_j&lt;a_i,j=0,1,…,i-1$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        f[i] = <span class="number">1</span>;<span class="comment">// z</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j] &lt; a[i])&#123;</span><br><span class="line">                f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = -INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        res = <span class="built_in">max</span>(res, f[i]);</span><br><span class="line">        <span class="comment">//cout &lt;&lt; f[i] &lt;&lt; &quot; &quot;;</span></span><br><span class="line">    &#125; </span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>优化版本（贪心思想）</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> q[N]; <span class="comment">// 存放所有长度下 不同数字结尾的最长上升子序列的最小值</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>; <span class="comment">// 当前的最大长度</span></span><br><span class="line">    q[<span class="number">0</span>] = <span class="number">-2e9</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = len;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">            <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(q[mid] &lt; a[i]) l = mid;</span><br><span class="line">            <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        len = <span class="built_in">max</span>(len, r + <span class="number">1</span>);</span><br><span class="line">        q[r + <span class="number">1</span>] = a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, len);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-3-最长公共子序列">2.3 最长公共子序列</h3><blockquote><p>给定两个长度分别为 $N$ 和 $M$ 的字符串 $A$ 和 $B$，求既是 $A$ 的子序列又是 $B$ 的子序列的字符串长度最长是多少。</p></blockquote><p><img src="https://s1.vika.cn/space/2023/03/12/b39ea0113e124ab0afcd51955183eb59" alt=""></p><p>$f(0,0)$ 表示不包含第一序列的第i个字母和第二序列的第j个字母；$f(0,1)$ 表示不包含第一序列的第i个字母且包含第二序列的第j个字母；以此类推。</p><p>$f(0,0)$ 可以表示为 $f[i-1,j-1]$ ，$f(1,1)$ 可以表示为 $f[i-1,j-1]+1$ 。</p><p>中间两个不好表示，不能表示为 $f[i-1,j]$ 和 $f[i,j-1]$ ，这是包含上述两种情况的，但我们可以发现  $max(f[i-1,j])$ 肯定&gt;= 01，而我们要找到的是全局最大值， 因此我们可以用  $f[i-1,j]$ 代替。</p><p>$f(i,j)=max(f(i-1,j),f(i,j-1),f(i-1,j-1)+1)$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">char</span> f1[N], f2[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>, f1 + <span class="number">1</span>, f2 + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (f1[i] == f2[j]) f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-3-编辑距离">2.3 编辑距离</h3><blockquote><p>给定两个字符串 $A$ 和 $B$，现在要将 $A$ 经过若干操作变为 $B$，可进行的操作有：</p><ol><li>删除–将字符串 $A$ 中的某个字符删除。</li><li>插入–在字符串 $A$ 的某个位置插入某个字符。</li><li>替换–将字符串 $A$ 中的某个字符替换为另一个字符。</li></ol><p>现在请你求出，将 $A$ 变为 $B$ 至少需要进行多少次操作。</p></blockquote><p><img src="https://s1.vika.cn/space/2023/03/15/485569e4b31c49d28d4c5f5381da0fa1" alt=""></p><p>删除：a[1~i-1]和b[1~j]匹配，<code>f[i-1,j]+1</code> 其中1表示删除操作+1</p><p>增加：a[i]和b[j-1]已经匹配了，只要再加一个字母就完全匹配了，<code>f[i,j-1]+1</code></p><p>替换：a[i-1]和b[j-1]已经完全匹配了，把a最后一个字母改成b最后一个字母就完全匹配了，<code>f[i-1,j-1]+ (1 or 0)</code> 0 表示a和b不用修改就已经相等</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> a[N];</span><br><span class="line"><span class="type">char</span> b[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;n, a + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;m, b + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 初始化边界</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= m; i ++ ) f[<span class="number">0</span>][i] = i; <span class="comment">// 当a为空字符时，a和b匹配只有添加b长度的字符</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i ++ ) f[i][<span class="number">0</span>] = i; <span class="comment">// 当b为空字符时，a和b匹配只有删除a长度的字符</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j ++ )&#123;</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i<span class="number">-1</span>][j], f[i][j<span class="number">-1</span>]) + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[i] == b[j]) f[i][j] = <span class="built_in">min</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>]);</span><br><span class="line">            <span class="keyword">else</span> f[i][j] = <span class="built_in">min</span>(f[i][j], f[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>给定 <em>n</em>个长度不超过 1010 的字符串以及 <em>m</em> 次询问，每次询问给出一个字符串和一个操作次数上限。</p><p>对于每次询问，请你求出给定的 <em>n</em>个字符串中有多少个字符串可以在上限操作次数内经过操作变成询问给出的字符串。</p><p>每个对字符串进行的单个字符的插入、删除或替换算作一次操作。</p><p><strong>输入格式</strong></p><p>第一行包含两个整数 <em>n</em> 和 <em>m</em>。</p><p>接下来 <em>n</em>行，每行包含一个字符串，表示给定的字符串。</p><p>再接下来 m 行，每行包含一个字符串和一个整数，表示一次询问。</p><p>字符串中只包含小写字母，且长度均不超过 1010。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">15</span>, M = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"><span class="type">char</span> str[M][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">edit_distance</span><span class="params">(<span class="type">char</span> a[], <span class="type">char</span> b[])</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> la = <span class="built_in">strlen</span>(a + <span class="number">1</span>), lb = <span class="built_in">strlen</span>(b + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= lb; i ++ ) f[<span class="number">0</span>][i] = i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= la; i ++ ) f[i][<span class="number">0</span>] = i;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= la; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= lb; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i - <span class="number">1</span>][j] + <span class="number">1</span>, f[i][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + (a[i] != b[j]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> f[la][lb];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, str[i] + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> s[N];</span><br><span class="line">        <span class="type">int</span> limit;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%d&quot;</span>, s + <span class="number">1</span>, &amp;limit);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">edit_distance</span>(str[i], s) &lt;= limit)</span><br><span class="line">                res ++ ;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h2 id="3-区间DP">3. 区间DP</h2><p>状态表示是某一个区间</p><h3 id="3-1-石子合并">3.1 石子合并</h3><blockquote><p>设有 N 堆石子排成一排，其编号为 $1，2，3，…，N$。</p><p>每堆石子有一定的质量，可以用一个整数来描述，现在要将这 N 堆石子合并成为一堆。</p><p>每次只能合并相邻的两堆，合并的代价为这两堆石子的质量之和，合并后与这两堆石子相邻的石子将和新堆相邻，合并时由于选择的顺序不同，合并的总代价也不相同。</p><p>例如有 $4$ 堆石子分别为 <code>1 3 5 2</code>， 我们可以先合并 $1、2$ 堆，代价为 $4$，得到 <code>4 5 2</code>， 又合并 1，2 堆，代价为 9，得到 <code>9 2</code> ，再合并得到 1，总代价为 $4+9+11=24$；</p><p>如果第二步是先合并 2，3堆，则代价为 7，得到 <code>4 7</code>，最后一次合并代价为 11，总代价为 4+7+11=22。</p><p>问题是：找出一种合理的方法，使总的代价最小，输出最小代价。</p></blockquote><p><img src="https://s1.vika.cn/space/2023/03/12/db1fbdde91e443f3b660bfdc8203d154" alt=""></p><p>合并第i堆和第j堆肯定是要合并两个相邻堆，因此我们可以分为左堆1个右堆k-1个或者左堆2个右堆k-2个（其中 k = j - i + 1），以此类推。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">409</span>, INF = <span class="number">1e9</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, x[N], f[N][N], a[N];</span><br><span class="line"><span class="type">int</span> Min = INF;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios :: <span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);<span class="comment">//读入优化 </span></span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);<span class="comment">//读入优化 </span></span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++ i)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; x[i];<span class="comment">//输入石子个数</span></span><br><span class="line">        a[i] = a[i - <span class="number">1</span>] + x[i];<span class="comment">//前缀和 </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len = <span class="number">1</span>;len &lt; n;++ len)<span class="comment">//枚举len</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>, j;i &lt;= n - len;++ i)<span class="comment">//枚举左端点</span></span><br><span class="line">        &#123;</span><br><span class="line">            j = i + len;<span class="comment">//计算右端点</span></span><br><span class="line">            f[i][j] = INF;<span class="comment">//初始化f[i][j]</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = i;k &lt; j;++ k)<span class="comment">//枚举k</span></span><br><span class="line">                f[i][j] = <span class="built_in">min</span>(f[i][j], f[i][k] + f[k + <span class="number">1</span>][j] + a[j] - a[i - <span class="number">1</span>]);<span class="comment">//直接计算</span></span><br><span class="line">            <span class="keyword">if</span>(len == n - <span class="number">1</span>) Min = <span class="built_in">min</span>(Min, f[i][j]);<span class="comment">//计算答案</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span>(Min != INF) cout &lt;&lt; Min &lt;&lt; endl;<span class="comment">//输出</span></span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;<span class="comment">//注意特判没有合并的情况</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="4-计数类DP">4. 计数类DP</h2><blockquote><p>一个正整数 n 可以表示成若干个正整数之和，形如：$n=n_1+n_2+…+n_k，$其中 $ n_1≥n_2≥…≥n_k,k≥1$。</p><p>我们将这样的一种表示称为正整数 n的一种划分。</p><p>现在给定一个正整数 n，请你求出 n共有多少种不同的划分方法。 不考虑数字的顺序  比如 4= 1 + 2 + 1 = 1+1+2 是一样的</p><p>由于答案可能很大，输出结果请对 $10^9+7 $取模。</p></blockquote><p>可以把这道题看出一个完全背包问题，其中 <em>n</em> 当成一个体积为 <em>n</em> 的背包，里面装的物品的体积是 <em>1~n</em></p><p><img src="https://s1.vika.cn/space/2023/03/15/a407a7a689fc49faad4f0ea903f93e69" alt=""></p><p>选 0 个 <code>f[i-1,j]</code>，选 k 个<code>f[i-1, j - k*i]</code></p><p><code>f[i][j] = f[i - 1][j] + f[i][j - i]</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>, mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt;= n; j ++ )</span><br><span class="line">            f[j] = (f[j] + f[j - i]) % mod;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; f[n] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另一种想法</p><p><img src="https://s1.vika.cn/space/2023/03/17/8fa283ff70f64960a1fe8366ea526bb4" alt=""></p><p>其中最小值大于1的情况是，首先j个数都是大于1的，当同时减去1时，j个数依旧是大于等于1的，因此可以等价于<code>f[i-j,j]</code></p><p><code>f[i,j]=f[i-1,j-1]+f[i-j,j]</code> 且 <code>ans = f[n,1]+f[n,2]+...+f[n,n]</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1010</span>, mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> f[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    f[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++ )</span><br><span class="line">            f[i][j] = (f[i - <span class="number">1</span>][j - <span class="number">1</span>] + f[i - j][j]) % mod;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) res = (res + f[n][i]) % mod;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="5-数位统计DP">5. 数位统计DP</h2><hr><h2 id="6-状态压缩DP">6. 状态压缩DP</h2><hr><h2 id="7-树形DP">7. 树形DP</h2><hr><h2 id="8-记忆化搜索">8. 记忆化搜索</h2><hr>]]></content>
    
    
    <summary type="html">🥧本文汇总动态规划的常见题型</summary>
    
    
    
    <category term="算法" scheme="https://yanhool.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="c++" scheme="https://yanhool.github.io/tags/c/"/>
    
    <category term="算法" scheme="https://yanhool.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
